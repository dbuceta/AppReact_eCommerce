/*! For license information please see main.6a1adbd3.js.LICENSE.txt */
!function(){var e={228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},646:function(e,t,n){var r=n(228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},842:function(e,t,n){var r=n(754),i=n(67),a=n(585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},525:function(e,t,n){var r=n(331);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},205:function(e,t,n){var r=n(489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},67:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},109:function(e,t,n){var r=n(713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},585:function(e,t,n){var r=n(8).default,i=n(506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},38:function(e,t,n){var r=n(858),i=n(884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},331:function(e,t,n){var r=n(754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(646),i=n(860),a=n(379),o=n(206);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(727)},371:function(e,t,n){var r=n(525).default,i=n(754).default,a=n(109).default,o=n(319).default,s=n(205).default,u=n(842).default,c=n(575).default,l=n(913).default,f=n(38).default;e.exports=function(){"use strict";var e="transitionend",t=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},n=function(e){var n=t(e);return n&&document.querySelector(n)?n:null},h=function(e){var n=t(e);return n?document.querySelector(n):null},d=function(t){t.dispatchEvent(new Event(e))},p=function(e){return!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType)},v=function(e){return p(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null},m=function(e,t,n){Object.keys(n).forEach((function(r){var i,a=n[r],o=t[r],s=o&&p(o)?"element":null==(i=o)?"".concat(i):{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(s))throw new TypeError("".concat(e.toUpperCase(),': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(a,'".'))}))},y=function(e){return!(!p(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility")},g=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))},k=function e(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},b=function(){},w=function(e){e.offsetHeight},_=function(){var e=window.jQuery;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},x=[],E=function(){return"rtl"===document.documentElement.dir},S=function(e){var t;t=function(){var t=_();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(x.length||document.addEventListener("DOMContentLoaded",(function(){x.forEach((function(e){return e()}))})),x.push(t)):t()},T=function(e){"function"==typeof e&&e()},I=function(t,n){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])T(t);else{var r=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(n)+5,i=!1,a=function r(a){a.target===n&&(i=!0,n.removeEventListener(e,r),T(t))};n.addEventListener(e,a),setTimeout((function(){i||d(n)}),r)}},C=function(e,t,n,r){var i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];var a=e.length;return i+=n?1:-1,r&&(i=(i+a)%a),e[Math.max(0,Math.min(i,a-1))]},A=/[^.]*(?=\..*)\.|.*/,N=/\..*/,P=/::\d+$/,D={},R=1,O={mouseenter:"mouseover",mouseleave:"mouseout"},L=/^(mouseenter|mouseleave)/i,M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(e,t){return t&&"".concat(t,"::").concat(R++)||e.uidEvent||R++}function V(e){var t=F(e);return e.uidEvent=t,D[t]=D[t]||{},D[t]}function j(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(e),i=0,a=r.length;i<a;i++){var o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function U(e,t,n){var r="string"==typeof t,i=r?n:t,a=q(e);return M.has(a)||(a=e),[r,i,a]}function B(e,t,n,r,i){if("string"==typeof t&&e){if(n||(n=r,r=null),L.test(t)){var a=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};r?r=a(r):n=a(n)}var o=U(t,n,r),s=f(o,3),u=s[0],c=s[1],l=s[2],h=V(e),d=h[l]||(h[l]={}),p=j(d,c,u?n:null);if(p)p.oneOff=p.oneOff&&i;else{var v=F(c,t.replace(A,"")),m=u?function(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode)for(var s=a.length;s--;)if(a[s]===o)return i.delegateTarget=o,r.oneOff&&W.off(e,i.type,t,n),n.apply(o,[i]);return null}}(e,n,r):function(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&W.off(e,r.type,t),t.apply(e,[r])}}(e,n);m.delegationSelector=u?n:null,m.originalHandler=c,m.oneOff=i,m.uidEvent=v,d[v]=m,e.addEventListener(l,m,u)}}}function z(e,t,n,r,i){var a=j(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function q(e){return e=e.replace(N,""),O[e]||e}var W={on:function(e,t,n,r){B(e,t,n,r,!1)},one:function(e,t,n,r){B(e,t,n,r,!0)},off:function(e,t,n,r){if("string"==typeof t&&e){var i=U(t,n,r),a=f(i,3),o=a[0],s=a[1],u=a[2],c=u!==t,l=V(e),h=t.startsWith(".");if(void 0===s){h&&Object.keys(l).forEach((function(n){!function(e,t,n,r){var i=t[n]||{};Object.keys(i).forEach((function(a){if(a.includes(r)){var o=i[a];z(e,t,n,o.originalHandler,o.delegationSelector)}}))}(e,l,n,t.slice(1))}));var d=l[u]||{};Object.keys(d).forEach((function(n){var r=n.replace(P,"");if(!c||t.includes(r)){var i=d[n];z(e,l,u,i.originalHandler,i.delegationSelector)}}))}else{if(!l||!l[u])return;z(e,l,u,s,o?n:null)}}},trigger:function(e,t,n){if("string"!=typeof t||!e)return null;var r,i=_(),a=q(t),o=t!==a,s=M.has(a),u=!0,c=!0,l=!1,f=null;return o&&i&&(r=i.Event(t,n),i(e).trigger(r),u=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented()),s?(f=document.createEvent("HTMLEvents")).initEvent(a,u,!0):f=new CustomEvent(t,{bubbles:u,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((function(e){Object.defineProperty(f,e,{get:function(){return n[e]}})})),l&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&void 0!==r&&r.preventDefault(),f}},H=new Map,K={set:function(e,t,n){H.has(e)||H.set(e,new Map);var r=H.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return H.has(e)&&H.get(e).get(t)||null},remove:function(e,t){if(H.has(e)){var n=H.get(e);n.delete(t),0===n.size&&H.delete(e)}}},G=function(){function e(t){c(this,e),(t=v(t))&&(this._element=t,K.set(this._element,this.constructor.DATA_KEY,this))}return l(e,[{key:"dispose",value:function(){var e=this;K.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(t){e[t]=null}))}},{key:"_queueCallback",value:function(e,t){I(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}}],[{key:"getInstance",value:function(e){return K.get(v(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),e}(),Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;W.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!g(this)){var i=h(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}}))},Y=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"close",value:function(){var e=this;if(!W.trigger(this._element,"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback((function(){return e._destroyElement()}),this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),W.trigger(this._element,"closed.bs.alert"),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(G);Q(Y,"close"),S(Y);var X='[data-bs-toggle="button"]',$=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(G);function J(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function Z(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}W.on(document,"click.bs.button.data-api",X,(function(e){e.preventDefault();var t=e.target.closest(X);$.getOrCreateInstance(t).toggle()})),S($);var ee={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(Z(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(Z(t)))},getDataAttributes:function(e){if(!e)return{};var t={};return Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=J(e.dataset[n])})),t},getDataAttribute:function(e,t){return J(e.getAttribute("data-bs-".concat(Z(t))))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}},te={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,o(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,o(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(", ");return this.find(t,e).filter((function(e){return!g(e)&&y(e)}))}},ne="carousel",re={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ie={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ae="next",oe="prev",se="left",ue="right",ce={ArrowLeft:ue,ArrowRight:se},le="slid.bs.carousel",fe="active",he=".active.carousel-item",de=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=te.findOne(".carousel-indicators",i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return l(n,[{key:"next",value:function(){this._slide(ae)}},{key:"nextWhenVisible",value:function(){!document.hidden&&y(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(oe)}},{key:"pause",value:function(e){e||(this._isPaused=!0),te.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(d(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=te.findOne(he,this._element);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)W.one(this._element,le,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var r=e>n?ae:oe;this._slide(r,this._items[e])}}},{key:"_getConfig",value:function(e){return e=a(a(a({},re),ee.getDataAttributes(this._element)),"object"==typeof e?e:{}),m(ne,e,ie),e}},{key:"_handleSwipe",value:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?ue:se)}}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&W.on(this._element,"keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(W.on(this._element,"mouseenter.bs.carousel",(function(t){return e.pause(t)})),W.on(this._element,"mouseleave.bs.carousel",(function(t){return e.cycle(t)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e=this,t=function(t){return e._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType)},n=function(n){t(n)?e.touchStartX=n.clientX:e._pointerEvent||(e.touchStartX=n.touches[0].clientX)},r=function(t){e.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-e.touchStartX},i=function(n){t(n)&&(e.touchDeltaX=n.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};te.find(".carousel-item img",this._element).forEach((function(e){W.on(e,"dragstart.bs.carousel",(function(e){return e.preventDefault()}))})),this._pointerEvent?(W.on(this._element,"pointerdown.bs.carousel",(function(e){return n(e)})),W.on(this._element,"pointerup.bs.carousel",(function(e){return i(e)})),this._element.classList.add("pointer-event")):(W.on(this._element,"touchstart.bs.carousel",(function(e){return n(e)})),W.on(this._element,"touchmove.bs.carousel",(function(e){return r(e)})),W.on(this._element,"touchend.bs.carousel",(function(e){return i(e)})))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=ce[e.key];t&&(e.preventDefault(),this._slide(t))}}},{key:"_getItemIndex",value:function(e){return this._items=e&&e.parentNode?te.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}},{key:"_getItemByOrder",value:function(e,t){var n=e===ae;return C(this._items,t,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(te.findOne(he,this._element));return W.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=te.findOne(".active",this._indicatorsElement);t.classList.remove(fe),t.removeAttribute("aria-current");for(var n=te.find("[data-bs-target]",this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[r].classList.add(fe),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var e=this._activeElement||te.findOne(he,this._element);if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(e,t){var n=this,r=this._directionToOrder(e),i=te.findOne(he,this._element),a=this._getItemIndex(i),o=t||this._getItemByOrder(r,i),s=this._getItemIndex(o),u=Boolean(this._interval),c=r===ae,l=c?"carousel-item-start":"carousel-item-end",f=c?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(r);if(o&&o.classList.contains(fe))this._isSliding=!1;else if(!this._isSliding&&!this._triggerSlideEvent(o,h).defaultPrevented&&i&&o){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;var d=function(){W.trigger(n._element,le,{relatedTarget:o,direction:h,from:a,to:s})};if(this._element.classList.contains("slide")){o.classList.add(f),w(o),i.classList.add(l),o.classList.add(l);var p=function(){o.classList.remove(l,f),o.classList.add(fe),i.classList.remove(fe,f,l),n._isSliding=!1,setTimeout(d,0)};this._queueCallback(p,i,!0)}else i.classList.remove(fe),o.classList.add(fe),this._isSliding=!1,d();u&&this.cycle()}}},{key:"_directionToOrder",value:function(e){return[ue,se].includes(e)?E()?e===se?oe:ae:e===se?ae:oe:e}},{key:"_orderToDirection",value:function(e){return[ae,oe].includes(e)?E()?e===oe?se:ue:e===oe?ue:se:e}}],[{key:"Default",get:function(){return re}},{key:"NAME",get:function(){return ne}},{key:"carouselInterface",value:function(e,t){var r=n.getOrCreateInstance(e,t),i=r._config;"object"==typeof t&&(i=a(a({},i),t));var o="string"==typeof t?t:i.slide;if("number"==typeof t)r.to(t);else if("string"==typeof o){if(void 0===r[o])throw new TypeError('No method named "'.concat(o,'"'));r[o]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(e){return this.each((function(){n.carouselInterface(this,e)}))}},{key:"dataApiClickHandler",value:function(e){var t=h(this);if(t&&t.classList.contains("carousel")){var r=a(a({},ee.getDataAttributes(t)),ee.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(t,r),i&&n.getInstance(t).to(i),e.preventDefault()}}}]),n}(G);W.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",de.dataApiClickHandler),W.on(window,"load.bs.carousel.data-api",(function(){for(var e=te.find('[data-bs-ride="carousel"]'),t=0,n=e.length;t<n;t++)de.carouselInterface(e[t],de.getInstance(e[t]))})),S(de);var pe="collapse",ve={toggle:!0,parent:null},me={toggle:"boolean",parent:"(null|element)"},ye="show",ge="collapse",ke="collapsing",be="collapsed",we=":scope .collapse .collapse",_e='[data-bs-toggle="collapse"]',xe=function(e){s(r,e);var t=u(r);function r(e,i){var a;c(this,r),(a=t.call(this,e))._isTransitioning=!1,a._config=a._getConfig(i),a._triggerArray=[];for(var o=te.find(_e),s=0,u=o.length;s<u;s++){var l=o[s],f=n(l),h=te.find(f).filter((function(e){return e===a._element}));null!==f&&h.length&&(a._selector=f,a._triggerArray.push(l))}return a._initializeChildren(),a._config.parent||a._addAriaAndCollapsedClass(a._triggerArray,a._isShown()),a._config.toggle&&a.toggle(),a}return l(r,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t,n=[];if(this._config.parent){var i=te.find(we,this._config.parent);n=te.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((function(e){return!i.includes(e)}))}var a=te.findOne(this._selector);if(n.length){var o=n.find((function(e){return a!==e}));if((t=o?r.getInstance(o):null)&&t._isTransitioning)return}if(!W.trigger(this._element,"show.bs.collapse").defaultPrevented){n.forEach((function(e){a!==e&&r.getOrCreateInstance(e,{toggle:!1}).hide(),t||K.set(e,"bs.collapse",null)}));var s=this._getDimension();this._element.classList.remove(ge),this._element.classList.add(ke),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var u="scroll".concat(s[0].toUpperCase()+s.slice(1));this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(ke),e._element.classList.add(ge,ye),e._element.style[s]="",W.trigger(e._element,"shown.bs.collapse")}),this._element,!0),this._element.style[s]="".concat(this._element[u],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!W.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),w(this._element),this._element.classList.add(ke),this._element.classList.remove(ge,ye);for(var n=this._triggerArray.length,r=0;r<n;r++){var i=this._triggerArray[r],a=h(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(ke),e._element.classList.add(ge),W.trigger(e._element,"hidden.bs.collapse")}),this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(ye)}},{key:"_getConfig",value:function(e){return(e=a(a(a({},ve),ee.getDataAttributes(this._element)),e)).toggle=Boolean(e.toggle),e.parent=v(e.parent),m(pe,e,me),e}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var e=this;if(this._config.parent){var t=te.find(we,this._config.parent);te.find(_e,this._config.parent).filter((function(e){return!t.includes(e)})).forEach((function(t){var n=h(t);n&&e._addAriaAndCollapsedClass([t],e._isShown(n))}))}}},{key:"_addAriaAndCollapsedClass",value:function(e,t){e.length&&e.forEach((function(e){t?e.classList.remove(be):e.classList.add(be),e.setAttribute("aria-expanded",t)}))}}],[{key:"Default",get:function(){return ve}},{key:"NAME",get:function(){return pe}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t={};"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1);var n=r.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e]()}}))}}]),r}(G);W.on(document,"click.bs.collapse.data-api",_e,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t=n(this);te.find(t).forEach((function(e){xe.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),S(xe);var Ee="top",Se="bottom",Te="right",Ie="left",Ce="auto",Ae=[Ee,Se,Te,Ie],Ne="start",Pe="end",De="clippingParents",Re="viewport",Oe="popper",Le="reference",Me=Ae.reduce((function(e,t){return e.concat([t+"-"+Ne,t+"-"+Pe])}),[]),Fe=[].concat(Ae,[Ce]).reduce((function(e,t){return e.concat([t,t+"-"+Ne,t+"-"+Pe])}),[]),Ve="beforeRead",je="read",Ue="afterRead",Be="beforeMain",ze="main",qe="afterMain",We="beforeWrite",He="write",Ke="afterWrite",Ge=[Ve,je,Ue,Be,ze,qe,We,He,Ke];function Qe(e){return e?(e.nodeName||"").toLowerCase():null}function Ye(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xe(e){return e instanceof Ye(e).Element||e instanceof Element}function $e(e){return e instanceof Ye(e).HTMLElement||e instanceof HTMLElement}function Je(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ye(e).ShadowRoot||e instanceof ShadowRoot)}var Ze={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];$e(i)&&Qe(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});$e(r)&&Qe(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function et(e){return e.split("-")[0]}function tt(e,t){var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function nt(e){var t=tt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Je(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function it(e){return Ye(e).getComputedStyle(e)}function at(e){return["table","td","th"].indexOf(Qe(e))>=0}function ot(e){return((Xe(e)?e.ownerDocument:e.document)||window.document).documentElement}function st(e){return"html"===Qe(e)?e:e.assignedSlot||e.parentNode||(Je(e)?e.host:null)||ot(e)}function ut(e){return $e(e)&&"fixed"!==it(e).position?e.offsetParent:null}function ct(e){for(var t=Ye(e),n=ut(e);n&&at(n)&&"static"===it(n).position;)n=ut(n);return n&&("html"===Qe(n)||"body"===Qe(n)&&"static"===it(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&$e(e)&&"fixed"===it(e).position)return null;for(var n=st(e);$e(n)&&["html","body"].indexOf(Qe(n))<0;){var r=it(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function lt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var ft=Math.max,ht=Math.min,dt=Math.round;function pt(e,t,n){return ft(e,ht(t,n))}function vt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function mt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var yt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=et(n.placement),u=lt(s),c=[Ie,Te].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return vt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:mt(e,Ae))}(i.padding,n),f=nt(a),h="y"===u?Ee:Ie,d="y"===u?Se:Te,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=ct(a),y=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,_=pt(k,w,b),x=u;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&rt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gt(e){return e.split("-")[1]}var kt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bt(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:dt(dt(t*r)/r)||0,y:dt(dt(n*r)/r)||0}}(o):"function"==typeof l?l(o):o,h=f.x,d=void 0===h?0:h,p=f.y,v=void 0===p?0:p,m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),g=Ie,k=Ee,b=window;if(c){var w=ct(n),_="clientHeight",x="clientWidth";w===Ye(n)&&"static"!==it(w=ot(n)).position&&"absolute"===s&&(_="scrollHeight",x="scrollWidth"),i!==Ee&&(i!==Ie&&i!==Te||a!==Pe)||(k=Se,v-=w[_]-r.height,v*=u?1:-1),i!==Ie&&(i!==Ee&&i!==Se||a!==Pe)||(g=Te,d-=w[x]-r.width,d*=u?1:-1)}var E,S=Object.assign({position:s},c&&kt);return u?Object.assign({},S,((E={})[k]=y?"0":"",E[g]=m?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",E)):Object.assign({},S,((t={})[k]=y?v+"px":"",t[g]=m?d+"px":"",t.transform="",t))}var wt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:et(t.placement),variation:gt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},_t={passive:!0},xt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Ye(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,_t)})),s&&u.addEventListener("resize",n.update,_t),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,_t)})),s&&u.removeEventListener("resize",n.update,_t)}},data:{}},Et={left:"right",right:"left",bottom:"top",top:"bottom"};function St(e){return e.replace(/left|right|bottom|top/g,(function(e){return Et[e]}))}var Tt={start:"end",end:"start"};function It(e){return e.replace(/start|end/g,(function(e){return Tt[e]}))}function Ct(e){var t=Ye(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function At(e){return tt(ot(e)).left+Ct(e).scrollLeft}function Nt(e){var t=it(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Pt(e){return["html","body","#document"].indexOf(Qe(e))>=0?e.ownerDocument.body:$e(e)&&Nt(e)?e:Pt(st(e))}function Dt(e,t){var n;void 0===t&&(t=[]);var r=Pt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Ye(r),o=i?[a].concat(a.visualViewport||[],Nt(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Dt(st(o)))}function Rt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ot(e,t){return t===Re?Rt(function(e){var t=Ye(e),n=ot(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+At(e),y:s}}(e)):$e(t)?function(e){var t=tt(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Rt(function(e){var t,n=ot(e),r=Ct(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=ft(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ft(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+At(e),u=-r.scrollTop;return"rtl"===it(i||n).direction&&(s+=ft(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(ot(e)))}function Lt(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?et(i):null,o=i?gt(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case Ee:t={x:s,y:n.y-r.height};break;case Se:t={x:s,y:n.y+n.height};break;case Te:t={x:n.x+n.width,y:u};break;case Ie:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?lt(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Ne:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Pe:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Mt(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?De:a,s=n.rootBoundary,u=void 0===s?Re:s,c=n.elementContext,l=void 0===c?Oe:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=vt("number"!=typeof p?p:mt(p,Ae)),m=l===Oe?Le:Oe,y=e.rects.popper,g=e.elements[h?m:l],k=function(e,t,n){var r="clippingParents"===t?function(e){var t=Dt(st(e)),n=["absolute","fixed"].indexOf(it(e).position)>=0&&$e(e)?ct(e):e;return Xe(n)?t.filter((function(e){return Xe(e)&&rt(e,n)&&"body"!==Qe(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Ot(e,n);return t.top=ft(r.top,t.top),t.right=ht(r.right,t.right),t.bottom=ht(r.bottom,t.bottom),t.left=ft(r.left,t.left),t}),Ot(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(Xe(g)?g:g.contextElement||ot(e.elements.popper),o,u),b=tt(e.elements.reference),w=Lt({reference:b,element:y,strategy:"absolute",placement:i}),_=Rt(Object.assign({},y,w)),x=l===Oe?_:b,E={top:k.top-x.top+v.top,bottom:x.bottom-k.bottom+v.bottom,left:k.left-x.left+v.left,right:x.right-k.right+v.right},S=e.modifiersData.offset;if(l===Oe&&S){var T=S[i];Object.keys(E).forEach((function(e){var t=[Te,Se].indexOf(e)>=0?1:-1,n=[Ee,Se].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}function Ft(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Fe:u,l=gt(r),f=l?s?Me:Me.filter((function(e){return gt(e)===l})):Ae,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Mt(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[et(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}var Vt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=et(m),g=u||(y!==m&&p?function(e){if(et(e)===Ce)return[];var t=St(e);return[It(e),t,It(t)]}(m):[St(m)]),k=[m].concat(g).reduce((function(e,n){return e.concat(et(n)===Ce?Ft(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,_=new Map,x=!0,E=k[0],S=0;S<k.length;S++){var T=k[S],I=et(T),C=gt(T)===Ne,A=[Ee,Se].indexOf(I)>=0,N=A?"width":"height",P=Mt(t,{placement:T,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=A?C?Te:Ie:C?Se:Ee;b[N]>w[N]&&(D=St(D));var R=St(D),O=[];if(a&&O.push(P[I]<=0),s&&O.push(P[D]<=0,P[R]<=0),O.every((function(e){return e}))){E=T,x=!1;break}_.set(T,O)}if(x)for(var L=function(e){var t=k.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0&&"break"!==L(M);M--);t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function jt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ut(e){return[Ee,Te,Se,Ie].some((function(t){return e[t]>=0}))}var Bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Mt(t,{elementContext:"reference"}),s=Mt(t,{altBoundary:!0}),u=jt(o,r),c=jt(s,i,a),l=Ut(u),f=Ut(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},zt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Fe.reduce((function(e,n){return e[n]=function(e,t,n){var r=et(e),i=[Ie,Ee].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Ie,Te].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},qt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Lt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Wt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Mt(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),y=et(t.placement),g=gt(t.placement),k=!g,b=lt(y),w="x"===b?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,S="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T={x:0,y:0};if(_){if(a||s){var I="y"===b?Ee:Ie,C="y"===b?Se:Te,A="y"===b?"height":"width",N=_[b],P=_[b]+m[I],D=_[b]-m[C],R=d?-E[A]/2:0,O=g===Ne?x[A]:E[A],L=g===Ne?-E[A]:-x[A],M=t.elements.arrow,F=d&&M?nt(M):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=V[I],U=V[C],B=pt(0,x[A],F[A]),z=k?x[A]/2-R-B-j-S:O-B-j-S,q=k?-x[A]/2+R+B+U+S:L+B+U+S,W=t.elements.arrow&&ct(t.elements.arrow),H=W?"y"===b?W.clientTop||0:W.clientLeft||0:0,K=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,G=_[b]+z-K-H,Q=_[b]+q-K;if(a){var Y=pt(d?ht(P,G):P,N,d?ft(D,Q):D);_[b]=Y,T[b]=Y-N}if(s){var X="x"===b?Ee:Ie,$="x"===b?Se:Te,J=_[w],Z=J+m[X],ee=J-m[$],te=pt(d?ht(Z,G):Z,J,d?ft(ee,Q):ee);_[w]=te,T[w]=te-J}}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function Ht(e,t,n){void 0===n&&(n=!1);var r=$e(t);$e(t)&&function(e){var t=e.getBoundingClientRect();t.width,e.offsetWidth,t.height,e.offsetHeight}(t);var i,a,o=ot(t),s=tt(e),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==Qe(t)||Nt(o))&&(u=(i=t)!==Ye(i)&&$e(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:Ct(i)),$e(t)?((c=tt(t)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=At(o))),{x:s.left+u.scrollLeft-c.x,y:s.top+u.scrollTop-c.y,width:s.width,height:s.height}}function Kt(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var Gt={placement:"bottom",modifiers:[],strategy:"absolute"};function Qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Yt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Gt:i;return function(e,t,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gt,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],c=!1,l={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:Xe(e)?Dt(e):e.contextElement?Dt(e.contextElement):[],popper:Dt(t)};var o,c,h=function(e){var t=Kt(e);return Ge.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),c=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=h.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var a=i({state:s,name:t,instance:l,options:r});u.push(a||function(){})}})),l.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Qt(t,n)){s.rects={reference:Ht(t,ct(n),"fixed"===s.options.strategy),popper:nt(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,o=i.options,u=void 0===o?{}:o,f=i.name;"function"==typeof a&&(s=a({state:s,options:u,name:f,instance:l})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){l.forceUpdate(),e(s)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(i())}))}))),o}),destroy:function(){f(),c=!0}};if(!Qt(e,t))return l;function f(){u.forEach((function(e){return e()})),u=[]}return l.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Xt=Yt(),$t=Yt({defaultModifiers:[xt,qt,wt,Ze]}),Jt=Yt({defaultModifiers:[xt,qt,wt,Ze,zt,Vt,Wt,yt,Bt]}),Zt=Object.freeze({__proto__:null,popperGenerator:Yt,detectOverflow:Mt,createPopperBase:Xt,createPopper:Jt,createPopperLite:$t,top:Ee,bottom:Se,right:Te,left:Ie,auto:Ce,basePlacements:Ae,start:Ne,end:Pe,clippingParents:De,viewport:Re,popper:Oe,reference:Le,variationPlacements:Me,placements:Fe,beforeRead:Ve,read:je,afterRead:Ue,beforeMain:Be,main:ze,afterMain:qe,beforeWrite:We,write:He,afterWrite:Ke,modifierPhases:Ge,applyStyles:Ze,arrow:yt,computeStyles:wt,eventListeners:xt,flip:Vt,hide:Bt,offset:zt,popperOffsets:qt,preventOverflow:Wt}),en="dropdown",tn="Escape",nn="Space",rn="ArrowUp",an="ArrowDown",on=new RegExp("ArrowUp|ArrowDown|Escape"),sn="click.bs.dropdown.data-api",un="keydown.bs.dropdown.data-api",cn="show",ln='[data-bs-toggle="dropdown"]',fn=".dropdown-menu",hn=E()?"top-end":"top-start",dn=E()?"top-start":"top-end",pn=E()?"bottom-end":"bottom-start",vn=E()?"bottom-start":"bottom-end",mn=E()?"left-start":"right-start",yn=E()?"right-start":"left-start",gn={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},kn={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},bn=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._popper=null,i._config=i._getConfig(r),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return l(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e;if(!g(this._element)&&!this._isShown(this._menu)){var t={relatedTarget:this._element};if(!W.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){var r=n.getParentFromElement(this._element);this._inNavbar?ee.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav")&&(e=[]).concat.apply(e,o(document.body.children)).forEach((function(e){return W.on(e,"mouseover",b)})),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(cn),this._element.classList.add(cn),W.trigger(this._element,"shown.bs.dropdown",t)}}}},{key:"hide",value:function(){if(!g(this._element)&&this._isShown(this._menu)){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),r(i(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){var t;W.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented||("ontouchstart"in document.documentElement&&(t=[]).concat.apply(t,o(document.body.children)).forEach((function(e){return W.off(e,"mouseover",b)})),this._popper&&this._popper.destroy(),this._menu.classList.remove(cn),this._element.classList.remove(cn),this._element.setAttribute("aria-expanded","false"),ee.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,"hidden.bs.dropdown",e))}},{key:"_getConfig",value:function(e){if(e=a(a(a({},this.constructor.Default),ee.getDataAttributes(this._element)),e),m(en,e,this.constructor.DefaultType),"object"==typeof e.reference&&!p(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(en.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(e){if(void 0===Zt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var t=this._element;"parent"===this._config.reference?t=e:p(this._config.reference)?t=v(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);var n=this._getPopperConfig(),r=n.modifiers.find((function(e){return"applyStyles"===e.name&&!1===e.enabled}));this._popper=Jt(t,this._menu,n),r&&ee.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(cn)}},{key:"_getMenuElement",value:function(){return te.next(this._element,fn)[0]}},{key:"_getPlacement",value:function(){var e=this._element.parentNode;if(e.classList.contains("dropend"))return mn;if(e.classList.contains("dropstart"))return yn;var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?dn:hn:t?vn:pn}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".navbar")}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),a(a({},e),"function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=te.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(y);r.length&&C(r,n,t===an,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return gn}},{key:"DefaultType",get:function(){return kn}},{key:"NAME",get:function(){return en}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(!e||2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(var t=te.find(ln),r=0,i=t.length;r<i;r++){var a=n.getInstance(t[r]);if(a&&!1!==a._config.autoClose&&a._isShown()){var o={relatedTarget:a._element};if(e){var s=e.composedPath(),u=s.includes(a._menu);if(s.includes(a._element)||"inside"===a._config.autoClose&&!u||"outside"===a._config.autoClose&&u)continue;if(a._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}a._completeHide(o)}}}},{key:"getParentFromElement",value:function(e){return h(e)||e.parentNode}},{key:"dataApiKeydownHandler",value:function(e){if(!(/input|textarea/i.test(e.target.tagName)?e.key===nn||e.key!==tn&&(e.key!==an&&e.key!==rn||e.target.closest(fn)):!on.test(e.key))){var t=this.classList.contains(cn);if((t||e.key!==tn)&&(e.preventDefault(),e.stopPropagation(),!g(this))){var r=this.matches(ln)?this:te.prev(this,ln)[0],i=n.getOrCreateInstance(r);if(e.key!==tn)return e.key===rn||e.key===an?(t||i.show(),void i._selectMenuItem(e)):void(t&&e.key!==nn||n.clearMenus());i.hide()}}}}]),n}(G);W.on(document,un,ln,bn.dataApiKeydownHandler),W.on(document,un,fn,bn.dataApiKeydownHandler),W.on(document,sn,bn.clearMenus),W.on(document,"keyup.bs.dropdown.data-api",bn.clearMenus),W.on(document,sn,ln,(function(e){e.preventDefault(),bn.getOrCreateInstance(this).toggle()})),S(bn);var wn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_n=".sticky-top",xn=function(){function e(){c(this,e),this._element=document.body}return l(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(function(t){return t+e})),this._setElementAttributes(wn,"paddingRight",(function(t){return t+e})),this._setElementAttributes(_n,"marginRight",(function(t){return t-e}))}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth();this._applyManipulationCallback(e,(function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e)[t];e.style[t]="".concat(n(Number.parseFloat(a)),"px")}}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(wn,"paddingRight"),this._resetElementAttributes(_n,"marginRight")}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style[t];n&&ee.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){this._applyManipulationCallback(e,(function(e){var n=ee.getDataAttribute(e,t);void 0===n?e.style.removeProperty(t):(ee.removeDataAttribute(e,t),e.style[t]=n)}))}},{key:"_applyManipulationCallback",value:function(e,t){p(e)?t(e):te.find(e,this._element).forEach(t)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),e}(),En={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Sn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Tn="show",In="mousedown.bs.backdrop",Cn=function(){function e(t){c(this,e),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}return l(e,[{key:"show",value:function(e){this._config.isVisible?(this._append(),this._config.isAnimated&&w(this._getElement()),this._getElement().classList.add(Tn),this._emulateAnimation((function(){T(e)}))):T(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Tn),this._emulateAnimation((function(){t.dispose(),T(e)}))):T(e)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}},{key:"_getConfig",value:function(e){return(e=a(a({},En),"object"==typeof e?e:{})).rootElement=v(e.rootElement),m("backdrop",e,Sn),e}},{key:"_append",value:function(){var e=this;this._isAppended||(this._config.rootElement.append(this._getElement()),W.on(this._getElement(),In,(function(){T(e._config.clickCallback)})),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(W.off(this._element,In),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(e){I(e,this._getElement(),this._config.isAnimated)}}]),e}(),An={trapElement:null,autofocus:!0},Nn={trapElement:"element",autofocus:"boolean"},Pn=".bs.focustrap",Dn="backward",Rn=function(){function e(t){c(this,e),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}return l(e,[{key:"activate",value:function(){var e=this,t=this._config,n=t.trapElement,r=t.autofocus;this._isActive||(r&&n.focus(),W.off(document,Pn),W.on(document,"focusin.bs.focustrap",(function(t){return e._handleFocusin(t)})),W.on(document,"keydown.tab.bs.focustrap",(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,W.off(document,Pn))}},{key:"_handleFocusin",value:function(e){var t=e.target,n=this._config.trapElement;if(t!==document&&t!==n&&!n.contains(t)){var r=te.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===Dn?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Dn:"forward")}},{key:"_getConfig",value:function(e){return e=a(a({},An),"object"==typeof e?e:{}),m("focustrap",e,Nn),e}}]),e}(),On="modal",Ln="Escape",Mn={backdrop:!0,keyboard:!0,focus:!0},Fn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Vn="hidden.bs.modal",jn="show.bs.modal",Un="resize.bs.modal",Bn="click.dismiss.bs.modal",zn="keydown.dismiss.bs.modal",qn="mousedown.dismiss.bs.modal",Wn="modal-open",Hn="show",Kn="modal-static",Gn=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._dialog=te.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new xn,i}return l(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||W.trigger(this._element,jn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Wn),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),W.on(this._dialog,qn,(function(){W.one(t._element,"mouseup.dismiss.bs.modal",(function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},{key:"hide",value:function(){var e=this;if(this._isShown&&!this._isTransitioning&&!W.trigger(this._element,"hide.bs.modal").defaultPrevented){this._isShown=!1;var t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Hn),W.off(this._element,Bn),W.off(this._dialog,qn),this._queueCallback((function(){return e._hideModal()}),this._element,t)}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(e){return W.off(e,".bs.modal")})),this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Cn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Rn({trapElement:this._element})}},{key:"_getConfig",value:function(e){return e=a(a(a({},Mn),ee.getDataAttributes(this._element)),"object"==typeof e?e:{}),m(On,e,Fn),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),r=te.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&w(this._element),this._element.classList.add(Hn),this._queueCallback((function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,W.trigger(t._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var e=this;this._isShown?W.on(this._element,zn,(function(t){e._config.keyboard&&t.key===Ln?(t.preventDefault(),e.hide()):e._config.keyboard||t.key!==Ln||e._triggerBackdropTransition()})):W.off(this._element,zn)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?W.on(window,Un,(function(){return e._adjustDialog()})):W.off(window,Un)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(Wn),e._resetAdjustments(),e._scrollBar.reset(),W.trigger(e._element,Vn)}))}},{key:"_showBackdrop",value:function(e){var t=this;W.on(this._element,Bn,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())})),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!W.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){var t=this._element,n=t.classList,r=t.scrollHeight,i=t.style,a=r>document.documentElement.clientHeight;!a&&"hidden"===i.overflowY||n.contains(Kn)||(a||(i.overflowY="hidden"),n.add(Kn),this._queueCallback((function(){n.remove(Kn),a||e._queueCallback((function(){i.overflowY=""}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!E()||n&&!e&&E())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!E()||!n&&e&&E())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return Mn}},{key:"NAME",get:function(){return On}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(G);W.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){var t=this,n=h(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),W.one(n,jn,(function(e){e.defaultPrevented||W.one(n,Vn,(function(){y(t)&&t.focus()}))}));var r=te.findOne(".modal.show");r&&Gn.getInstance(r).hide(),Gn.getOrCreateInstance(n).toggle(this)})),Q(Gn),S(Gn);var Qn="offcanvas",Yn={backdrop:!0,keyboard:!0,scroll:!1},Xn={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},$n="show",Jn=".offcanvas.show",Zn="hidden.bs.offcanvas",er=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return l(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||W.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new xn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($n),this._queueCallback((function(){t._config.scroll||t._focustrap.activate(),W.trigger(t._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}},{key:"hide",value:function(){var e=this;this._isShown&&(W.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove($n),this._backdrop.hide(),this._queueCallback((function(){e._element.setAttribute("aria-hidden",!0),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._element.style.visibility="hidden",e._config.scroll||(new xn).reset(),W.trigger(e._element,Zn)}),this._element,!0)))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=a(a(a({},Yn),ee.getDataAttributes(this._element)),"object"==typeof e?e:{}),m(Qn,e,Xn),e}},{key:"_initializeBackDrop",value:function(){var e=this;return new Cn({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return e.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new Rn({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;W.on(this._element,"keydown.dismiss.bs.offcanvas",(function(t){e._config.keyboard&&"Escape"===t.key&&e.hide()}))}}],[{key:"NAME",get:function(){return Qn}},{key:"Default",get:function(){return Yn}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(G);W.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){var t=this,n=h(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!g(this)){W.one(n,Zn,(function(){y(t)&&t.focus()}));var r=te.findOne(Jn);r&&r!==n&&er.getInstance(r).hide(),er.getOrCreateInstance(n).toggle(this)}})),W.on(window,"load.bs.offcanvas.data-api",(function(){return te.find(Jn).forEach((function(e){return er.getOrCreateInstance(e).show()}))})),Q(er),S(er);var tr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ir=function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!tr.has(n)||Boolean(nr.test(e.nodeValue)||rr.test(e.nodeValue));for(var r=t.filter((function(e){return e instanceof RegExp})),i=0,a=r.length;i<a;i++)if(r[i].test(n))return!0;return!1};function ar(e,t,n){var r;if(!e.length)return e;if(n&&"function"==typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),a=(r=[]).concat.apply(r,o(i.body.querySelectorAll("*"))),s=function(e,n){var r,i=a[e],s=i.nodeName.toLowerCase();if(!Object.keys(t).includes(s))return i.remove(),"continue";var u=(r=[]).concat.apply(r,o(i.attributes)),c=[].concat(t["*"]||[],t[s]||[]);u.forEach((function(e){ir(e,c)||i.removeAttribute(e.nodeName)}))},u=0,c=a.length;u<c;u++)s(u,c);return i.body.innerHTML}var or="tooltip",sr=new Set(["sanitize","allowList","sanitizeFn"]),ur={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},cr={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},lr={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},fr={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},hr="fade",dr="show",pr="show",vr="out",mr=".tooltip-inner",yr=".modal",gr="hide.bs.modal",kr="hover",br="focus",wr=function(e){s(n,e);var t=u(n);function n(e,r){var i;if(c(this,n),void 0===Zt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=t.call(this,e))._isEnabled=!0,i._timeout=0,i._hoverState="",i._activeTrigger={},i._popper=null,i._config=i._getConfig(r),i.tip=null,i._setListeners(),i}return l(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(e){if(this._isEnabled)if(e){var t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(dr))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),W.off(this._element.closest(yr),gr,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),r(i(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e,t,n=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var r=W.trigger(this._element,this.constructor.Event.SHOW),i=k(this._element),a=null===i?this._element.ownerDocument.documentElement.contains(this._element):i.contains(this._element);if(!r.defaultPrevented&&a){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(mr).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var s=this.getTipElement(),u=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}(this.constructor.NAME);s.setAttribute("id",u),this._element.setAttribute("aria-describedby",u),this._config.animation&&s.classList.add(hr);var c="function"==typeof this._config.placement?this._config.placement.call(this,s,this._element):this._config.placement,l=this._getAttachment(c);this._addAttachmentClass(l);var f=this._config.container;K.set(s,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(f.append(s),W.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Jt(this._element,s,this._getPopperConfig(l)),s.classList.add(dr);var h=this._resolvePossibleFunction(this._config.customClass);h&&(e=s.classList).add.apply(e,o(h.split(" "))),"ontouchstart"in document.documentElement&&(t=[]).concat.apply(t,o(document.body.children)).forEach((function(e){W.on(e,"mouseover",b)}));var d=this.tip.classList.contains(hr);this._queueCallback((function(){var e=n._hoverState;n._hoverState=null,W.trigger(n._element,n.constructor.Event.SHOWN),e===vr&&n._leave(null,n)}),this.tip,d)}}}},{key:"hide",value:function(){var e,t=this;if(this._popper){var n=this.getTipElement();if(!W.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){n.classList.remove(dr),"ontouchstart"in document.documentElement&&(e=[]).concat.apply(e,o(document.body.children)).forEach((function(e){return W.off(e,"mouseover",b)})),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;var r=this.tip.classList.contains(hr);this._queueCallback((function(){t._isWithActiveTrigger()||(t._hoverState!==pr&&n.remove(),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),W.trigger(t._element,t.constructor.Event.HIDDEN),t._disposePopper())}),this.tip,r),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var e=document.createElement("div");e.innerHTML=this._config.template;var t=e.children[0];return this.setContent(t),t.classList.remove(hr,dr),this.tip=t,this.tip}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),mr)}},{key:"_sanitizeAndSetContent",value:function(e,t,n){var r=te.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}},{key:"setElementContent",value:function(e,t){if(null!==e)return p(t)?(t=v(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=ar(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}},{key:"getTitle",value:function(){var e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}},{key:"updateAttachment",value:function(e){return"right"===e?"end":"left"===e?"start":e}},{key:"_initializeOnDelegatedTarget",value:function(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"==typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return a(a({},n),"function"==typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(e){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(e)))}},{key:"_getAttachment",value:function(e){return cr[e.toUpperCase()]}},{key:"_setListeners",value:function(){var e=this;this._config.trigger.split(" ").forEach((function(t){if("click"===t)W.on(e._element,e.constructor.Event.CLICK,e._config.selector,(function(t){return e.toggle(t)}));else if("manual"!==t){var n=t===kr?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=t===kr?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;W.on(e._element,n,e._config.selector,(function(t){return e._enter(t)})),W.on(e._element,r,e._config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e._element&&e.hide()},W.on(this._element.closest(yr),gr,this._hideModalHandler),this._config.selector?this._config=a(a({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}},{key:"_enter",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?br:kr]=!0),t.getTipElement().classList.contains(dr)||t._hoverState===pr?t._hoverState=pr:(clearTimeout(t._timeout),t._hoverState=pr,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((function(){t._hoverState===pr&&t.show()}),t._config.delay.show):t.show())}},{key:"_leave",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?br:kr]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=vr,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===vr&&t.hide()}),t._config.delay.hide):t.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(e){var t=ee.getDataAttributes(this._element);return Object.keys(t).forEach((function(e){sr.has(e)&&delete t[e]})),(e=a(a(a({},this.constructor.Default),t),"object"==typeof e&&e?e:{})).container=!1===e.container?document.body:v(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),m(or,e,this.constructor.DefaultType),e.sanitize&&(e.template=ar(e.template,e.allowList,e.sanitizeFn)),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}},{key:"_cleanTipClass",value:function(){var e=this.getTipElement(),t=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((function(e){return e.trim()})).forEach((function(t){return e.classList.remove(t)}))}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(e){var t=e.state;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return lr}},{key:"NAME",get:function(){return or}},{key:"Event",get:function(){return fr}},{key:"DefaultType",get:function(){return ur}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(G);S(wr);var _r=a(a({},wr.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),xr=a(a({},wr.DefaultType),{},{content:"(string|element|function)"}),Er={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Sr=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}],[{key:"Default",get:function(){return _r}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Er}},{key:"DefaultType",get:function(){return xr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(wr);S(Sr);var Tr="scrollspy",Ir={offset:10,method:"auto",target:""},Cr={offset:"number",method:"string",target:"(string|element)"},Ar="active",Nr=".nav-link, .list-group-item, .dropdown-item",Pr="position",Dr=function(e){s(o,e);var t=u(o);function o(e,n){var r;return c(this,o),(r=t.call(this,e))._scrollElement="BODY"===r._element.tagName?window:r._element,r._config=r._getConfig(n),r._offsets=[],r._targets=[],r._activeTarget=null,r._scrollHeight=0,W.on(r._scrollElement,"scroll.bs.scrollspy",(function(){return r._process()})),r.refresh(),r._process(),r}return l(o,[{key:"refresh",value:function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":Pr,r="auto"===this._config.method?t:this._config.method,i=r===Pr?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),te.find(Nr,this._config.target).map((function(e){var t=n(e),a=t?te.findOne(t):null;if(a){var o=a.getBoundingClientRect();if(o.width||o.height)return[ee[r](a).top+i,t]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))}},{key:"dispose",value:function(){W.off(this._scrollElement,".bs.scrollspy"),r(i(o.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return(e=a(a(a({},Ir),ee.getDataAttributes(this._element)),"object"==typeof e&&e?e:{})).target=v(e.target)||document.documentElement,m(Tr,e,Cr),e}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}}},{key:"_activate",value:function(e){this._activeTarget=e,this._clear();var t=Nr.split(",").map((function(t){return"".concat(t,'[data-bs-target="').concat(e,'"],').concat(t,'[href="').concat(e,'"]')})),n=te.findOne(t.join(","),this._config.target);n.classList.add(Ar),n.classList.contains("dropdown-item")?te.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Ar):te.parents(n,".nav, .list-group").forEach((function(e){te.prev(e,".nav-link, .list-group-item").forEach((function(e){return e.classList.add(Ar)})),te.prev(e,".nav-item").forEach((function(e){te.children(e,".nav-link").forEach((function(e){return e.classList.add(Ar)}))}))})),W.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:e})}},{key:"_clear",value:function(){te.find(Nr,this._config.target).filter((function(e){return e.classList.contains(Ar)})).forEach((function(e){return e.classList.remove(Ar)}))}}],[{key:"Default",get:function(){return Ir}},{key:"NAME",get:function(){return Tr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=o.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),o}(G);W.on(window,"load.bs.scrollspy.data-api",(function(){te.find('[data-bs-spy="scroll"]').forEach((function(e){return new Dr(e)}))})),S(Dr);var Rr="active",Or="fade",Lr="show",Mr=".active",Fr=":scope > li > .active",Vr=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"show",value:function(){var e=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(Rr)){var t,n=h(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?Fr:Mr;t=(t=te.find(i,r))[t.length-1]}var a=t?W.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(!(W.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==a&&a.defaultPrevented)){this._activate(this._element,r);var o=function(){W.trigger(t,"hidden.bs.tab",{relatedTarget:e._element}),W.trigger(e._element,"shown.bs.tab",{relatedTarget:t})};n?this._activate(n,n.parentNode,o):o()}}}},{key:"_activate",value:function(e,t,n){var r=this,i=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?te.children(t,Mr):te.find(Fr,t))[0],a=n&&i&&i.classList.contains(Or),o=function(){return r._transitionComplete(e,i,n)};i&&a?(i.classList.remove(Lr),this._queueCallback(o,e,!0)):o()}},{key:"_transitionComplete",value:function(e,t,n){if(t){t.classList.remove(Rr);var r=te.findOne(":scope > .dropdown-menu .active",t.parentNode);r&&r.classList.remove(Rr),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(Rr),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),w(e),e.classList.contains(Or)&&e.classList.add(Lr);var i=e.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){var a=e.closest(".dropdown");a&&te.find(".dropdown-toggle",a).forEach((function(e){return e.classList.add(Rr)})),e.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(G);W.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),g(this)||Vr.getOrCreateInstance(this).show()})),S(Vr);var jr="toast",Ur="hide",Br="show",zr="showing",qr={animation:"boolean",autohide:"boolean",delay:"number"},Wr={animation:!0,autohide:!0,delay:5e3},Hr=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return l(n,[{key:"show",value:function(){var e=this;W.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ur),w(this._element),this._element.classList.add(Br),this._element.classList.add(zr),this._queueCallback((function(){e._element.classList.remove(zr),W.trigger(e._element,"shown.bs.toast"),e._maybeScheduleHide()}),this._element,this._config.animation))}},{key:"hide",value:function(){var e=this;this._element.classList.contains(Br)&&(W.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(zr),this._queueCallback((function(){e._element.classList.add(Ur),e._element.classList.remove(zr),e._element.classList.remove(Br),W.trigger(e._element,"hidden.bs.toast")}),this._element,this._config.animation)))}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Br)&&this._element.classList.remove(Br),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=a(a(a({},Wr),ee.getDataAttributes(this._element)),"object"==typeof e&&e?e:{}),m(jr,e,this.constructor.DefaultType),e}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;W.on(this._element,"mouseover.bs.toast",(function(t){return e._onInteraction(t,!0)})),W.on(this._element,"mouseout.bs.toast",(function(t){return e._onInteraction(t,!1)})),W.on(this._element,"focusin.bs.toast",(function(t){return e._onInteraction(t,!0)})),W.on(this._element,"focusout.bs.toast",(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return qr}},{key:"Default",get:function(){return Wr}},{key:"NAME",get:function(){return jr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(G);return Q(Hr),S(Hr),{Alert:Y,Button:$,Carousel:de,Collapse:xe,Dropdown:bn,Modal:Gn,Offcanvas:er,Popover:Sr,ScrollSpy:Dr,Tab:Vr,Toast:Hr,Tooltip:wr}}()},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ee)&&(Ae(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,je=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,St,Tt=!1,It=[],Ct=null,At=null,Nt=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Pt.forEach(jt),Dt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Sr("animationend"),Ir=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Ir:case Cr:u=yn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Wn(s))if($n)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Ai=Ei(!1),Ni=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ti(Ci,e)):Si(Ai),Ti(Ai,n)}var Vi=null,ji=!1,Ui=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,Ui=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=Ei(null),Ki=null,Gi=null,Qi=null;function Yi(){Qi=Gi=Ki=null}function Xi(e){var t=Hi.current;Si(Hi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Ki=e,Qi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Ki)throw Error(a(308));Gi=e,Ki.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zu(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Di(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],_a=0,xa=null,Ea=1,Sa="";function Ta(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ia(e,t,n){wa[_a++]=Ea,wa[_a++]=Sa,wa[_a++]=xa,xa=e;var r=Ea;e=Sa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ea=1<<32-ot(t)+i|n<<i|r,Sa=a+e}else Ea=1<<a|n<<i|r,Sa=e}function Ca(e){null!==e.return&&(Ta(e,1),Ia(e,1,0))}function Aa(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===xa;)xa=wa[--_a],wa[_a]=null,Sa=wa[--_a],wa[_a]=null,Ea=wa[--_a],wa[_a]=null}var Na=null,Pa=null,Da=!1,Ra=null;function Oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==xa?{id:Ea,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Pa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Da){var t=Pa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&La(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Da=!1,Na=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Da=!1,Na=e}}}function Va(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function ja(e){if(e!==Na)return!1;if(!Da)return Va(e),Da=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(Ma(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(Va(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Na?ci(e.stateNode.nextSibling):null;return!0}function Ua(){Pa=Na=null,Da=!1}function Ba(e){null===Ra?Ra=[e]:Ra.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Wa(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),Da&&Ta(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Da&&Ta(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Da&&Ta(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Da&&Ta(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return Da&&Ta(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Da&&Ta(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Oc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=za(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Ha(!0),Ga=Ha(!1),Qa={},Ya=Ei(Qa),Xa=Ei(Qa),$a=Ei(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ti($a,t),Ti(Xa,e),Ti(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ya),Ti(Ya,t)}function eo(){Si(Ya),Si(Xa),Si($a)}function to(e){Ja($a.current);var t=Ja(Ya.current),n=ue(t,e.type);t!==n&&(Ti(Xa,e),Ti(Ya,n))}function no(e){Xa.current===e&&(Si(Ya),Si(Xa))}var ro=Ei(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function xo(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Eo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,lo.lanes|=f,Ru|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function Co(e,t){var n=lo,r=xo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,jo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Zu(e,1,-1)}function Po(e,t,n){return n((function(){Do(t)&&Zu(e,1,-1)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ro(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return xo().memoizedState}function Mo(e,t,n,r){var i=_o();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function Vo(e,t){return Mo(8390656,8,e,t)}function jo(e,t){return Fo(2048,8,e,t)}function Uo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,zo.bind(null,t,e),n)}function Wo(){}function Ho(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),lo.lanes|=n,Ru|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{kt=n,uo.transition=r}}function Yo(){return xo().memoizedState}function Xo(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=$u()))&&ts(e,t,r))}function $o(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Zu(e,r,n=$u()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Ro,useDebugValue:Wo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Qo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=_o();if(Da){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Tu.identifierPrefix;if(Da){var n=Sa;t=":"+t+"R"+(n=(Ea&~(1<<32-ot(Ea)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Ho,useContext:Zi,useEffect:jo,useImperativeHandle:qo,useInsertionEffect:Uo,useLayoutEffect:Bo,useMemo:Ko,useReducer:So,useRef:Lo,useState:function(){return So(Eo)},useDebugValue:Wo,useDeferredValue:function(e){return Go(xo(),fo.memoizedState,e)},useTransition:function(){return[So(Eo)[0],xo().memoizedState]},useMutableSource:Io,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1},as={readContext:Zi,useCallback:Ho,useContext:Zi,useEffect:jo,useImperativeHandle:qo,useInsertionEffect:Uo,useLayoutEffect:Bo,useMemo:Ko,useReducer:To,useRef:Lo,useState:function(){return To(Eo)},useDebugValue:Wo,useDeferredValue:function(e){var t=xo();return null===fo?t.memoizedState=e:Go(t,fo.memoizedState,e)},useTransition:function(){return[To(Eo)[0],xo().memoizedState]},useMutableSource:Io,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,zu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ks(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Di(t.type)&&Ri(),gs(t),null;case 3:return r=t.stateNode,eo(),Si(Ai),Si(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(ac(Ra),Ra=null))),gs(t),null;case 5:no(t);var i=Ja($a.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Ja(Ya.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja($a.current),Ja(Ya.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gs(t),null;case 13:if(Si(ro),r=t.memoizedState,Da&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Ua(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Ua(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Ra&&(ac(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):pc())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gs(t),null;case 10:return Xi(t.type._context),gs(t),null;case 19:if(Si(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ys(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ju&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Da)return gs(t),null}else 2*$e()-o.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ro.current,Ti(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Ka(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||ws?(Da&&n&&Ca(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nu,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Nu,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Nu,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Nu,Au),Au|=r;return _s(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Pi(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||ws?(Da&&r&&Ca(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function As(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Pi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||ta?("function"===typeof l&&(fa(t,n,l,r),u=t.memoizedState),(s=ta||da(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Pi(t,u=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&va(t,o,r,u),ta=!1,h=t.memoizedState,o.state=h,ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Za(e,t.containerInfo)}function Ds(e,t,n,r,i){return Ua(),Ba(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ms(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Lc(o,i,0,null),e=Oc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Rs,e):Fs(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Us(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(s=Oc(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Os(n),t.memoizedState=Rs,s);if(0===(1&t.mode))t=Us(e,t,n,null);else if("$!"===r.data)t=Us(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Tu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Zu(e,i,-1))}pc(),t=Us(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Na=t,Da=!0,Ra=null,null!==n&&(wa[_a++]=Ea,wa[_a++]=Sa,wa[_a++]=xa,Ea=n.id,Sa=n.overflow,xa=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Os(n):Ls(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Vs(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Os(n):Ls(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Vs(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){var i=e.child;return e=i.sibling,n=Dc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function js(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Dc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Dc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Us(e,t,n,r){return null!==r&&Ba(r),Ka(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){switch(Aa(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Si(Ai),Si(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Si(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ro),null;case 4:return eo(),null;case 10:return Xi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Ks=!1,Gs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){xc(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$s(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Gs||Xs(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&$s(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Gs&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xc(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,cu(e,t,n),Gs=r):cu(e,t,n);break;default:cu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));lu(o,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){xc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){xc(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){xc(e,e.return,v)}}break;case 1:hu(t,e),pu(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(hu(t,e),pu(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){xc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){xc(e,e.return,v)}}break;case 6:if(hu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){xc(e,e.return,v)}}break;case 3:if(hu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){xc(e,e.return,v)}break;case 4:default:hu(t,e),pu(e);break;case 13:hu(t,e),pu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Vu=$e()),4&r&&fu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(f=Gs)||l,hu(t,e),Gs=f):hu(t,e),pu(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(v){xc(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){xc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Ys=e,e=e.child;null!==e;){for(l=Ys=e;null!==Ys;){switch(h=(f=Ys).child,f.tag){case 0:case 11:case 14:case 15:Zs(4,f,f.return);break;case 1:if(Xs(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){xc(d,p,v)}}break;case 5:Xs(f,f.return);break;case 22:if(null!==f.memoizedState){gu(l);continue}}null!==h?(h.return=f,Ys=h):gu(l)}e=e.sibling}}break;case 19:hu(t,e),pu(e),4&r&&fu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){xc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Gs;s=Ks;var c=Gs;if(Ks=o,(Gs=u)&&!c)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,Ys=u):ku(i);for(;null!==a;)Ys=a,mu(a,t,n),a=a.sibling;Ys=i,Ks=s,Gs=c}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):yu(e)}}function yu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Gs||512&t.flags&&tu(t)}catch(d){xc(t,t.return,d)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function gu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function ku(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){xc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xc(t,i,u)}}var a=t.return;try{tu(t)}catch(u){xc(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){xc(t,o,u)}}}catch(u){xc(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bu,wu=Math.ceil,_u=b.ReactCurrentDispatcher,xu=b.ReactCurrentOwner,Eu=b.ReactCurrentBatchConfig,Su=0,Tu=null,Iu=null,Cu=0,Au=0,Nu=Ei(0),Pu=0,Du=null,Ru=0,Ou=0,Lu=0,Mu=null,Fu=null,Vu=0,ju=1/0,Uu=null,Bu=!1,zu=null,qu=null,Wu=!1,Hu=null,Ku=0,Gu=0,Qu=null,Yu=-1,Xu=0;function $u(){return 0!==(6&Su)?$e():-1!==Yu?Yu:Yu=$e()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Su)&&0!==Cu?Cu&-Cu:null!==qi.transition?(0===Xu&&(Xu=vt()),Xu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function Zu(e,t,n){if(50<Gu)throw Gu=0,Qu=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Su)&&r===Tu||(r===Tu&&(0===(2&Su)&&(Ou|=t),4===Pu&&oc(r,Cu)),nc(r,n),1===t&&0===Su&&0===(1&e.mode)&&(ju=$e()+500,ji&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Tu||null!==ea)&&0!==(1&e.mode)&&0===(2&Su)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Tu?Cu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===Su&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Yu=-1,Xu=0,0!==(6&Su))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Su;Su|=2;var o=dc();for(Tu===e&&Cu===t||(Uu=null,ju=$e()+500,fc(e,t));;)try{yc();break}catch(u){hc(e,u)}Yi(),_u.current=o,Su=i,null!==Iu?t=0:(Tu=null,Cu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Du,fc(e,0),oc(e,r),nc(e,$e()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Du,fc(e,0),oc(e,r),nc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fu,Uu);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$u(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fu,Uu),t);break}bc(e,Fu,Uu);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fu,Uu),r);break}bc(e,Fu,Uu);break;default:throw Error(a(329))}}}return nc(e,$e()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fu,Fu=n,null!==t&&ac(t)),e}function ac(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function oc(e,t){for(t&=~Lu,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Su))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Du,fc(e,0),oc(e,t),nc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fu,Uu),nc(e,$e()),null}function uc(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(ju=$e()+500,ji&&zi())}}function cc(e){null!==Hu&&0===Hu.tag&&0===(6&Su)&&wc();var t=Su;Su|=1;var n=Eu.transition,r=kt;try{if(Eu.transition=null,kt=1,e)return e()}finally{kt=r,Eu.transition=n,0===(6&(Su=t))&&zi()}}function lc(){Au=Nu.current,Si(Nu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:eo(),Si(Ai),Si(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Si(ro);break;case 10:Xi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Tu=e,Iu=e=Dc(e.current,null),Cu=Au=t,Pu=0,Du=null,Lu=Ou=Ru=0,Fu=Mu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Iu;try{if(Yi(),so.current=ns,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,xu.current=null,null===n||null===n.return){Pu=1,Du=t,Iu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ps(o,l,t),pc();break e}c=Error(a(426))}else if(Da&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),Ba(c);break e}}o=c,4!==Pu&&(Pu=2),null===Mu?Mu=[o]:Mu.push(o),c=os(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,hs(0,c,t));break e;case 1:o=c;var g=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qu||!qu.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}kc(n)}catch(b){t=b,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function dc(){var e=_u.current;return _u.current=ns,null===e?ns:e}function pc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Tu||0===(268435455&Ru)&&0===(268435455&Ou)||oc(Tu,Cu)}function vc(e,t){var n=Su;Su|=2;var r=dc();for(Tu===e&&Cu===t||(Uu=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Yi(),Su=n,_u.current=r,null!==Iu)throw Error(a(261));return Tu=null,Cu=0,Pu}function mc(){for(;null!==Iu;)gc(Iu)}function yc(){for(;null!==Iu&&!Ye();)gc(Iu)}function gc(e){var t=bu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?kc(e):Iu=t,xu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ks(n,t,Au)))return void(Iu=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Pu=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Pu&&(Pu=5)}function bc(e,t,n){var r=kt,i=Eu.transition;try{Eu.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Hu);if(0!==(6&Su))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tu&&(Iu=Tu=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Eu.transition,Eu.transition=null;var s=kt;kt=1;var u=Su;Su|=4,xu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){xc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Js,Js=!1}(e,n),du(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Xe(),Su=u,kt=s,Eu.transition=o}else e.current=n;if(Wu&&(Wu=!1,Hu=e,Ku=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bu)throw Bu=!1,e=zu,zu=null,e;0!==(1&Ku)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qu?Gu++:(Gu=0,Qu=e):Gu=0,zi()}(e,t,n,r)}finally{Eu.transition=i,kt=r}return null}function wc(){if(null!==Hu){var e=bt(Ku),t=Eu.transition,n=kt;try{if(Eu.transition=null,kt=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Ku=0,0!==(6&Su))throw Error(a(331));var i=Su;for(Su|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ys=l;null!==Ys;){var f=Ys;switch(f.tag){case 0:case 11:case 15:Zs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ys=h;else for(;null!==Ys;){var d=(f=Ys).sibling,p=f.return;if(nu(f),f===l){Ys=null;break}if(null!==d){d.return=p,Ys=d;break}Ys=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ys=g;break e}Ys=o.return}}var k=e.current;for(Ys=k;null!==Ys;){var b=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Ys=b;else e:for(s=k;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(_){xc(u,u.return,_)}if(u===s){Ys=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ys=w;break e}Ys=u.return}}if(Su=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Eu.transition=t}}return!1}function _c(e,t,n){aa(e,t=hs(0,t=os(n,t),1)),t=$u(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function xc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=$u(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$u(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Cu&n)===n&&(4===Pu||3===Pu&&(130023424&Cu)===Cu&&500>$e()-Vu?fc(e,0):Lu|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=$u();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Cc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Oc(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Uc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=jc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=ia(r=$u(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=$u(),o=Ju(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zu(i,o,a))&&oa(e,i,o),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Ua();break;case 5:to(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ti(ro,1&ro.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Da&&0!==(1048576&t.flags)&&Ia(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ci.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,Da&&o&&Ca(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=Wi(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Wi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ds(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Na=t,Da=!0,Ra=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ua(),r===i){t=Ws(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Ms(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(Hi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),$i(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=Wi(r=t.type,t.pendingProps),Es(e,t,r,i=Wi(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=jc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,$e()),0===(6&Su)&&(ju=$e()+500,zi()))}break;case 13:var r=$u();cc((function(){return Zu(e,1,r)})),Kc(e,1)}},_t=function(e){13===e.tag&&(Zu(e,134217728,$u()),Kc(e,134217728))},xt=function(e){if(13===e.tag){var t=$u(),n=Ju(e);Zu(e,n,t),Kc(e,n)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,uc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Uc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,u(_,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){y(N,0)};function R(e){S=e,E||(E=!0,x())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ft},SDK_VERSION:function(){return Gn},_DEFAULT_ENTRY_NAME:function(){return On},_addComponent:function(){return Vn},_addOrOverwriteComponent:function(){return jn},_apps:function(){return Mn},_clearComponents:function(){return qn},_components:function(){return Fn},_getProvider:function(){return Bn},_registerComponent:function(){return Un},_removeServiceInstance:function(){return zn},deleteApp:function(){return $n},getApp:function(){return Yn},getApps:function(){return Xn},initializeApp:function(){return Qn},onLog:function(){return er},registerVersion:function(){return Zn},setLogLevel:function(){return tr}});var t,r=n(791);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var l=function(e){return e};var f="beforeunload",h="popstate";function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var g=(0,r.createContext)(null);var k=(0,r.createContext)(null);var b=(0,r.createContext)({outlet:null,matches:[]});function w(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=I(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),x(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:s})})),t}var E=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=C({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:D(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:R(a),hash:O(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},R=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function L(e){M()||w(!1);var t=(0,r.useContext)(g),n=t.basename,i=t.navigator,a=j(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):P([n,s])}return i.createHref({pathname:c,search:u,hash:o})}function M(){return null!=(0,r.useContext)(k)}function F(){return M()||w(!1),(0,r.useContext)(k).location}function V(){M()||w(!1);var e=(0,r.useContext)(g),t=e.basename,n=e.navigator,i=(0,r.useContext)(b).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=P([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}function j(e){var t=(0,r.useContext)(b).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return A(e,JSON.parse(i),n)}),[e,i,n])}function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){var t=e.to,n=e.replace,i=e.state;M()||w(!1);var a=V();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function z(e){w(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;M()&&w(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=y(s));var v=s,m=v.pathname,b=void 0===m?"/":m,_=v.search,x=void 0===_?"":_,E=v.hash,S=void 0===E?"":E,T=v.state,I=void 0===T?null:T,C=v.key,A=void 0===C?"default":C,P=(0,r.useMemo)((function(){var e=N(b,d);return null==e?null:{pathname:e,search:x,hash:S,state:I,key:A}}),[d,b,x,S,I,A]);return null==P?null:(0,r.createElement)(g.Provider,{value:p},(0,r.createElement)(k.Provider,{children:o,value:{location:P,navigationType:c}}))}function W(e){var t=e.children,n=e.location;return function(e,t){M()||w(!1);var n,i=(0,r.useContext)(b).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,F());if(t){var c,l="string"===typeof t?y(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||w(!1),n=l}else n=u;var f=n.pathname||"/",h=_(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:P([s,e.pathnameBase])})})),i)}(H(t),n)}function H(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&w(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,l({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(h,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=g-r;s&&(o={action:e,location:i,retry:function(){I(-1*s)}},I(s))}}else T(e)}}));var s=t.Pop,u=a(),g=u[0],k=u[1],b=p(),w=p();function _(e){return"string"===typeof e?e:m(e)}function x(e,t){return void 0===t&&(t=null),l(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();g=t[0],k=t[1],b.call({action:s,location:k})}function I(e){i.go(e)}null==g&&(g=0,i.replaceState(c({},i.state,{idx:g}),""));var C={get action(){return s},get location(){return k},createHref:_,push:function e(n,a){var o=t.Push,s=x(n,a);if(S(o,s,(function(){e(n,a)}))){var u=E(s,g+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function e(n,r){var a=t.Replace,o=x(n,r);if(S(a,o,(function(){e(n,r)}))){var s=E(o,g),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(f,d),function(){t(),w.length||r.removeEventListener(f,d)}}};return C}({window:a}));var s=o.current,g=u((0,r.useState)({action:s.action,location:s.location}),2),k=g[0],b=g[1];return(0,r.useLayoutEffect)((function(){return s.listen(b)}),[s]),(0,r.createElement)(q,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:s})}var X=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=G(e,Q),f=L(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=V(),u=F(),c=j(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,r.createElement)("a",K({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:u}))}));function $(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$(a,r,i,o,s,"next",e)}function s(e){$(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Z=n(757),ee=n.n(Z);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ae(e,t){if(null==e)return{};var n,r,i=ie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oe=n(694),se=n.n(oe);n(573),n(176);function ue(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ce(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function le(e,t){return Object.keys(t).reduce((function(n,i){var a,o=n,s=o[ue(i)],u=o[i],l=ie(o,[ue(i),i].map(ce)),f=t[i],h=function(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==t&&s(t),[u?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(u,s,e[f]),d=h[0],p=h[1];return c({},l,((a={})[i]=d,a[f]=p,a))}),e)}function fe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function he(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function de(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}fe.__suppressDeprecationWarning=!0,he.__suppressDeprecationWarning=!0,de.__suppressDeprecationWarning=!0;var pe=Function.prototype.bind.call(Function.prototype.call,[].slice);var ve=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var me=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=ve(e),r=ve(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},ye=r.createContext(null);ye.displayName="NavContext";var ge=ye,ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},be=r.createContext(null),we=r.createContext(null);function _e(e){return"".concat("data-rr-ui-").concat(e)}var xe=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function Ee(e){var t=xe(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var Se=n(184),Te=["as","disabled"];function Ie(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Ce=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Te),a=u(Ie(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,Se.jsx)(s,Object.assign({},i,o,{ref:t}))}));Ce.displayName="Button";var Ae=Ce,Ne=["as","active","eventKey"];function Pe(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,r.useContext)(be),c=(0,r.useContext)(ge),l=(0,r.useContext)(we),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);h[_e("event-key")]=t,h.id=d||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(s&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=Ee((function(e){s||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[h,{isActive:f}]}var De=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?Ae:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ne),s=u(Pe(Object.assign({key:ke(a,o.href),active:i},o)),2),c=s[0],l=s[1];return c[_e("active")]=l.isActive,(0,Se.jsx)(r,Object.assign({},o,c,{ref:t}))}));De.displayName="NavItem";var Re=De,Oe=["as","onSelect","activeKey","role","onKeyDown"];var Le=function(){},Me=_e("event-key"),Fe=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Oe),h=(0,r.useReducer)((function(e){return!e}),!1)[1],d=(0,r.useRef)(!1),p=(0,r.useContext)(be),v=(0,r.useContext)(we);v&&(c=c||"tablist",u=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n,r,i=(n=t,r="[".concat(Me,"]:not([aria-disabled=true])"),pe(n.querySelectorAll(r))),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;var o=i.indexOf(a);if(-1===o)return null;var s=o+e;return s>=i.length&&(s=0),s<0&&(s=i.length-1),i[s]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(Me,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=me(t,m);return(0,Se.jsx)(be.Provider,{value:g,children:(0,Se.jsx)(ge.Provider,{value:{role:c,activeKey:ke(u),getControlledId:n||Le,getControllerId:i||Le},children:(0,Se.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));Fe.displayName="Nav";var Ve=Object.assign(Fe,{Item:Re}),je=["xxl","xl","lg","md","sm","xs"],Ue=r.createContext({prefixes:{},breakpoints:je});Ue.Consumer,Ue.Provider;function Be(e,t){var n=(0,r.useContext)(Ue).prefixes;return e||n[t]||t}var ze=r.createContext(null);ze.displayName="NavbarContext";var qe=ze,We=r.createContext(null);We.displayName="CardHeaderContext";var He=We,Ke=/-(.)/g;var Ge=["className","bsPrefix","as"],Qe=function(e){return e[0].toUpperCase()+(t=e,t.replace(Ke,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Qe(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=ae(t,Ge),c=Be(i,e);return(0,Se.jsx)(s,re({ref:n,className:se()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}("nav-item");var Xe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Xe?r.useLayoutEffect:r.useEffect,new WeakMap;var $e=["onKeyDown"];var Je=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$e),a=u(Ie(Object.assign({tagName:"a"},i)),1)[0],o=Ee((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,Se.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,Se.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Je.displayName="Anchor";var Ze=Je,et=["bsPrefix","className","as","active","eventKey"],tt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Ze:i,o=e.active,s=e.eventKey,c=ae(e,et);n=Be(n,"nav-link");var l=u(Pe(re({key:ke(s,c.href),active:o},c)),2),f=l[0],h=l[1];return(0,Se.jsx)(a,re(re(re({},c),f),{},{ref:t,className:se()(r,n,c.disabled&&"disabled",h.isActive&&"active")}))}));tt.displayName="NavLink",tt.defaultProps={disabled:!1};var nt=tt,rt=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],it=r.forwardRef((function(e,t){var n,i,a,o=le(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=ae(o,rt),g=Be(c,"nav"),k=!1,b=(0,r.useContext)(qe),w=(0,r.useContext)(He);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,Se.jsx)(Ve,re({as:u,ref:t,activeKey:m,className:se()(v,(n={},te(n,g,!k),te(n,"".concat(i,"-nav"),k),te(n,"".concat(i,"-nav-scroll"),k&&p),te(n,"".concat(a,"-").concat(l),!!a),te(n,"".concat(g,"-").concat(l),!!l),te(n,"".concat(g,"-fill"),f),te(n,"".concat(g,"-justified"),h),n))},y))}));it.displayName="Nav",it.defaultProps={justify:!1,fill:!1};var at=Object.assign(it,{Item:Ye,Link:nt}),ot=["as","bsPrefix","variant","size","active","className"],st=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,c=ae(e,ot),l=Be(r,"btn"),f=u(Ie(re({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,Se.jsx)(d,re(re(re({},h),c),{},{ref:t,className:se()(s,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));st.displayName="Button",st.defaultProps={variant:"primary",active:!1,disabled:!1};var ut=st;function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ht(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function vt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function kt(e,t){if(t&&("object"===gt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function bt(e){var t=yt();return function(){var n,r=mt(e);if(t){var i=mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kt(this,n)}}function wt(e,t,n){return wt=yt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&pt(i,n.prototype),i},wt.apply(null,arguments)}function _t(e){var t="function"===typeof Map?new Map:void 0;return _t=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return wt(e,arguments,mt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pt(n,e)},_t(e)}var xt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},St=function(e){return function(e){var t=xt(e);return Et.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tt=function(e){try{return Et.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function It(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=It(e[n],t[n]));return e}var Ct=function(){function e(){var t=this;ct(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ft(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function At(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(a)),""].join(".")}function Nt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Dt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Rt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ot(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Lt(){var e=Nt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Mt(){return"object"===typeof indexedDB}var Ft=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(dt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(dt(a),Vt.prototype.create),a}return ft(n)}(_t(Error)),Vt=function(){function e(t,n,r){ct(this,e),this.service=t,this.serviceName=n,this.errors=r}return ft(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?jt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ft(n,a,t);return o}}]),e}();function jt(e,t){return e.replace(Ut,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ut=/\{\$([^}]+)}/g;function Bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(qt(s)&&qt(u)){if(!zt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qt(e){return null!==e&&"object"===typeof e}function Wt(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ht(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Kt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Gt(e,t){var n=new Qt(e,t);return n.subscribe.bind(n)}var Qt=function(){function e(t,n){var r=this;ct(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ft(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ht(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Yt),void 0===r.error&&(r.error=Yt),void 0===r.complete&&(r.complete=Yt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Yt(){}function Xt(e){return e&&e._delegate?e._delegate:e}function $t(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Jt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||$t(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zt=function(){function e(t,n,r){ct(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ft(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),en="[DEFAULT]",tn=function(){function e(t,n){ct(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ft(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ct;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:en})}catch(c){}var t,n=ht(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Jt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Jt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ht(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(FS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===en?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(FS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return this.component?this.component.multipleInstances?e:en:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var nn,rn,an=function(){function e(t){ct(this,e),this.name=t,this.providers=new Map}return ft(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new tn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),on=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rn||(rn={}));var sn={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},un=rn.INFO,cn=(te(nn={},rn.DEBUG,"log"),te(nn,rn.VERBOSE,"log"),te(nn,rn.INFO,"info"),te(nn,rn.WARN,"warn"),te(nn,rn.ERROR,"error"),nn),ln=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=cn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fn=function(){function e(t){ct(this,e),this.name=t,this._logLevel=un,this._logHandler=ln,this._userLogHandler=null,on.push(this)}return ft(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in rn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?sn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.DEBUG].concat(t)),this._logHandler.apply(this,[this,rn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,rn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.INFO].concat(t)),this._logHandler.apply(this,[this,rn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.WARN].concat(t)),this._logHandler.apply(this,[this,rn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.ERROR].concat(t)),this._logHandler.apply(this,[this,rn.ERROR].concat(t))}}]),e}();var hn,dn;var pn=new WeakMap,vn=new WeakMap,mn=new WeakMap,yn=new WeakMap,gn=new WeakMap;var kn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function bn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(dn||(dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xn(this),n),_n(pn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _n(e.apply(xn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[xn(this),t].concat(r));return mn.set(a,t.sort?t.sort():[t]),_n(a)}}function wn(e){return"function"===typeof e?bn(e):(e instanceof IDBTransaction&&function(e){if(!vn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));vn.set(e,t)}}(e),t=e,(hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,kn):e);var t}function _n(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(_n(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&pn.set(t,e)})).catch((function(){})),gn.set(t,e),t}(e);if(yn.has(e))return yn.get(e);var t=wn(e);return t!==e&&(yn.set(e,t),gn.set(t,e)),t}var xn=function(e){return gn.get(e)};var En,Sn,Tn=["get","getKey","getAll","getAllKeys","count"],In=["put","add","delete","clear"],Cn=new Map;function An(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Cn.get(t))return Cn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=In.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Tn.includes(n))){var a=function(){var e=J(Z.mark((function e(t){var a,o,s,u,c,l,f=arguments;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Cn.set(t,a),a}}}kn=function(e){return re(re({},e),{},{get:function(t,n,r){return An(t,n)||e.get(t,n,r)},has:function(t,n){return!!An(t,n)||e.has(t,n)}})}(kn);var Nn=function(){function e(t){ct(this,e),this.container=t}return ft(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Pn="@firebase/app",Dn="0.7.24",Rn=new fn("@firebase/app"),On="[DEFAULT]",Ln=(te(En={},Pn,"fire-core"),te(En,"@firebase/app-compat","fire-core-compat"),te(En,"@firebase/analytics","fire-analytics"),te(En,"@firebase/analytics-compat","fire-analytics-compat"),te(En,"@firebase/app-check","fire-app-check"),te(En,"@firebase/app-check-compat","fire-app-check-compat"),te(En,"@firebase/auth","fire-auth"),te(En,"@firebase/auth-compat","fire-auth-compat"),te(En,"@firebase/database","fire-rtdb"),te(En,"@firebase/database-compat","fire-rtdb-compat"),te(En,"@firebase/functions","fire-fn"),te(En,"@firebase/functions-compat","fire-fn-compat"),te(En,"@firebase/installations","fire-iid"),te(En,"@firebase/installations-compat","fire-iid-compat"),te(En,"@firebase/messaging","fire-fcm"),te(En,"@firebase/messaging-compat","fire-fcm-compat"),te(En,"@firebase/performance","fire-perf"),te(En,"@firebase/performance-compat","fire-perf-compat"),te(En,"@firebase/remote-config","fire-rc"),te(En,"@firebase/remote-config-compat","fire-rc-compat"),te(En,"@firebase/storage","fire-gcs"),te(En,"@firebase/storage-compat","fire-gcs-compat"),te(En,"@firebase/firestore","fire-fst"),te(En,"@firebase/firestore-compat","fire-fst-compat"),te(En,"fire-js","fire-js"),te(En,"firebase","fire-js-all"),En),Mn=new Map,Fn=new Map;function Vn(e,t){try{e.container.addComponent(t)}catch(n){Rn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function jn(e,t){e.container.addOrOverwriteComponent(t)}function Un(e){var t=e.name;if(Fn.has(t))return Rn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fn.set(t,e);var n,r=ht(Mn.values());try{for(r.s();!(n=r.n()).done;){Vn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Bn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:On;Bn(e,t).clearInstance(n)}function qn(){Fn.clear()}var Wn=(te(Sn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),te(Sn,"bad-app-name","Illegal App name: '{$appName}"),te(Sn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),te(Sn,"app-deleted","Firebase App named '{$appName}' already deleted"),te(Sn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),te(Sn,"invalid-log-argument","First argument to `onLog` must be null or a function."),te(Sn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),te(Sn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),te(Sn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),te(Sn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Sn),Hn=new Vt("app","Firebase",Wn),Kn=function(){function e(t,n,r){var i=this;ct(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",(function(){return i}),"PUBLIC"))}return ft(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}]),e}(),Gn="9.8.1";function Qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:On,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Hn.create("bad-app-name",{appName:String(i)});var a=Mn.get(i);if(a){if(zt(e,a.options)&&zt(r,a.config))return a;throw Hn.create("duplicate-app",{appName:i})}var o,s=new an(i),u=ht(Fn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Kn(e,r,s);return Mn.set(i,l),l}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=Mn.get(e);if(!t)throw Hn.create("no-app",{appName:e});return t}function Xn(){return Array.from(Mn.values())}function $n(e){return Jn.apply(this,arguments)}function Jn(){return Jn=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Mn.has(n)){e.next=6;break}return Mn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Jn.apply(this,arguments)}function Zn(e,t,n){var r,i=null!==(r=Ln[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Rn.warn(s.join(" "))}Un(new Zt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function er(e,t){if(null!==e&&"function"!==typeof e)throw Hn.create("invalid-log-argument");!function(e,t){var n,r=ht(on);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=sn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:rn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function tr(e){var t;t=e,on.forEach((function(e){e.setLogLevel(t)}))}var nr="firebase-heartbeat-store",rr=null;function ir(){return rr||(rr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=_n(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(_n(s.result),e.oldVersion,e.newVersion,_n(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(nr)}}).catch((function(e){throw Hn.create("storage-open",{originalErrorMessage:e.message})}))),rr}function ar(e){return or.apply(this,arguments)}function or(){return or=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir();case 3:return n=e.sent,e.abrupt("return",n.transaction(nr).objectStore(nr).get(cr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Hn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),or.apply(this,arguments)}function sr(e,t){return ur.apply(this,arguments)}function ur(){return ur=J(Z.mark((function e(t,n){var r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir();case 3:return r=e.sent,i=r.transaction(nr,"readwrite"),a=i.objectStore(nr),e.next=8,a.put(n,cr(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Hn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ur.apply(this,arguments)}function cr(e){return"".concat(e.name,"!").concat(e.options.appId)}var lr=function(){function e(t){var n=this;ct(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ft(e,[{key:"triggerHeartbeat",value:function(){var e=J(Z.mark((function e(){var t,n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=J(Z.mark((function e(){var t,n,r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fr(),n=hr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=St(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fr(){return(new Date).toISOString().substring(0,10)}function hr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ht(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var dr,pr,vr=function(){function e(t){ct(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ft(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=J(Z.mark((function e(){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ar(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",sr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",sr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Jt(r.heartbeats),Jt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mr(e){return St(JSON.stringify({version:2,heartbeats:e})).length}dr="",Un(new Zt("platform-logger",(function(e){return new Nn(e)}),"PRIVATE")),Un(new Zt("heartbeat",(function(e){return new lr(e)}),"PRIVATE")),Zn(Pn,Dn,dr),Zn(Pn,Dn,"esm2017"),Zn("fire-js","");var yr=function(){function e(t,n){var r=this;ct(this,e),this._delegate=t,this.firebase=n,Vn(t,new Zt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ft(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),$n(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){jn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gr=(te(pr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),te(pr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pr),kr=new Vt("app-compat","Firebase",gr);var br=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Qn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Bt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zn,setLogLevel:tr,onLog:er,apps:null,SDK_VERSION:Gn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Un(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw kr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&It(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Bt(n,e=e||On))throw kr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){It(n,e)},createSubscribe:Gt,ErrorFactory:Vt,deepExtend:It}),n}(),wr=new fn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _r=self.firebase.SDK_VERSION;_r&&_r.indexOf("LITE")>=0&&wr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xr=br;!function(e){Zn("@firebase/app-compat","0.1.25",e)}();xr.registerVersion("firebase","9.8.1","app-compat");var Er=function(){var e=V(),t=function(){var t=J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xr.auth.signOut();case 3:e("/home"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return(0,Se.jsx)(Se.Fragment,{children:(0,Se.jsxs)(at,{className:"justify-content-center",activeKey:"/home",children:[(0,Se.jsx)(at.Item,{children:(0,Se.jsx)(at.Link,{href:"/home",children:"Home"})}),(0,Se.jsx)(at.Item,{children:(0,Se.jsx)(at.Link,{as:X,to:"/ingresar",children:"Login"})}),(0,Se.jsx)(at.Item,{children:(0,Se.jsx)(at.Link,{as:X,to:"/alta",children:"Registro"})}),(0,Se.jsx)(at.Item,{children:(0,Se.jsx)(at.Link,{eventKey:"disabled",disabled:!0,children:"Mis favoritos"})}),(0,Se.jsx)("p",{align:"right",children:(0,Se.jsxs)(ut,{name:"upload",type:"submit",id:"contactus-submit","data-submit":"",onClick:t,children:[(0,Se.jsx)("i",{id:"icon",className:""}),"Salir"]})})]})})},Sr={padding:"0.5rem",margin:"0.8rem",borderRadius:"3px"},Tr=function(){var e=0,t=V(),n=u((0,r.useState)(""),2),i=n[0],a=n[1],o=u((0,r.useState)({email:"",password:""}),2),s=o[0],c=o[1],l=function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f(s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var n=J(ee().mark((function n(r){var i,o,s;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.email,o=r.password,n.prev=1,n.next=4,xr.auth.signInWithEmailAndPassword(i,o);case 4:(s=n.sent).user.uid&&(e=s.user.uid,console.log("Usuario logueado uid: ",s.user.uid),e?(a("Bienvenido!!!"),alert("Bienvenido!!!"),t("/publicaciones")):t("/ingresar")),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log("Error del Catch: ",n.t0.code),a("Se ha producido un Error ! ".concat(n.t0.code));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,Se.jsxs)("div",{className:"container",children:[(0,Se.jsx)("h1",{children:"Login"}),(0,Se.jsxs)("form",{id:"contactus",onSubmit:l,children:[(0,Se.jsxs)("fieldset",{children:[" ",(0,Se.jsx)("input",{type:"text",label:"email",style:Sr,placeholder:"email",id:"email",onChange:function(e){return c(re(re({},s),{},{email:e.target.value}))}})]}),(0,Se.jsxs)("fieldset",{children:[" ",(0,Se.jsx)("input",{type:"password",label:"password",placeholder:"Password",style:Sr,onChange:function(e){return c(re(re({},s),{},{password:e.target.value}))}})]}),(0,Se.jsx)("br",{}),(0,Se.jsx)("button",{type:"submit",children:"Ingresar"})]}),(0,Se.jsx)("div",{children:(0,Se.jsxs)("h3",{children:[" ",i," "]})})]})};var Ir=function(){return(0,Se.jsx)("div",{children:(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h1",{children:"Mi App ### TP 3 ###"}),(0,Se.jsx)(Tr,{})]})})},Cr=["name"],Ar=["_f"],Nr=["_f"],Pr=function(e){return"checkbox"===e.type},Dr=function(e){return e instanceof Date},Rr=function(e){return null==e},Or=function(e){return"object"===typeof e},Lr=function(e){return!Rr(e)&&!Array.isArray(e)&&Or(e)&&!Dr(e)},Mr=function(e){return Lr(e)&&e.target?Pr(e.target)?e.target.checked:e.target.value:e},Fr=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},Vr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},jr=function(e){return void 0===e},Ur=function(e,t,n){if(!t||!Lr(e))return n;var r=Vr(t.split(/[,[\].]+?/)).reduce((function(e,t){return Rr(e)?e:e[t]}),e);return jr(r)||r===e?jr(e[t])?n:e[t]:r},Br="blur",zr="focusout",qr="onBlur",Wr="onChange",Hr="onSubmit",Kr="onTouched",Gr="all",Qr="max",Yr="min",Xr="maxLength",$r="minLength",Jr="pattern",Zr="required",ei="validate",ti=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==Gr&&(t[i]=!r||Gr),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),ni=function(e){return Lr(e)&&!Object.keys(e).length},ri=function(e,t,n){e.name;var r=ae(e,Cr);return ni(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||Gr)}))},ii=function(e){return Array.isArray(e)?e:[e]};function ai(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){return function(e){e&&e.unsubscribe()}(n)}}),[e.disabled])}var oi=function(e){return"string"===typeof e},si=function(e,t,n,r){var i=Array.isArray(e);return oi(e)?(r&&t.watch.add(e),Ur(n,e)):i?e.map((function(e){return r&&t.watch.add(e),Ur(n,e)})):(r&&(t.watchAll=!0),n)},ui=function(e){return"function"===typeof e},ci=function(e){for(var t in e)if(ui(e[t]))return!0;return!1};var li=function(e,t,n,r,i){return t?re(re({},n[e]),{},{types:re(re({},n[e]&&n[e].types?n[e].types:{}),{},te({},r,i||!0))}):{}},fi=function(e){return/^\w*$/.test(e)},hi=function(e){return Vr(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function di(e,t,n){for(var r=-1,i=fi(t)?[t]:hi(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=Lr(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var pi=function e(t,n,r){var i,a=ht(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Ur(t,o);if(s){var u=s._f,c=ae(s,Ar);if(u&&n(u.name)){if(u.ref.focus&&jr(u.ref.focus()))break;if(u.refs){u.refs[0].focus();break}}else Lr(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},vi=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||Jt(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};function mi(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(globalThis.Blob&&e instanceof Blob)t=e;else if(globalThis.FileList&&e instanceof FileList)t=e;else{if(!n&&!Lr(e))return e;for(var r in t=n?[]:{},e)t[r]=ui(e[r])?e[r]:mi(e[r])}return t}function yi(e,t){var n,r=fi(t)?[t]:hi(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=jr(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var s=-1,u=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++s<c.length;){var f=c[s];u=u?u[f]:e[f],l===s&&(Lr(u)&&ni(u)||Array.isArray(u)&&!u.filter((function(e){return!jr(e)})).length)&&(n?delete n[f]:delete e[f]),n=u}}return e}function gi(){var e=[];return{get observers(){return e},next:function(t){var n,r=ht(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var ki=function(e){return Rr(e)||!Or(e)};function bi(e,t){if(ki(e)||ki(t))return e===t;if(Dr(e)&&Dr(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(Dr(s)&&Dr(u)||Lr(s)&&Lr(u)||Array.isArray(s)&&Array.isArray(u)?!bi(s,u):s!==u)return!1}}return!0}var wi=function(e){return{isOnSubmit:!e||e===Hr,isOnBlur:e===qr,isOnChange:e===Wr,isOnAll:e===Gr,isOnTouch:e===Kr}},_i=function(e){return"boolean"===typeof e},xi=function(e){return"file"===e.type},Ei=function(e){return e instanceof HTMLElement},Si=function(e){return"select-multiple"===e.type},Ti=function(e){return"radio"===e.type},Ii=function(e){return Ti(e)||Pr(e)},Ci="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,Ai=function(e){return Ei(e)&&e.isConnected};function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Lr(e)||n)for(var r in e)Array.isArray(e[r])||Lr(e[r])&&!ci(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ni(e[r],t[r])):Rr(e[r])||(t[r]=!0);return t}function Pi(e,t,n){var r=Array.isArray(e);if(Lr(e)||r)for(var i in e)Array.isArray(e[i])||Lr(e[i])&&!ci(e[i])?jr(t)||ki(n[i])?n[i]=Array.isArray(e[i])?Ni(e[i],[]):re({},Ni(e[i])):Pi(e[i],Rr(t)?{}:t[i],n[i]):n[i]=!bi(e[i],t[i]);return n}var Di=function(e,t){return Pi(e,t,Ni(t))},Ri={value:!1,isValid:!1},Oi={value:!0,isValid:!0},Li=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jr(e[0].attributes.value)?jr(e[0].value)||""===e[0].value?Oi:{value:e[0].value,isValid:!0}:Oi:Ri}return Ri},Mi=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return jr(e)?e:n?""===e?NaN:+e:r&&oi(e)?new Date(e):i?i(e):e},Fi={isValid:!1,value:null},Vi=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),Fi):Fi};function ji(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return xi(t)?t.files:Ti(t)?Vi(e.refs).value:Si(t)?Jt(t.selectedOptions).map((function(e){return e.value})):Pr(t)?Li(e.refs).value:Mi(jr(t.value)?e.ref.value:t.value,e)}var Ui=function(e,t,n,r){var i,a={},o=ht(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Ur(t,s);u&&di(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:Jt(e),fields:a,shouldUseNativeValidation:r}},Bi=function(e){return e instanceof RegExp},zi=function(e){return jr(e)?void 0:Bi(e)?e.source:Lr(e)?Bi(e.value)?e.value.source:e.value:e},qi=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function Wi(e,t,n){var r=Ur(e,n);if(r||fi(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=Ur(t,a),s=Ur(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var Hi=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},Ki=function(e,t){return!Vr(Ur(e,t)).length&&yi(e,t)},Gi=function(e){return oi(e)||r.isValidElement(e)};function Qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Gi(e)||Array.isArray(e)&&e.every(Gi)||_i(e)&&!e)return{type:n,message:Gi(e)?e:"",ref:t}}var Yi=function(e){return Lr(e)&&!Bi(e)?e:{value:e,message:""}},Xi=function(){var e=J(Z.mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p,v,m,y,g,k,b,w,_,x,E,S,T,I,C,A,N,P,D,R,O,L,M,F,V,j,U,B,z,q,W,H,K,G,Q;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._f,o=a.ref,s=a.refs,u=a.required,c=a.maxLength,l=a.minLength,f=a.min,h=a.max,d=a.pattern,p=a.validate,v=a.name,m=a.valueAsNumber,y=a.mount,g=a.disabled,y&&!g){e.next=3;break}return e.abrupt("return",{});case 3:if(k=s?s[0]:o,b=function(e){i&&k.reportValidity&&(k.setCustomValidity(_i(e)?"":e||" "),k.reportValidity())},w={},_=Ti(o),x=Pr(o),E=_||x,S=(m||xi(o))&&!o.value||""===n||Array.isArray(n)&&!n.length,T=li.bind(null,v,r,w),I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xr,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$r,a=e?t:n;w[v]=re({type:e?r:i,message:a,ref:o},T(e?r:i,a))},!u||!(!E&&(S||Rr(n))||_i(n)&&!n||x&&!Li(s).isValid||_&&!Vi(s).isValid)){e.next=19;break}if(C=Gi(u)?{value:!!u,message:u}:Yi(u),A=C.value,N=C.message,!A){e.next=19;break}if(w[v]=re({type:Zr,message:N,ref:k},T(Zr,N)),r){e.next=19;break}return b(N),e.abrupt("return",w);case 19:if(S||Rr(f)&&Rr(h)){e.next=28;break}if(R=Yi(h),O=Yi(f),isNaN(n)?(M=o.valueAsDate||new Date(n),oi(R.value)&&(P=M>new Date(R.value)),oi(O.value)&&(D=M<new Date(O.value))):(L=o.valueAsNumber||+n,Rr(R.value)||(P=L>R.value),Rr(O.value)||(D=L<O.value)),!P&&!D){e.next=28;break}if(I(!!P,R.message,O.message,Qr,Yr),r){e.next=28;break}return b(w[v].message),e.abrupt("return",w);case 28:if(!c&&!l||S||!oi(n)){e.next=38;break}if(F=Yi(c),V=Yi(l),j=!Rr(F.value)&&n.length>F.value,U=!Rr(V.value)&&n.length<V.value,!j&&!U){e.next=38;break}if(I(j,F.message,V.message),r){e.next=38;break}return b(w[v].message),e.abrupt("return",w);case 38:if(!d||S||!oi(n)){e.next=45;break}if(B=Yi(d),z=B.value,q=B.message,!Bi(z)||n.match(z)){e.next=45;break}if(w[v]=re({type:Jr,message:q,ref:o},T(Jr,q)),r){e.next=45;break}return b(q),e.abrupt("return",w);case 45:if(!p){e.next=79;break}if(!ui(p)){e.next=58;break}return e.next=49,p(n);case 49:if(W=e.sent,!(H=Qi(W,k))){e.next=56;break}if(w[v]=re(re({},H),T(ei,H.message)),r){e.next=56;break}return b(H.message),e.abrupt("return",w);case 56:e.next=79;break;case 58:if(!Lr(p)){e.next=79;break}K={},e.t0=Z.keys(p);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(G=e.t1.value,ni(K)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=Qi,e.next=68,p[G](n);case 68:e.t3=e.sent,e.t4=k,e.t5=G,(Q=(0,e.t2)(e.t3,e.t4,e.t5))&&(K=re(re({},Q),T(G,Q.message)),b(Q.message),r&&(w[v]=K)),e.next=61;break;case 75:if(ni(K)){e.next=79;break}if(w[v]=re({ref:k},K),r){e.next=79;break}return e.abrupt("return",w);case 79:return b(!0),e.abrupt("return",w);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),$i={mode:Hr,reValidateMode:Wr,shouldFocusError:!0};function Ji(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=re(re({},$i),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=mi(n.defaultValues)||{},o=n.shouldUnregister?{}:mi(a),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:gi(),array:gi(),state:gi()},d=wi(n.mode),p=wi(n.reValidateMode),v=n.criteriaMode===Gr,m=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];clearTimeout(c),c=window.setTimeout((function(){return e.apply(void 0,r)}),t)}},y=function(){var e=J(Z.mark((function e(t){var a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=ni,e.next=6,x();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,S(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&n){if(s.action=!0,l&&Array.isArray(Ur(i,e))){var d=n(Ur(i,e),u.argA,u.argB);c&&di(i,e,d)}if(f.errors&&l&&Array.isArray(Ur(r.errors,e))){var p=n(Ur(r.errors,e),u.argA,u.argB);c&&di(r.errors,e,p),Ki(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(Ur(r.touchedFields,e))){var v=n(Ur(r.touchedFields,e),u.argA,u.argB);c&&di(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=Di(a,o)),h.state.next({isDirty:I(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else di(o,e,t)},k=function(e,t){return di(r.errors,e,t),h.state.next({errors:r.errors})},b=function(e,t,n,r){var u=Ur(i,e);if(u){var c=Ur(o,e,jr(n)?Ur(a,e):n);jr(c)||r&&r.defaultChecked||t?di(o,e,t?c:ji(u._f)):N(e,c),s.mount&&y()}},w=function(e,t,n,i,o){var s=!1,u={name:e},c=Ur(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=u.isDirty=I(),s=l!==u.isDirty}if(f.dirtyFields&&(!n||i)){var d=Ur(r.dirtyFields,e);bi(Ur(a,e),t)?yi(r.dirtyFields,e):di(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,s=s||d!==Ur(r.dirtyFields,e)}return n&&!c&&(di(r.touchedFields,e,n),u.touchedFields=r.touchedFields,s=s||f.touchedFields&&c!==n),s&&o&&h.state.next(u),s?u:{}},_=function(){var n=J(Z.mark((function n(i,a,o,s,u){var d,p,v;return Z.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d=Ur(r.errors,a),p=f.isValid&&r.isValid!==o,t.delayError&&s?(e=e||m(k,t.delayError))(a,s):(clearTimeout(c),s?di(r.errors,a,s):yi(r.errors,a)),(s?bi(d,s):!d)&&ni(u)&&!p||i||(v=re(re(re({},u),p?{isValid:o}:{}),{},{errors:r.errors,name:a}),r=re(re({},r),v),h.state.next(v)),l[a]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i,a){return n.apply(this,arguments)}}(),x=function(){var e=J(Z.mark((function e(t){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(re({},o),n.context,Ui(t||u.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=J(Z.mark((function e(t){var n,i,a,o,s,u;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(n=e.sent,i=n.errors,t){a=ht(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=Ur(i,s))?di(r.errors,s,u):yi(r.errors,s)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=J(Z.mark((function e(t,i){var a,s,u,c,l,f,h=arguments;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=Z.keys(t);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(s=e.t1.value,!(u=t[s])){e.next=20;break}if(c=u._f,l=ae(u,Nr),!c){e.next=16;break}return e.next=10,Xi(u,Ur(o,c.name),v,n.shouldUseNativeValidation);case 10:if(!(f=e.sent)[c.name]){e.next=15;break}if(a.valid=!1,!i){e.next=15;break}return e.abrupt("break",22);case 15:i||(f[c.name]?di(r.errors,c.name,f[c.name]):yi(r.errors,c.name));case 16:if(e.t2=l,!e.t2){e.next=20;break}return e.next=20,S(l,i,a);case 20:e.next=2;break;case 22:return e.abrupt("return",a.valid);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e,t=ht(u.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Ur(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Ai(e)})):!Ai(r._f.ref))&&U(n)}}catch(a){t.e(a)}finally{t.f()}u.unMount=new Set},I=function(e,t){return e&&t&&di(o,e,t),!bi(L(),a)},C=function(e,t,n){var r=re({},s.mount?o:jr(t)?a:oi(e)?te({},e,t):t);return si(e,u,r,n)},A=function(e){return Vr(Ur(s.mount?o:a,e,t.shouldUnregister?Ur(a,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ur(i,e),a=t;if(r){var s=r._f;s&&(!s.disabled&&di(o,e,Mi(t,s)),a=Ci&&Ei(s.ref)&&Rr(t)?"":t,Si(s.ref)?Jt(s.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):s.refs?Pr(s.ref)?s.refs.length>1?s.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):s.refs[0]&&(s.refs[0].checked=!!a):s.refs.forEach((function(e){return e.checked=e.value===a})):xi(s.ref)?s.ref.value="":(s.ref.value=a,s.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&w(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&O(e)},P=function e(t,n,r){for(var a in n){var o=n[a],s="".concat(t,".").concat(a),c=Ur(i,s);!u.array.has(t)&&ki(o)&&(!c||c._f)||Dr(o)?N(s,o,r):e(s,o,r)}},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Ur(i,e),c=u.array.has(e),l=mi(t);di(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=Di(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:I(e,l)}))):!s||s._f||Rr(l)?N(e,l,n):P(e,l,n),vi(e,u)&&h.state.next({}),h.watch.next({name:e})},R=function(){var e=J(Z.mark((function e(t){var a,s,c,f,m,g,k,b,E,S,T,I,C,A,N;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,s=a.name,!(c=Ur(i,s))){e.next=39;break}if(g=a.type?ji(c._f):Mr(t),k=t.type===Br||t.type===zr,b=!qi(c._f)&&!n.resolver&&!Ur(r.errors,s)&&!c._f.deps||Hi(k,Ur(r.touchedFields,s),r.isSubmitted,p,d),E=vi(s,u,k),di(o,s,g),k?c._f.onBlur&&c._f.onBlur(t):c._f.onChange&&c._f.onChange(t),S=w(s,g,k,!1),T=!ni(S)||E,!k&&h.watch.next({name:s,type:t.type}),!b){e.next=15;break}return e.abrupt("return",T&&h.state.next(re({name:s},E?{}:S)));case 15:if(!k&&E&&h.state.next({}),l[s]=(l[s],1),h.state.next({isValidating:!0}),!n.resolver){e.next=30;break}return e.next=21,x([s]);case 21:I=e.sent,C=I.errors,A=Wi(r.errors,i,s),N=Wi(C,i,A.name||s),f=N.error,s=N.name,m=ni(C),e.next=37;break;case 30:return e.next=32,Xi(c,Ur(o,s),v,n.shouldUseNativeValidation);case 32:return e.t0=s,f=e.sent[e.t0],e.next=36,y(!0);case 36:m=e.sent;case 37:c._f.deps&&O(c._f.deps),_(!1,s,m,f,S);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=J(Z.mark((function e(t){var a,o,s,c,l,d=arguments;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=ii(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,E(jr(t)?t:c);case 6:l=e.sent,o=ni(l),s=t?!c.some((function(e){return Ur(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ur(i,t),e.next=3,S(n&&n._f?te({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,S(i);case 20:s=o=e.sent;case 21:return h.state.next(re(re(re({},!oi(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!s&&pi(i,(function(e){return Ur(r.errors,e)}),t?c:u.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=re(re({},a),s.mount?o:{});return jr(e)?t:oi(e)?Ur(t,e):e.map((function(e){return Ur(t,e)}))},M=function(e,t){return{invalid:!!Ur((t||r).errors,e),isDirty:!!Ur((t||r).dirtyFields,e),isTouched:!!Ur((t||r).touchedFields,e),error:Ur((t||r).errors,e)}},F=function(e){e?ii(e).forEach((function(e){return yi(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},V=function(e,t,n){var a=(Ur(i,e,{_f:{}})._f||{}).ref;di(r.errors,e,re(re({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},j=function(e,t){return ui(e)?h.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},U=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ht(e?ii(e):u.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;u.mount.delete(l),u.array.delete(l),Ur(i,l)&&(s.keepValue||(yi(i,l),yi(o,l)),!s.keepError&&yi(r.errors,l),!s.keepDirty&&yi(r.dirtyFields,l),!s.keepTouched&&yi(r.touchedFields,l),!n.shouldUnregister&&!s.keepDefaultValue&&yi(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(re(re({},r),s.keepDirty?{isDirty:I()}:{})),!s.keepIsValid&&y()},B=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Ur(i,t),l=_i(r.disabled);return di(i,t,{_f:re(re({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),u.mount.add(t),c?l&&di(o,t,r.disabled?void 0:Ur(o,t,ji(c._f))):b(t,!0,r.value),re(re(re({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:zi(r.min),max:zi(r.max),minLength:zi(r.minLength),maxLength:zi(r.maxLength),pattern:zi(r.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=Ur(i,t);var l=jr(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=Ii(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;di(i,t,{_f:re(re({},c._f),f?{refs:[].concat(Jt(h.filter(Ai)),[l],Jt(Array.isArray(Ur(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(c=Ur(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!Fr(u.array,t)||!s.action)&&u.unMount.add(t)}))})},z=function(e,t){return function(){var a=J(Z.mark((function a(s){var c,l,f,d,p;return Z.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist()),c=!0,l=mi(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,x();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,S(i);case 17:if(!ni(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,s);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(re({},r.errors),s);case 26:n.shouldFocusError&&pi(i,(function(e){return Ur(r.errors,e)}),u.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ni(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ur(i,e)&&(jr(t.defaultValue)?D(e,Ur(a,e)):(D(e,t.defaultValue),di(a,e,t.defaultValue)),t.keepTouched||yi(r.touchedFields,e),t.keepDirty||(yi(r.dirtyFields,e),r.isDirty=t.defaultValue?I(e,Ur(a,e)):I()),t.keepError||(yi(r.errors,e),f.isValid&&y()),h.state.next(re({},r)))},W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=mi(c),d=e&&!ni(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=ht(u.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;Ur(r.dirtyFields,m)?di(d,m,Ur(o,m)):D(m,Ur(d,m))}}catch(_){v.e(_)}finally{v.f()}}else{if(Ci&&jr(e)){var y,g=ht(u.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=Ur(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{Ei(w)&&w.closest("form").reset();break}catch(FS){}}}}catch(_){g.e(_)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?mi(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||bi(e,a)),isSubmitted:!!n.keepIsSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?Di(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ur(i,e)._f,r=n.refs?n.refs[0]:n.ref;t.shouldSelect?r.select():r.focus()};return{control:{register:B,unregister:U,getFieldState:M,_executeSchema:x,_getWatch:C,_getDirty:I,_updateValid:y,_removeUnmounted:T,_updateFieldArray:g,_getFieldArray:A,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return a},get _names(){return u},set _names(e){u=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=re(re({},n),e)}},trigger:O,register:B,handleSubmit:z,watch:j,setValue:D,getValues:L,reset:W,resetField:q,clearErrors:F,unregister:U,setError:V,setFocus:H,getFieldState:M}}function Zi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mt(e)););return e}function ea(){return ea="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ea.apply(this,arguments)}var ta=function(e,t){return ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ta(e,t)};function na(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ta(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ra=function(){return ra=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ra.apply(this,arguments)};function ia(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function aa(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function oa(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var sa;Object.create;var ua="facebook.com",ca="github.com",la="google.com",fa="password",ha="twitter.com",da="EMAIL_SIGNIN",pa="PASSWORD_RESET",va="RECOVER_EMAIL",ma="REVERT_SECOND_FACTOR_ADDITION",ya="VERIFY_AND_CHANGE_EMAIL",ga="VERIFY_EMAIL";function ka(){return te({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ba=function(){var e;return te(e={},"admin-restricted-operation","This operation is restricted to administrators only."),te(e,"argument-error",""),te(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),te(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),te(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),te(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),te(e,"cordova-not-ready","Cordova framework is not ready."),te(e,"cors-unsupported","This browser is not supported."),te(e,"credential-already-in-use","This credential is already associated with a different user account."),te(e,"custom-token-mismatch","The custom token corresponds to a different audience."),te(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),te(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),te(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),te(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),te(e,"email-already-in-use","The email address is already in use by another account."),te(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),te(e,"expired-action-code","The action code has expired."),te(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),te(e,"internal-error","An internal AuthError has occurred."),te(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),te(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),te(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),te(e,"invalid-auth-event","An internal AuthError has occurred."),te(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),te(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),te(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),te(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),te(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),te(e,"invalid-email","The email address is badly formatted."),te(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),te(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),te(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),te(e,"invalid-credential","The supplied auth credential is malformed or has expired."),te(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),te(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),te(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),te(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),te(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),te(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),te(e,"wrong-password","The password is invalid or the user does not have a password."),te(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),te(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),te(e,"invalid-provider-id","The specified provider ID is invalid."),te(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),te(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),te(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),te(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),te(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),te(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),te(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),te(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),te(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),te(e,"missing-continue-uri","A continue URL must be provided in the request."),te(e,"missing-iframe-start","An internal AuthError has occurred."),te(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),te(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),te(e,"missing-multi-factor-info","No second factor identifier is provided."),te(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),te(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),te(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),te(e,"app-deleted","This instance of FirebaseApp has been deleted."),te(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),te(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),te(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),te(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),te(e,"no-auth-event","An internal AuthError has occurred."),te(e,"no-such-provider","User was not linked to an account with the given provider."),te(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),te(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),te(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),te(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),te(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),te(e,"provider-already-linked","User can only be linked to one identity for the given provider."),te(e,"quota-exceeded","The project's quota for this operation has been exceeded."),te(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),te(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),te(e,"rejected-credential","The request contains malformed or mismatching credentials."),te(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),te(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),te(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),te(e,"timeout","The operation has timed out."),te(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),te(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),te(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),te(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),te(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),te(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),te(e,"unverified-email","The operation requires a verified email."),te(e,"user-cancelled","The user did not grant your application the permissions it requested."),te(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),te(e,"user-disabled","The user account has been disabled by an administrator."),te(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),te(e,"user-signed-out",""),te(e,"weak-password","The password must be 6 characters long or more."),te(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),te(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},wa=ka,_a=new Vt("auth","Firebase",ka()),xa=new fn("@firebase/auth");function Ea(e){if(xa.logLevel<=rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xa.error.apply(xa,["Auth (".concat(Gn,"): ").concat(e)].concat(n))}}function Sa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Aa.apply(void 0,[e].concat(n))}function Ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Aa.apply(void 0,[e].concat(n))}function Ia(e,t,n){var r=Object.assign(Object.assign({},wa()),te({},t,n));return new Vt("auth","Firebase",r).create(t,{appName:e.name})}function Ca(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sa(e,"argument-error"),Ia(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Jt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Jt(o)))}return _a.create.apply(_a,[e].concat(n))}function Na(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Aa.apply(void 0,[t].concat(r))}}function Pa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ea(t),new Error(t)}function Da(e,t){e||Pa(t)}var Ra=new Map;function Oa(e){Da(e instanceof Function,"Expected a class definition");var t=Ra.get(e);return t?(Da(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ra.set(e,t),t)}function La(e,t){var n=Bn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(zt(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Sa(r,"already-initialized")}return n.initialize({options:t})}function Ma(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fa(){return"http:"===Va()||"https:"===Va()}function Va(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ja=function(){function e(t,n){ct(this,e),this.shortDelay=t,this.longDelay=n,Da(n>t,"Short delay should be less than long delay!"),this.isMobile=Pt()||Ot()}return ft(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fa()||Rt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ua(e,t){Da(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ba=function(){function e(){ct(this,e)}return ft(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),za=(te(sa={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),te(sa,"MISSING_CUSTOM_TOKEN","internal-error"),te(sa,"INVALID_IDENTIFIER","invalid-email"),te(sa,"MISSING_CONTINUE_URI","internal-error"),te(sa,"INVALID_PASSWORD","wrong-password"),te(sa,"MISSING_PASSWORD","internal-error"),te(sa,"EMAIL_EXISTS","email-already-in-use"),te(sa,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),te(sa,"INVALID_IDP_RESPONSE","invalid-credential"),te(sa,"INVALID_PENDING_TOKEN","invalid-credential"),te(sa,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),te(sa,"MISSING_REQ_TYPE","internal-error"),te(sa,"EMAIL_NOT_FOUND","user-not-found"),te(sa,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),te(sa,"EXPIRED_OOB_CODE","expired-action-code"),te(sa,"INVALID_OOB_CODE","invalid-action-code"),te(sa,"MISSING_OOB_CODE","internal-error"),te(sa,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),te(sa,"INVALID_ID_TOKEN","invalid-user-token"),te(sa,"TOKEN_EXPIRED","user-token-expired"),te(sa,"USER_NOT_FOUND","user-token-expired"),te(sa,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),te(sa,"INVALID_CODE","invalid-verification-code"),te(sa,"INVALID_SESSION_INFO","invalid-verification-id"),te(sa,"INVALID_TEMPORARY_PROOF","invalid-credential"),te(sa,"MISSING_SESSION_INFO","missing-verification-id"),te(sa,"SESSION_EXPIRED","code-expired"),te(sa,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),te(sa,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),te(sa,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),te(sa,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),te(sa,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),te(sa,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),te(sa,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),te(sa,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),te(sa,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),te(sa,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),te(sa,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),sa),qa=new ja(3e4,6e4);function Wa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ha(e,t,n,r){return Ka.apply(this,arguments)}function Ka(){return Ka=J(ee().mark((function e(t,n,r,i){var a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ga(t,a,J(ee().mark((function e(){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Wt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ba.fetch()($a(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e,t,n){return Qa.apply(this,arguments)}function Qa(){return Qa=J(ee().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},za),n),e.prev=2,a=new Ja(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Za(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Za(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Za(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Ia(t,p,d);case 30:Sa(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ft)){e.next=37;break}throw e.t0;case 37:Sa(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Qa.apply(this,arguments)}function Ya(e,t,n,r){return Xa.apply(this,arguments)}function Xa(){return Xa=J(ee().mark((function e(t,n,r,i){var a,o,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ha(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function $a(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ua(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ja=function(){function e(t){var n=this;ct(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ta(n.auth,"network-request-failed"))}),qa.get())}))}return ft(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Za(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ta(e,t,r);return i.customData._tokenResponse=n,i}function eo(e,t){return to.apply(this,arguments)}function to(){return to=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function so(){return so=J(ee().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Xt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Na((a=co(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:oo(uo(a.auth_time)),issuedAtTime:oo(uo(a.iat)),expirationTime:oo(uo(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function uo(e){return 1e3*Number(e)}function co(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ea("JWT malformed, contained fewer than 3 sections"),null;try{var a=Tt(r);return a?JSON.parse(a):(Ea("Failed to decode base64 JWT payload"),null)}catch(o){return Ea("Caught error parsing JWT payload as JSON",o),null}}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=J(ee().mark((function e(t,n){var r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ft&&ho(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fo.apply(this,arguments)}function ho(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var po=function(){function e(t){ct(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ft(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),vo=function(){function e(t,n){ct(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ft(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=oo(this.lastLoginAt),this.creationTime=oo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function mo(e){return yo.apply(this,arguments)}function yo(){return yo=J(ee().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,lo(t,io(r,{idToken:i}));case 6:Na(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?bo(o.providerUserInfo):[],u=ko(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vo(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(){return(go=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xt(t),e.next=3,mo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Jt(n),Jt(t))}function bo(e){return e.map((function(e){var t=e.providerId,n=ia(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function wo(e,t){return _o.apply(this,arguments)}function _o(){return _o=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga(t,{},J(ee().mark((function e(){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=$a(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ba.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}var xo=function(){function e(){ct(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ft(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Na(e.idToken,"internal-error"),Na("undefined"!==typeof e.idToken,"internal-error"),Na("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=co(e);return Na(t,"internal-error"),Na("undefined"!==typeof t.exp,"internal-error"),Na("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=J(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Na(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Pa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Na("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Na("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Na("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Eo(e,t){Na("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var So=function(){function e(t){ct(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ia(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Jt(a.providerData):[],this.metadata=new vo(a.createdAt||void 0,a.lastLoginAt||void 0)}return ft(e,[{key:"getIdToken",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Na(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return so.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return go.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Na(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Na(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=J(ee().mark((function e(t){var n,r,i=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,mo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,lo(this,eo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Na(k&&x,t,"internal-error");var E=xo.fromJSON(this.name,x);Na("string"===typeof k,t,"internal-error"),Eo(f,t.name),Eo(h,t.name),Na("boolean"===typeof b,t,"internal-error"),Na("boolean"===typeof w,t,"internal-error"),Eo(d,t.name),Eo(p,t.name),Eo(v,t.name),Eo(m,t.name),Eo(y,t.name),Eo(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=J(ee().mark((function t(n,r){var i,a,o,s=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new xo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,mo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),To=function(){function e(){ct(this,e),this.type="NONE",this.storage={}}return ft(e,[{key:"_isAvailable",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();To.type="NONE";var Io=To;function Co(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ao=function(){function e(t,n,r){ct(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Co(this.userKey,a.apiKey,o),this.fullPersistenceKey=Co("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ft(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?So._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=J(ee().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Oa(Io),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Oa(Io),s=Co(i,n.config.apiKey,n.name),u=null,c=ht(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=So._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function No(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Po(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mo(t))return"Blackberry";if(Fo(t))return"Webos";if(Do(t))return"Safari";if((t.includes("chrome/")||Ro(t))&&!t.includes("edge/"))return"Chrome";if(Lo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/firefox\//i.test(e)}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/crios\//i.test(e)}function Oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/iemobile/i.test(e)}function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/android/i.test(e)}function Mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/blackberry/i.test(e)}function Fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/webos/i.test(e)}function Vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/iphone|ipad|ipod/i.test(e)}function jo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return Vo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Uo(){return Lt()&&10===document.documentMode}function Bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return Vo(e)||Lo(e)||Fo(e)||Mo(e)||/windows phone/i.test(e)||Oo(e)}function zo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=No(Nt());break;case"Worker":t="".concat(No(Nt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gn,"/").concat(r)}var qo=function(){function e(t){ct(this,e),this.auth=t,this.queue=[]}return ft(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ht(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=ht(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Wo=function(){function e(t,n,r){ct(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ko(this),this.idTokenSubscription=new Ko(this),this.beforeStateQueue=new qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_a,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ft(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Oa(t)),this._initializationPromise=this.queue(J(ee().mark((function r(){var i,a;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ao.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Na(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Xt(t):null)&&Na(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n,r=this,i=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Na(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Oa(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Vt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Na(n=t&&Oa(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ao.create(this,[Oa(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Na(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Na(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ho(e){return Xt(e)}var Ko=function(){function e(t){var n=this;ct(this,e),this.auth=t,this.observer=null,this.addObserver=Gt((function(e){return n.observer=e}))}return ft(e,[{key:"next",get:function(){return Na(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Go(e,t,n){var r=Ho(e);Na(r._canInitEmulator,r,"emulator-config-failed"),Na(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qo(t),o=function(e){var t=Qo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Yo(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Yo(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Xo=function(){function e(t,n){ct(this,e),this.providerId=t,this.signInMethod=n}return ft(e,[{key:"toJSON",value:function(){return Pa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Pa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Pa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Pa("not implemented")}}]),e}();function $o(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:resetPassword",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t){return es.apply(this,arguments)}function es(){return es=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:update",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithPassword",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:sendOobCode",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function ss(e,t){return us.apply(this,arguments)}function us(){return us=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return ls=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return gs=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}var ks=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ct(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ft(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rs(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vs(t,{email:this._email,oobCode:this._password}));case 5:Sa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ys(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Sa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Xo);function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithIdp",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var _s=function(e){vt(n,e);var t=bt(n);function n(){var e;return ct(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ft(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ia(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Xo);function xs(e,t){return Es.apply(this,arguments)}function Es(){return Es=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:sendVerificationCode",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ss(){return Ss=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Ts(){return Ts=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Wa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Za(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}var Is=te({},"USER_NOT_FOUND","user-not-found");function Cs(){return Cs=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Wa(t,r),Is));case 2:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}var As=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ft(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ss.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ts.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Cs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Xo);var Ns=function(){function e(t){var n,r,i,a,o,s;ct(this,e);var u=Ht(Kt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Na(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ft(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ht(Kt(e)).link,n=t?Ht(Kt(t)).deep_link_id:null,r=Ht(Kt(e)).deep_link_id;return(r?Ht(Kt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(FS){return null}}}]),e}();var Ps=function(){function e(){ct(this,e),this.providerId=e.PROVIDER_ID}return ft(e,null,[{key:"credential",value:function(e,t){return ks._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ns.parseLink(t);return Na(n,"argument-error"),ks._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ps.PROVIDER_ID="password",Ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ds=function(){function e(t){ct(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ft(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Rs=function(e){vt(n,e);var t=bt(n);function n(){var e;return ct(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ft(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Jt(this.scopes)}}]),n}(Ds),Os=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Na(e.idToken||e.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Na("providerId"in t&&"signInMethod"in t,"argument-error"),_s._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Rs),Ls=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.call(this,"facebook.com")}return ft(n,null,[{key:"credential",value:function(e){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(FS){return null}}}]),n}(Rs);Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ls.PROVIDER_ID="facebook.com";var Ms=function(e){vt(n,e);var t=bt(n);function n(){var e;return ct(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ft(n,null,[{key:"credential",value:function(e,t){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(FS){return null}}}]),n}(Rs);Ms.GOOGLE_SIGN_IN_METHOD="google.com",Ms.PROVIDER_ID="google.com";var Fs=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.call(this,"github.com")}return ft(n,null,[{key:"credential",value:function(e){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(FS){return null}}}]),n}(Rs);Fs.GITHUB_SIGN_IN_METHOD="github.com",Fs.PROVIDER_ID="github.com";var Vs=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ft(n,[{key:"_getIdTokenResponse",value:function(e){return bs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xo),js=function(e){vt(n,e);var t=bt(n);function n(e){return ct(this,n),Na(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ft(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Vs.fromJSON(e);return Na(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Vs._create(r,n)}catch(i){return null}}}]),n}(Ds),Us=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.call(this,"twitter.com")}return ft(n,null,[{key:"credential",value:function(e,t){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(FS){return null}}}]),n}(Rs);function Bs(e,t){return zs.apply(this,arguments)}function zs(){return zs=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signUp",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}Us.TWITTER_SIGN_IN_METHOD="twitter.com",Us.PROVIDER_ID="twitter.com";var qs=function(){function e(t){ct(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ft(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=J(ee().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,So._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ws(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=J(ee().mark((function t(n,r,i){var a;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ws(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ws(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Hs(){return Hs=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ho(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Bs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}var Ks=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a){var o,s;return ct(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(dt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ft(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ft);function Gs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ks._fromErrorAndOperation(e,n,t,r);throw n}))}function Qs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ys(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xt(t),e.next=3,Zs(!0,r,n);case 3:return e.t0=no,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Qs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function $s(e,t){return Js.apply(this,arguments)}function Js(){return Js=J(ee().mark((function e(t,n){var r,i,a=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=lo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(e,t,n){return eu.apply(this,arguments)}function eu(){return(eu=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo(n);case 2:i=Qs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Na(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,lo(t,Gs(i,a,n,t),r);case 6:return Na((o=e.sent).idToken,i,"internal-error"),Na(s=co(o.idToken),i,"internal-error"),u=s.sub,Na(t.uid===u,i,"user-mismatch"),e.abrupt("return",qs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=J(ee().mark((function e(t,n){var r,i,a,o,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Gs(t,i,n);case 4:return a=e.sent,e.next=7,qs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(Ho(t),n));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(e,t){return uu.apply(this,arguments)}function uu(){return(uu=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xt(t),e.next=3,Zs(!1,r,n.providerId);case 3:return e.abrupt("return",$s(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tu(Xt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithCustomToken",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ho(t),e.next=3,fu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}var pu=function(){function e(t,n){ct(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ft(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vu._fromServerResponse(e,t):Sa(e,"internal-error")}}]),e}(),vu=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ft(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pu);function mu(e,t,n){var r;Na((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Na("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Na(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Na(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yu(){return yu=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xt(t),a={requestType:"PASSWORD_RESET",email:n},r&&mu(i,a,r),e.next=5,cs(i,a);case 5:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(){return gu=J(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(Xt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(){return ku=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(Xt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function bu(e,t){return wu.apply(this,arguments)}function wu(){return wu=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xt(t),e.next=3,$o(r,{oobCode:n});case 3:i=e.sent,Na(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Na(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Na(i.mfaInfo,r,"internal-error");case 13:Na(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=pu._fromServerResponse(Ho(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function _u(){return _u=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(Xt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function xu(e,t,n){return Eu.apply(this,arguments)}function Eu(){return Eu=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ho(t),e.next=3,Bs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,qs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Su(){return Su=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xt(t),a={requestType:"EMAIL_SIGNIN",email:n},Na(r.handleCodeInApp,i,"argument-error"),r&&mu(i,a,r),e.next=6,fs(i,a);case 6:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Tu(){return Tu=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xt(t),Na((a=Ps.credentialWithLink(n,r||Ma()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",au(i,a));case 4:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Iu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:createAuthUri",Wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Au(){return Au=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa()?Ma():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Iu(Xt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Nu(){return(Nu=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mu(r.auth,a,n),e.next=8,ss(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(){return(Pu=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mu(i.auth,o,r),e.next=8,ds(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Ou(){return(Ou=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Xt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,lo(a,Du(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return Mu=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,lo(t,Zo(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}var Fu=ft((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ct(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Vu=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a){var o;return ct(this,n),(o=t.call(this,e,r,i)).username=a,o}return ft(n)}(Fu),ju=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"facebook.com",r)}return ft(n)}(Fu),Uu=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ft(n)}(Vu),Bu=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"google.com",r)}return ft(n)}(Fu),zu=function(e){vt(n,e);var t=bt(n);function n(e,r,i){return ct(this,n),t.call(this,e,"twitter.com",r,i)}return ft(n)}(Vu);function qu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=co(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Fu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ju(a,i);case"github.com":return new Uu(a,i);case"google.com":return new Bu(a,i);case"twitter.com":return new zu(a,i,e.screenName||null);case"custom":case"anonymous":return new Fu(a,null);default:return new Fu(a,r,i)}}(n)}function Wu(e,t,n,r){return Xt(e).onAuthStateChanged(t,n,r)}var Hu=function(){function e(t,n){ct(this,e),this.type=t,this.credential=n}return ft(e,[{key:"toJSON",value:function(){return{multiFactorSession:te({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ku=function(){function e(t,n,r){ct(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ft(e,[{key:"resolveSignIn",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ho(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return pu._fromServerResponse(r,e)}));Na(i.mfaPendingCredential,r,"internal-error");var o=Hu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=J(ee().mark((function e(t){var a,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qs._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Na(n.user,r,"internal-error"),e.abrupt("return",qs._forOperation(n.user,n.operationType,s));case 17:Sa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Gu(e,t){return Ha(e,"POST","/v2/accounts/mfaEnrollment:start",Wa(e,t))}function Qu(e,t){return Ha(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Wa(e,t))}var Yu=function(){function e(t){var n=this;ct(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return pu._fromServerResponse(t.auth,e)})))}))}return ft(e,[{key:"getSession",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Hu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,lo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,lo(this.user,Qu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Xu=new WeakMap;var $u="__sak",Ju=function(){function e(t,n){ct(this,e),this.storageRetriever=t,this.type=n}return ft(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch(FS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zu=function(e){vt(n,e);var t=bt(n);function n(){var e;return ct(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Nt();return Do(e)||Vo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Bo(),e._shouldAllowMigration=!0,e}return ft(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Uo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=J(ee().mark((function e(t,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(mt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(mt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(mt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ju);Zu.type="LOCAL";var ec=Zu,tc=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ft(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ju);tc.type="SESSION";var nc=tc;function rc(e){return Promise.all(e.map(function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ic=function(){function e(t){ct(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ft(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,rc(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ac(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ic.receivers=[];var oc=function(){function e(t){ct(this,e),this.target=t,this.handlers=new Set}return ft(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ac("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function sc(){return window}function uc(){return"undefined"!==typeof sc().WorkerGlobalScope&&"function"===typeof sc().importScripts}function cc(){return lc.apply(this,arguments)}function lc(){return(lc=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function fc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var hc="firebaseLocalStorageDb",dc="firebaseLocalStorage",pc="fbase_key",vc=function(){function e(t){ct(this,e),this.request=t}return ft(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function mc(e,t){return e.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function yc(){var e=indexedDB.deleteDatabase(hc);return new vc(e).toPromise()}function gc(){var e=indexedDB.open(hc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(dc,{keyPath:pc})}catch(r){n(r)}})),e.addEventListener("success",J(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(dc)){n.next=12;break}return r.close(),n.next=5,yc();case 5:return n.t0=t,n.next=8,gc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function kc(e,t,n){return bc.apply(this,arguments)}function bc(){return bc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mc(t,!0).put((te(i={},pc,n),te(i,"value",r),i)),e.abrupt("return",new vc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return _c.apply(this,arguments)}function _c(){return _c=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t,!1).get(n),e.next=3,new vc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function xc(e,t){var n=mc(e,!0).delete(t);return new vc(n).toPromise()}var Ec=function(){function e(){ct(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ft(e,[{key:"_openDb",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,gc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ic._getInstance(uc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=J(ee().mark((function e(n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new oc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&fc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,gc();case 5:return t=e.sent,e.next=8,kc(t,$u,"1");case 8:return e.next=10,xc(t,$u);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return kc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return wc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=mc(e,!1).getAll();return new vc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ht(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ec.type="LOCAL";var Sc=Ec;function Tc(e,t){return Ha(e,"POST","/v2/accounts/mfaSignIn:start",Wa(e,t))}function Ic(e){return Cc.apply(this,arguments)}function Cc(){return Cc=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ta("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Nc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Pc=1e12,Dc=function(){function e(t){ct(this,e),this.auth=t,this.counter=Pc,this._widgets=new Map}return ft(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Rc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Pc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Pc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Pc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rc=function(){function e(t,n,r){var i=this;ct(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Na(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ft(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Oc=Nc("rcb"),Lc=new ja(3e4,6e4),Mc="https://www.google.com/recaptcha/api.js?",Fc=function(){function e(){ct(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!sc().grecaptcha}return ft(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Na(Vc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(sc().grecaptcha):new Promise((function(r,i){var a=sc().setTimeout((function(){i(Ta(e,"network-request-failed"))}),Lc.get());sc()[Oc]=function(){sc().clearTimeout(a),delete sc()[Oc];var o=sc().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ta(e,"internal-error"))},Ac("".concat(Mc,"?").concat(Wt({onload:Oc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ta(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!sc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Vc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var jc=function(){function e(){ct(this,e)}return ft(e,[{key:"load",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Dc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Uc="recaptcha",Bc={theme:"light",type:"image"},zc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Bc),r=arguments.length>2?arguments[2]:void 0;ct(this,e),this.parameters=n,this.type=Uc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ho(r),this.isInvisible="invisible"===this.parameters.size,Na("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Na(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jc:new Fc,this.validateStartingState()}return ft(e,[{key:"verify",value:function(){var e=J(ee().mark((function e(){var t,n,r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Na(!this.parameters.sitekey,this.auth,"argument-error"),Na(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Na("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=sc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Na(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Na(Fa()&&!uc(),this.auth,"internal-error"),e.next=3,qc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ic(this.auth);case 8:Na(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Na(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function qc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Wc=function(){function e(t,n){ct(this,e),this.verificationId=t,this.onConfirmation=n}return ft(e,[{key:"confirm",value:function(e){var t=As._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Hc(){return Hc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ho(t),e.next=3,Yc(i,n,Xt(r));case 3:return a=e.sent,e.abrupt("return",new Wc(a,(function(e){return au(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Kc(e,t,n){return Gc.apply(this,arguments)}function Gc(){return(Gc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xt(t),e.next=3,Zs(!1,i,"phone");case 3:return e.next=5,Yc(i.auth,n,Xt(r));case 5:return a=e.sent,e.abrupt("return",new Wc(a,(function(e){return su(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(){return(Qc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xt(t),e.next=3,Yc(i.auth,n,Xt(r));case 3:return a=e.sent,e.abrupt("return",new Wc(a,(function(e){return cu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return Xc=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Na("string"===typeof a,t,"argument-error"),Na(r.type===Uc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Na("enroll"===s.type,t,"internal-error"),e.next=13,Gu(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Na("signin"===s.type,t,"internal-error"),Na(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Tc(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xs(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Xc.apply(this,arguments)}function $c(){return($c=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(Xt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jc=function(){function e(t){ct(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ho(t)}return ft(e,[{key:"verifyPhoneNumber",value:function(e,t){return Yc(this.auth,e,Xt(t))}}],[{key:"credential",value:function(e,t){return As._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?As._fromTokenResponse(n,r):null}}]),e}();function Zc(e,t){return t?Oa(t):(Na(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jc.PROVIDER_ID="phone",Jc.PHONE_SIGN_IN_METHOD="phone";var el=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ft(n,[{key:"_getIdTokenResponse",value:function(e){return bs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Xo);function tl(e){return ru(e.auth,new el(e),e.bypassAuthState)}function nl(e){var t=e.auth,n=e.user;return Na(n,t,"internal-error"),tu(n,new el(e),e.bypassAuthState)}function rl(e){return il.apply(this,arguments)}function il(){return il=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Na(r=t.user,n,"internal-error"),e.abrupt("return",$s(r,new el(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}var al=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ct(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ft(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=J(ee().mark((function t(n,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return rl;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Sa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ol=new ja(2e3,1e4);function sl(e,t,n){return ul.apply(this,arguments)}function ul(){return ul=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ho(t),Ca(t,n,Ds),a=Zc(i,r),o=new hl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function cl(){return(cl=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ca((i=Xt(t)).auth,n,Ds),a=Zc(i.auth,r),o=new hl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t,n){return fl.apply(this,arguments)}function fl(){return(fl=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ca((i=Xt(t)).auth,n,Ds),a=Zc(i.auth,r),o=new hl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a,o){var s;return ct(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=dt(s),s}return ft(n,[{key:"executeNotNull",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Na(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Da(1===this.filter.length,"Popup operations only handle one event"),t=ac(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ta(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ta(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ta(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ol.get())}()}}]),n}(al);hl.currentPopupAction=null;var dl=new Map,pl=function(e){vt(n,e);var t=bt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ct(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ft(n,[{key:"execute",value:function(){var e=J(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=dl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,vl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ea(mt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:dl.set(this.auth._key(),t);case 21:return this.bypassAuthState||dl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=J(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ea(mt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ea(mt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(al);function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wl(n),i=bl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(e,t){return gl.apply(this,arguments)}function gl(){return gl=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bl(t)._set(wl(n),"true"));case 1:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){dl.set(e._key(),t)}function bl(e){return Oa(e._redirectPersistence)}function wl(e){return Co("pendingRedirect",e.config.apiKey,e.name)}function _l(e,t,n){return function(e,t,n){return xl.apply(this,arguments)}(e,t,n)}function xl(){return xl=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ho(t),Ca(t,n,Ds),a=Zc(i,r),e.next=5,yl(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function El(e,t,n){return function(e,t,n){return Sl.apply(this,arguments)}(e,t,n)}function Sl(){return(Sl=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ca((i=Xt(t)).auth,n,Ds),a=Zc(i.auth,r),e.next=5,yl(a,i.auth);case 5:return e.next=7,Dl(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t,n){return function(e,t,n){return Il.apply(this,arguments)}(e,t,n)}function Il(){return(Il=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ca((i=Xt(t)).auth,n,Ds),a=Zc(i.auth,r),e.next=5,Zs(!1,i,n.providerId);case 5:return e.next=7,yl(a,i.auth);case 7:return e.next=9,Dl(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cl(e,t){return Al.apply(this,arguments)}function Al(){return Al=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ho(t)._initializationPromise;case 2:return e.abrupt("return",Nl(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Nl(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=J(ee().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ho(t),a=Zc(i,n),o=new pl(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Dl(e){return Rl.apply(this,arguments)}function Rl(){return(Rl=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ac("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ol=function(){function e(t){ct(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ft(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ml(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ml(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ta(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ll(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ll(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ll(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ml(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Fl(e){return Vl.apply(this,arguments)}function Vl(){return Vl=J(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ha(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}var jl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ul=/^https?/;function Bl(){return Bl=J(ee().mark((function e(t){var n,r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fl(t);case 4:n=e.sent,r=n.authorizedDomains,i=ht(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Bl.apply(this,arguments)}function zl(e){var t=Ma(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ul.test(r))return!1;if(jl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ql=new ja(3e4,6e4);function Wl(){var e=sc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Jt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Hl=null;function Kl(e){return Hl=Hl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Wl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Wl(),n(Ta(e,"network-request-failed"))},timeout:ql.get()})}if(null===(i=null===(r=sc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=sc().gapi)||void 0===a?void 0:a.load)){var s=Nc("iframefcb");return sc()[s]=function(){gapi.load?o():n(Ta(e,"network-request-failed"))},Ac("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Hl=null,e}))}(e),Hl}var Gl=new ja(5e3,15e3),Ql={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xl(e){var t=e.config;Na(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ua(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gn},i=Yl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Wt(r).slice(1))}function $l(e){return Jl.apply(this,arguments)}function Jl(){return Jl=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kl(t);case 2:return n=e.sent,Na(r=sc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Xl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ql,dontclear:!0},(function(e){return new Promise(function(){var n=J(ee().mark((function n(r,i){var a,o,s;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){sc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ta(t,"network-request-failed"),o=sc().setTimeout((function(){i(a)}),Gl.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}var Zl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ef="_blank",tf="http://localhost",nf=function(){function e(t){ct(this,e),this.window=t,this.associatedEvent=null}return ft(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function rf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Zl),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Nt().toLowerCase();n&&(s=Ro(l)?ef:n),Po(l)&&(t=t||tf,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(jo(l)&&"_self"!==s)return af(t||"",s),new nf(null);var h=window.open(t||"",s,f);Na(h,e,"popup-blocked");try{h.focus()}catch(d){}return new nf(h)}function af(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var of="__/auth/handler",sf="emulator/auth/handler";function uf(e,t,n,r,i,a){Na(e.config.authDomain,e,"auth-domain-config-required"),Na(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(t instanceof Ds){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Rs){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(of);return Ua(t,sf)}(e),"?").concat(Wt(p).slice(1))}var cf="webStorageSupport",lf=function(){function e(){ct(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nc,this._completeRedirectFn=Nl,this._overrideRedirectResult=kl}return ft(e,[{key:"_openPopup",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Da(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=uf(t,n,r,Ma(),i),e.abrupt("return",rf(t,o,ac()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=uf(t,n,r,Ma(),i),sc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Da(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l(t);case 2:return n=e.sent,r=new Ol(t),n.register("authEvent",(function(e){return Na(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(cf,{type:cf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Sa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Bl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Bo()||Do()||Vo()}}]),e}(),ff=lf,hf=function(){function e(t){ct(this,e),this.factorId=t}return ft(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pa("unexpected MultiFactorSessionType")}}}]),e}(),df=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this,"phone")).credential=e,r}return ft(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ha(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ha(e,"POST","/v2/accounts/mfaSignIn:finalize",Wa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(hf),pf=function(){function e(){ct(this,e)}return ft(e,null,[{key:"assertion",value:function(e){return df._fromCredential(e)}}]),e}();pf.FACTOR_ID="phone";var vf,mf="@firebase/auth",yf="0.20.1",gf=function(){function e(t){ct(this,e),this.auth=t,this.internalListeners=new Map}return ft(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Na(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function kf(){return window}vf="Browser",Un(new Zt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Na(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Na(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:vf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zo(vf)},i=new Wo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Un(new Zt("auth-internal",(function(e){return function(e){return new gf(e)}(Ho(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(mf,yf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vf)),Zn(mf,yf,"esm2017");function bf(e,t,n){return wf.apply(this,arguments)}function wf(){return wf=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=kf(),o=a.BuildInfo,Da(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,If(n.sessionId);case 4:return s=e.sent,u={},Vo()?u.ibi=o.packageName:Lo()?u.apn=o.packageName:Sa(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",uf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function _f(){return _f=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kf(),r=n.BuildInfo,i={},Vo()?i.iosBundleId=r.packageName:Lo()?i.androidPackageName=r.packageName:Sa(t,"operation-not-supported-in-this-environment"),e.next=5,Fl(t,i);case 5:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function xf(e){var t=kf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ef(e,t,n){return Sf.apply(this,arguments)}function Sf(){return Sf=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ta(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Lo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Sf.apply(this,arguments)}function Tf(e){var t,n,r,i,a,o,s,u,c,l,f=kf();Na("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Na("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Na("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Na("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Na("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function If(e){return Cf.apply(this,arguments)}function Cf(){return(Cf=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Af(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e){if(Da(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Nf=function(e){vt(n,e);var t=bt(n);function n(){var e;return ct(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ft(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ea(mt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ol);function Pf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Mf(),postBody:null,tenantId:e.tenantId,error:Ta(e,"no-auth-event")}}function Df(e,t){return Ff()._set(Vf(e),t)}function Rf(e){return Of.apply(this,arguments)}function Of(){return Of=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ff()._get(Vf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ff()._remove(Vf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Lf(e,t){var n,r,i=function(e){var t=jf(e),n=t.link?decodeURIComponent(t.link):void 0,r=jf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=jf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ta(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Mf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ff(){return Oa(ec)}function Vf(e){return Co("authEvent",e.config.apiKey,e.name)}function jf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||$t(t)||o(t)||s();r[0];return Ht(r.slice(1).join("?"))}var Uf=function(){function e(){ct(this,e),this._redirectPersistence=nc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nl,this._overrideRedirectResult=kl}return ft(e,[{key:"_initialize",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Nf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Sa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),dl.clear(),e.next=10,this._originValidation(t);case 10:return o=Pf(t,r,i),e.next=13,Df(t,o);case 13:return e.next=15,bf(t,o,n);case 15:return s=e.sent,e.next=18,xf(s);case 18:return u=e.sent,e.abrupt("return",Ef(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _f.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=kf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rf(e);case 2:t.onEvent(zf());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=J(ee().mark((function n(r){var i,a;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Rf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Lf(i,r.url)),t.onEvent(a||zf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");kf().handleOpenURL=function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Bf=Uf;function zf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ta("no-auth-event")}}function qf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return!("file:"!==qf()&&"ionic:"!==qf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hf(){return Lt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/Edge\/\d+/.test(e)}function Gf(){try{var e=self.localStorage,t=ac();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return Hf()||Kf(e)}()||Mt()}catch(n){return Qf()&&Mt()}return!1}function Qf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Yf(){return("http:"===qf()||"https:"===qf()||Rt()||Wf())&&!(Ot()||Dt())&&Gf()&&!Qf()}function Xf(){return Wf()&&"undefined"!==typeof document}function $f(){return Jf.apply(this,arguments)}function Jf(){return(Jf=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zf={LOCAL:"local",NONE:"none",SESSION:"session"},eh=Na,th="persistence";function nh(e,t){eh(Object.values(Zf).includes(t),e,"invalid-persistence-type"),Ot()?eh(t!==Zf.SESSION,e,"unsupported-persistence-type"):Dt()?eh(t===Zf.NONE,e,"unsupported-persistence-type"):Qf()?eh(t===Zf.NONE||t===Zf.LOCAL&&Mt(),e,"unsupported-persistence-type"):eh(t===Zf.NONE||Gf(),e,"unsupported-persistence-type")}function rh(e){return ih.apply(this,arguments)}function ih(){return ih=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ah(),r=Co(th,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var oh=Na,sh=function(){function e(){ct(this,e),this.browserResolver=Oa(ff),this.cordovaResolver=Oa(Bf),this.underlyingResolver=null,this._redirectPersistence=nc,this._completeRedirectFn=Nl,this._overrideRedirectResult=kl}return ft(e,[{key:"_initialize",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Xf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return oh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$f();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function uh(e){return e.unwrap()}function ch(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ph(e,function(e,t){var n,r=Xt(e),i=t;return Na(t.customData.operationType,r,"argument-error"),Na(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ku._fromError(r,i)}(e,t));else if(r){var i=lh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function lh(e){var t=(e instanceof Ft?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ft)&&"temporaryProof"in t&&"phoneNumber"in t)return Jc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===fa)return null;switch(r){case la:n=Ms;break;case ua:n=Ls;break;case ca:n=Fs;break;case ha:n=Us;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Vs._create(r,s):_s._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Os(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ft?n.credentialFromError(e):n.credentialFromResult(e)}function fh(e,t){return t.catch((function(t){throw t instanceof Ft&&ch(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,lh(t)),additionalUserInfo:qu(e),user:vh.getOrCreate(r)}}))}function hh(e,t){return dh.apply(this,arguments)}function dh(){return dh=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return fh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}var ph=function(){function e(t,n){ct(this,e),this.resolver=n,this.auth=t.wrapped()}return ft(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return fh(uh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),vh=function(){function e(t){ct(this,e),this._delegate=t,this.multiFactor=function(e){var t=Xt(e);return Xu.has(t)||Xu.set(t,Yu._fromUser(t)),Xu.get(t)}(t)}return ft(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fh(this.auth,su(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hh(this.auth,Kc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fh(this.auth,ll(this._delegate,t,sh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rh(Ho(this.auth));case 2:return e.abrupt("return",Tl(this._delegate,t,sh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fh(this.auth,cu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return hh(this.auth,function(e,t,n){return Qc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return fh(this.auth,function(e,t,n){return cl.apply(this,arguments)}(this._delegate,e,sh))}},{key:"reauthenticateWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rh(Ho(this.auth));case 2:return e.abrupt("return",El(this._delegate,t,sh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Nu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lu(Xt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lu(Xt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return $c.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ou.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Pu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();vh.USER_MAP=new WeakMap;var mh=Na,yh=function(){function e(t,n){if(ct(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;mh(r,"invalid-api-key",{appName:t.name}),mh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?sh:void 0;this._delegate=n.initialize({options:{persistence:kh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ba),this.linkUnderlyingAuth()}return ft(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?vh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Go(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ku.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return bu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fh(this._delegate,xu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Au.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ns.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mh(Yf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Cl(this._delegate,sh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",fh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ho(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=gh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=gh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Su.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nh(this._delegate,t),e.t0=t,e.next=e.t0===Zf.SESSION?4:e.t0===Zf.LOCAL?6:e.t0===Zf.NONE?11:13;break;case 4:return n=nc,e.abrupt("break",14);case 6:return e.next=8,Oa(Sc)._isAvailable();case 8:return r=e.sent,n=r?Sc:ec,e.abrupt("break",14);case 11:return n=Io,e.abrupt("break",14);case 13:return e.abrupt("return",Sa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return fh(this._delegate,function(e){return Hs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return fh(this._delegate,au(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return fh(this._delegate,function(e,t){return du.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return fh(this._delegate,function(e,t,n){return au(Xt(e),Ps.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return fh(this._delegate,function(e,t,n){return Tu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return hh(this._delegate,function(e,t,n){return Hc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mh(Yf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",fh(this._delegate,sl(this._delegate,t,sh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mh(Yf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,rh(this._delegate);case 3:return e.abrupt("return",_l(this._delegate,t,sh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return _u.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function gh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&vh.getOrCreate(e))},error:t,complete:n}}function kh(e,t){var n=function(e,t){var n=ah();if(!n)return[];var r=Co(th,e,t);switch(n.getItem(r)){case Zf.NONE:return[Io];case Zf.LOCAL:return[Sc,nc];case Zf.SESSION:return[nc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Sc)||n.push(Sc),"undefined"!==typeof window)for(var r=0,i=[ec,nc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Io)||n.push(Io),n}yh.Persistence=Zf;var bh=function(){function e(){ct(this,e),this.providerId="phone",this._delegate=new Jc(uh(xr.auth()))}return ft(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Jc.credential(e,t)}}]),e}();bh.PHONE_SIGN_IN_METHOD=Jc.PHONE_SIGN_IN_METHOD,bh.PROVIDER_ID=Jc.PROVIDER_ID;var wh,_h=Na,xh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xr.app();ct(this,e),_h(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new zc(t,n,i.auth()),this.type=this._delegate.type}return ft(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(wh=xr).INTERNAL.registerComponent(new Zt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new yh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:da,PASSWORD_RESET:pa,RECOVER_EMAIL:va,REVERT_SECOND_FACTOR_ADDITION:ma,VERIFY_AND_CHANGE_EMAIL:ya,VERIFY_EMAIL:ga}},EmailAuthProvider:Ps,FacebookAuthProvider:Ls,GithubAuthProvider:Fs,GoogleAuthProvider:Ms,OAuthProvider:Os,SAMLAuthProvider:js,PhoneAuthProvider:bh,PhoneMultiFactorGenerator:pf,RecaptchaVerifier:xh,TwitterAuthProvider:Us,Auth:yh,AuthCredential:Xo,Error:Ft}).setInstantiationMode("LAZY").setMultipleInstances(!1)),wh.registerVersion("@firebase/auth-compat","0.2.14");var Eh,Sh=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=u(r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),2),i=n[0],a=n[1];t.current?t.current.control._options=e:t.current=re(re({},Ji(e)),{},{formState:i});var o=t.current.control,s=r.useCallback((function(e){ri(e,o._proxyFormState,!0)&&(o._formState=re(re({},o._formState),e),a(re({},o._formState)))}),[o]);return ai({subject:o._subjects.state,callback:s}),r.useEffect((function(){o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()})),t.current.formState=ti(i,o._proxyFormState),t.current}(),t=e.register,n=e.handleSubmit,i=e.formState.errors,a=u((0,r.useState)(""),2),o=a[0],s=a[1],c=function(){var e=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,"",e.prev=2,e.next=5,xr.auth.createUserWithEmailAndPassword(n,r);case 5:i=e.sent,i.user.uid&&(s("Registro Exitoso !"),console.log("Registro Exitoso !")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error es: ",e.t0.code),e.t0.code&&s("Se ha producido un Error ! ".concat(e.t0.code));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,Se.jsxs)("div",{className:"container",children:[(0,Se.jsx)("h1",{children:"Registro"}),(0,Se.jsxs)("form",{id:"contactus",onSubmit:n((function(e){console.log("Data es: ",e),c(e)})),children:[(0,Se.jsxs)("fieldset",{children:[(0,Se.jsx)("input",re({type:"text",label:"nombre",placeholder:"Nombre"},t("nombre",{required:!0}))),i.nombre&&(0,Se.jsx)("span",{children:'"Por favor, Ingrese su Nombre"'})]}),(0,Se.jsxs)("fieldset",{children:[(0,Se.jsx)("input",re({type:"text",label:"apellido",placeholder:"Apellido"},t("apellido",{required:!0}))),i.apellido&&"Por favor, Ingrese su Apellido"]}),(0,Se.jsxs)("fieldset",{children:[(0,Se.jsx)("input",re({type:"email",label:"email",placeholder:"email",id:"email"},t("email",{required:!0}))),i.email&&(0,Se.jsx)("span",{children:'"Email es obligatorio"'})]}),(0,Se.jsxs)("fieldset",{children:[" ",(0,Se.jsx)("input",re({type:"password",label:"password",placeholder:"Password"},t("password",{required:!0}))),i.password&&(0,Se.jsx)("span",{children:'"Por favor, Ingrese un Password"'})]}),(0,Se.jsx)("br",{}),(0,Se.jsx)("button",{type:"submit",children:"Registrar"}),(0,Se.jsx)("button",{type:"reset",onClick:function(){return s("")},children:"Borrar"})]}),(0,Se.jsx)("div",{children:(0,Se.jsx)("h3",{children:o})})]})},Th="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ih={},Ch=Ch||{},Ah=Th||self;function Nh(){}function Ph(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Dh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rh="closure_uid_"+(1e9*Math.random()>>>0),Oh=0;function Lh(e,t,n){return e.call.apply(e.bind,arguments)}function Mh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fh(e,t,n){return(Fh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lh:Mh).apply(null,arguments)}function Vh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Uh(){this.s=this.s,this.o=this.o}var Bh={};Uh.prototype.s=!1,Uh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Rh)&&e[Rh]||(e[Rh]=++Oh)}(this);delete Bh[e]}},Uh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},qh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Wh(e){return Array.prototype.concat.apply([],arguments)}function Hh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kh(e){return/^[\s\xa0]*$/.test(e)}var Gh,Qh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Yh(e,t){return-1!=e.indexOf(t)}function Xh(e,t){return e<t?-1:e>t?1:0}e:{var $h=Ah.navigator;if($h){var Jh=$h.userAgent;if(Jh){Gh=Jh;break e}}Gh=""}function Zh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ed(e){var t={};for(var n in e)t[n]=e[n];return t}var td="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<td.length;a++)n=td[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function rd(e){return rd[" "](e),e}rd[" "]=Nh;var id,ad=Yh(Gh,"Opera"),od=Yh(Gh,"Trident")||Yh(Gh,"MSIE"),sd=Yh(Gh,"Edge"),ud=sd||od,cd=Yh(Gh,"Gecko")&&!(Yh(Gh.toLowerCase(),"webkit")&&!Yh(Gh,"Edge"))&&!(Yh(Gh,"Trident")||Yh(Gh,"MSIE"))&&!Yh(Gh,"Edge"),ld=Yh(Gh.toLowerCase(),"webkit")&&!Yh(Gh,"Edge");function fd(){var e=Ah.document;return e?e.documentMode:void 0}e:{var hd="",dd=function(){var e=Gh;return cd?/rv:([^\);]+)(\)|;)/.exec(e):sd?/Edge\/([\d\.]+)/.exec(e):od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ld?/WebKit\/(\S+)/.exec(e):ad?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(dd&&(hd=dd?dd[1]:""),od){var pd=fd();if(null!=pd&&pd>parseFloat(hd)){id=String(pd);break e}}id=hd}var vd,md={};function yd(){return function(e){var t=md;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Qh(String(id)).split("."),n=Qh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Xh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Xh(0==a[2].length,0==o[2].length)||Xh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ah.document&&od){var gd=fd();vd=gd||(parseInt(id,10)||void 0)}else vd=void 0;var kd=vd,bd=function(){if(!Ah.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ah.addEventListener("test",Nh,t),Ah.removeEventListener("test",Nh,t)}catch(gR){}return e}();function wd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function _d(e,t){if(wd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cd){e:{try{rd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_d.Z.h.call(this)}}wd.prototype.h=function(){this.defaultPrevented=!0},jh(_d,wd);var xd={2:"touch",3:"pen",4:"mouse"};_d.prototype.h=function(){_d.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ed="closure_listenable_"+(1e6*Math.random()|0),Sd=0;function Td(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Sd,this.ca=this.fa=!1}function Id(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Cd(e){this.src=e,this.g={},this.h=0}function Ad(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=zh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Id(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Nd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Cd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Nd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Td(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Pd="closure_lm_"+(1e6*Math.random()|0),Dd={};function Rd(e,t,n,r,i){if(r&&r.once)return Ld(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rd(e,t[a],n,r,i);return null}return n=zd(n),e&&e[Ed]?e.N(t,n,Dh(r)?!!r.capture:!!r,i):Od(e,t,n,!1,r,i)}function Od(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Dh(i)?!!i.capture:!!i,s=Ud(e);if(s||(e[Pd]=s=new Cd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=jd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ld(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ld(e,t[a],n,r,i);return null}return n=zd(n),e&&e[Ed]?e.O(t,n,Dh(r)?!!r.capture:!!r,i):Od(e,t,n,!0,r,i)}function Md(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Md(e,t[a],n,r,i);else r=Dh(r)?!!r.capture:!!r,n=zd(n),e&&e[Ed]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Nd(a=e.g[t],n,r,i))&&(Id(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ud(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Nd(t,n,r,i)),(n=-1<e?t[e]:null)&&Fd(n))}function Fd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ed])Ad(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ud(t))?(Ad(n,e),0==n.h&&(n.src=null,t[Pd]=null)):Id(e)}}}function Vd(e){return e in Dd?Dd[e]:Dd[e]="on"+e}function jd(e,t){if(e.ca)e=!0;else{t=new _d(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Fd(e),e=n.call(r,t)}return e}function Ud(e){return(e=e[Pd])instanceof Cd?e:null}var Bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function zd(e){return"function"===typeof e?e:(e[Bd]||(e[Bd]=function(t){return e.handleEvent(t)}),e[Bd])}function qd(){Uh.call(this),this.i=new Cd(this),this.P=this,this.I=null}function Wd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wd(t,e);else if(t instanceof wd)t.target=t.target||e;else{var i=t;nd(t=new wd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Hd(o,r,!0,t)&&i}if(i=Hd(o=t.g=e,r,!0,t)&&i,i=Hd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Hd(o=t.g=n[a],r,!1,t)&&i}function Hd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Ad(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}jh(qd,Uh),qd.prototype[Ed]=!0,qd.prototype.removeEventListener=function(e,t,n,r){Md(this,e,t,n,r)},qd.prototype.M=function(){if(qd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Id(n[r]);delete t.g[e],t.h--}}this.I=null},qd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Kd=Ah.JSON.stringify;function Gd(){var e=tp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qd,Yd=function(){function e(){ct(this,e),this.h=this.g=null}return ft(e,[{key:"add",value:function(e,t){var n=Xd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xd=new(function(){function e(t,n){ct(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ft(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new $d}),(function(e){return e.reset()})),$d=function(){function e(){ct(this,e),this.next=this.g=this.h=null}return ft(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Jd(e){Ah.setTimeout((function(){throw e}),0)}function Zd(e,t){Qd||function(){var e=Ah.Promise.resolve(void 0);Qd=function(){e.then(np)}}(),ep||(Qd(),ep=!0),tp.add(e,t)}var ep=!1,tp=new Yd;function np(){for(var e;e=Gd();){try{e.h.call(e.g)}catch(gR){Jd(gR)}var t=Xd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ep=!1}function rp(e,t){qd.call(this),this.h=e||1,this.g=t||Ah,this.j=Fh(this.kb,this),this.l=Date.now()}function ip(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ap(e,t,n){if("function"===typeof e)n&&(e=Fh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ah.setTimeout(e,t||0)}function op(e){e.g=ap((function(){e.g=null,e.i&&(e.i=!1,op(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jh(rp,qd),(Eh=rp.prototype).da=!1,Eh.S=null,Eh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wd(this,"tick"),this.da&&(ip(this),this.start()))}},Eh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Eh.M=function(){rp.Z.M.call(this),ip(this),delete this.g};var sp=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ft(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:op(this)}},{key:"M",value:function(){ea(mt(n.prototype),"M",this).call(this),this.g&&(Ah.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Uh);function up(e){Uh.call(this),this.h=e,this.g={}}jh(up,Uh);var cp=[];function lp(e,t,n,r){Array.isArray(n)||(n&&(cp[0]=n.toString()),n=cp);for(var i=0;i<n.length;i++){var a=Rd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fp(e){Zh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fd(e)}),e),e.g={}}function hp(){this.g=!0}function dp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Kd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}up.prototype.M=function(){up.Z.M.call(this),fp(this)},up.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hp.prototype.Aa=function(){this.g=!1},hp.prototype.info=function(){};var pp={},vp=null;function mp(){return vp=vp||new qd}function yp(e){wd.call(this,pp.Ma,e)}function gp(e){var t=mp();Wd(t,new yp(t,e))}function kp(e,t){wd.call(this,pp.STAT_EVENT,e),this.stat=t}function bp(e){var t=mp();Wd(t,new kp(t,e))}function wp(e,t){wd.call(this,pp.Na,e),this.size=t}function _p(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ah.setTimeout((function(){e()}),t)}pp.Ma="serverreachability",jh(yp,wd),pp.STAT_EVENT="statevent",jh(kp,wd),pp.Na="timingevent",jh(wp,wd);var xp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ep={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sp(){}function Tp(e){return e.h||(e.h=e.i())}function Ip(){}Sp.prototype.h=null;var Cp,Ap={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Np(){wd.call(this,"d")}function Pp(){wd.call(this,"c")}function Dp(){}function Rp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new up(this),this.P=Lp,e=ud?125:void 0,this.W=new rp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Op}function Op(){this.i=null,this.g="",this.h=!1}jh(Np,wd),jh(Pp,wd),jh(Dp,Sp),Dp.prototype.g=function(){return new XMLHttpRequest},Dp.prototype.i=function(){return{}},Cp=new Dp;var Lp=45e3,Mp={},Fp={};function Vp(e,t,n){e.K=1,e.v=sv(tv(t)),e.s=n,e.U=!0,jp(e,null)}function jp(e,t){e.F=Date.now(),qp(e),e.A=tv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Op,e.g=wm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new sp(Fh(e.Ia,e,e.g),e.O)),lp(e.V,e.g,"readystatechange",e.gb),t=e.H?ed(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Up(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Bp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=zp(e,n))==Fp){4==t&&(e.o=4,bp(14),i=!1),dp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mp){e.o=4,bp(15),dp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}dp(e.j,e.m,r,null),Qp(e,r)}Up(e)&&r!=Fp&&r!=Mp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dm(t),t.L=!0,bp(11))):(dp(e.j,e.m,n,"[Invalid Chunked Response]"),Gp(e),Kp(e))}function zp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fp:(n=Number(t.substring(n,r)),isNaN(n)?Mp:(r+=1)+n>t.length?Fp:(t=t.substr(r,n),e.C=r+n,t))}function qp(e){e.Y=Date.now()+e.P,Wp(e,e.P)}function Wp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_p(Fh(e.eb,e),t)}function Hp(e){e.B&&(Ah.clearTimeout(e.B),e.B=null)}function Kp(e){0==e.l.G||e.I||mm(e.l,e)}function Gp(e){Hp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ip(e.W),fp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Iv(n.i,e)))if(n.I=e.N,!e.J&&Iv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vm(n),im(n)}hm(n),bp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=_p(Fh(n.ab,n),6e3));if(1>=Tv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else gm(n,11)}else if((e.J||n.g==e)&&vm(n),!Kh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Yh(l,"spdy")||Yh(l,"quic")||Yh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Cv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ov(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=bm(r,r.H?r.la:null,r.W),d.J){Av(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Hp(p),qp(p)),r.g=d}else fm(r);0<n.l.length&&sm(n)}else"stop"!=a[0]&&"close"!=a[0]||gm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?gm(n,7):rm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}gp(4)}catch(a){}}function Yp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ph(e)||"string"===typeof e)qh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ph(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ph(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Xp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $p(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Jp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Jp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Jp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Eh=Rp.prototype).setTimeout=function(e){this.P=e},Eh.gb=function(e){e=e.target;var t=this.L;t&&3==Jv(e)?t.l():this.Ia(e)},Eh.Ia=function(e){try{if(e==this.g)e:{var t=Jv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ud||this.g&&(this.h.h||this.g.ga()||Zv(this.g)))){this.I||4!=t||7==n||gp(8==n||0>=r?3:2),Hp(this);var i=this.g.ba();this.N=i;t:if(Up(this)){var a=Zv(this.g);e="";var o=a.length,s=4==Jv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gp(this),Kp(this);var u="";break t}this.h.i=new Ah.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,bp(12),Gp(this),Kp(this);break e}dp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qp(this,i)}this.U?(Bp(this,t,u),ud&&this.i&&3==t&&(lp(this.V,this.W,"tick",this.fb),this.W.start())):(dp(this.j,this.m,u,null),Qp(this,u)),4==t&&Gp(this),this.i&&!this.I&&(4==t?mm(this.l,this):(this.i=!1,qp(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,bp(12)):(this.o=0,bp(13)),Gp(this),Kp(this)}}}catch(t){}},Eh.fb=function(){if(this.g){var e=Jv(this.g),t=this.g.ga();this.C<t.length&&(Hp(this),Bp(this,e,t),this.i&&4!=e&&qp(this))}},Eh.cancel=function(){this.I=!0,Gp(this)},Eh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gp(3),bp(17)),Gp(this),this.o=2,Kp(this)):Wp(this,this.Y-e)},(Eh=Xp.prototype).R=function(){$p(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Eh.T=function(){return $p(this),this.g.concat()},Eh.get=function(e,t){return Jp(this.h,e)?this.h[e]:t},Eh.set=function(e,t){Jp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Eh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Zp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ev(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ev){this.g=void 0!==t?t:e.g,nv(this,e.j),this.s=e.s,rv(this,e.i),iv(this,e.m),this.l=e.l,t=e.h;var n=new mv;n.i=t.i,t.g&&(n.g=new Xp(t.g),n.h=t.h),av(this,n),this.o=e.o}else e&&(n=String(e).match(Zp))?(this.g=!!t,nv(this,n[1]||"",!0),this.s=uv(n[2]||""),rv(this,n[3]||"",!0),iv(this,n[4]),this.l=uv(n[5]||"",!0),av(this,n[6]||"",!0),this.o=uv(n[7]||"")):(this.g=!!t,this.h=new mv(null,this.g))}function tv(e){return new ev(e)}function nv(e,t,n){e.j=n?uv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rv(e,t,n){e.i=n?uv(t,!0):t}function iv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function av(e,t,n){t instanceof mv?(e.h=t,function(e,t){t&&!e.j&&(yv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gv(this,t),bv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=cv(t,pv)),e.h=new mv(t,e.g))}function ov(e,t,n){e.h.set(t,n)}function sv(e){return ov(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function uv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ev.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cv(t,fv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cv(t,fv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(cv(n,"/"==n.charAt(0)?dv:hv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cv(n,vv)),e.join("")};var fv=/[#\/\?@]/g,hv=/[#\?:]/g,dv=/[#\?]/g,pv=/[#\?@]/g,vv=/#/g;function mv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yv(e){e.g||(e.g=new Xp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gv(e,t){yv(e),t=wv(e,t),Jp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Jp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$p(e)))}function kv(e,t){return yv(e),t=wv(e,t),Jp(e.g.h,t)}function bv(e,t,n){gv(e,t),0<n.length&&(e.i=null,e.g.set(wv(e,t),Hh(n)),e.h+=n.length)}function wv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Eh=mv.prototype).add=function(e,t){yv(this),this.i=null,e=wv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Eh.forEach=function(e,t){yv(this),this.g.forEach((function(n,r){qh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Eh.T=function(){yv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Eh.R=function(e){yv(this);var t=[];if("string"===typeof e)kv(this,e)&&(t=Wh(t,this.g.get(wv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Wh(t,e[n])}return t},Eh.set=function(e,t){return yv(this),this.i=null,kv(this,e=wv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Eh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Eh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var _v=ft((function e(t,n){ct(this,e),this.h=t,this.g=n}));function xv(e){this.l=e||Ev,Ah.PerformanceNavigationTiming?e=0<(e=Ah.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ah.g&&Ah.g.Ea&&Ah.g.Ea()&&Ah.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ev=10;function Sv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tv(e){return e.h?1:e.g?e.g.size:0}function Iv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cv(e,t){e.g?e.g.add(t):e.h=t}function Av(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ht(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Hh(e.i)}function Pv(){}function Dv(){this.g=new Pv}function Rv(e,t,n){var r=n||"";try{Yp(e,(function(e,n){var i=e;Dh(e)&&(i=Kd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ov(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Lv(e){this.l=e.$b||null,this.j=e.ib||!1}function Mv(e,t){qd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xv.prototype.cancel=function(){if(this.i=Nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ht(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Pv.prototype.stringify=function(e){return Ah.JSON.stringify(e,void 0)},Pv.prototype.parse=function(e){return Ah.JSON.parse(e,void 0)},jh(Lv,Sp),Lv.prototype.g=function(){return new Mv(this.l,this.j)},Lv.prototype.i=function(e){return function(){return e}}({}),jh(Mv,qd);var Fv=0;function Vv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function jv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uv(e)}function Uv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Eh=Mv.prototype).open=function(e,t){if(this.readyState!=Fv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uv(this)},Eh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ah).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Eh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jv(this)),this.readyState=Fv},Eh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uv(this)),this.g&&(this.readyState=3,Uv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ah.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Eh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jv(this):Uv(this),3==this.readyState&&Vv(this)}},Eh.Ua=function(e){this.g&&(this.response=this.responseText=e,jv(this))},Eh.Ta=function(e){this.g&&(this.response=e,jv(this))},Eh.ha=function(){this.g&&jv(this)},Eh.setRequestHeader=function(e,t){this.v.append(e,t)},Eh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Eh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bv=Ah.JSON.parse;function zv(e){qd.call(this),this.headers=new Xp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qv,this.K=this.L=!1}jh(zv,qd);var qv="",Wv=/^https?$/i,Hv=["POST","PUT"];function Kv(e){return"content-type"==e.toLowerCase()}function Gv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qv(e),Xv(e)}function Qv(e){e.D||(e.D=!0,Wd(e,"complete"),Wd(e,"error"))}function Yv(e){if(e.h&&"undefined"!=typeof Ch&&(!e.C[1]||4!=Jv(e)||2!=e.ba()))if(e.v&&4==Jv(e))ap(e.Fa,0,e);else if(Wd(e,"readystatechange"),4==Jv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Zp)[1]||null;if(!a&&Ah.self&&Ah.self.location){var o=Ah.self.location.protocol;a=o.substr(0,o.length-1)}i=!Wv.test(a?a.toLowerCase():"")}t=i}if(t)Wd(e,"complete"),Wd(e,"success");else{e.m=6;try{var s=2<Jv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Qv(e)}}finally{Xv(e)}}}function Xv(e,t){if(e.g){$v(e);var n=e.g,r=e.C[0]?Nh:null;e.g=null,e.C=null,t||Wd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function $v(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ah.clearTimeout(e.A),e.A=null)}function Jv(e){return e.g?e.g.readyState:0}function Zv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(yR){return null}}function em(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Zh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ov(e,t,n))}function tm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nm(e){this.za=0,this.l=[],this.h=new hp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tm("baseRetryDelayMs",5e3,e),this.$a=tm("retryDelaySeedMs",1e4,e),this.Ya=tm("forwardChannelMaxRetries",2,e),this.ra=tm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new xv(e&&e.concurrentRequestLimit),this.Ca=new Dv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function rm(e){if(am(e),3==e.G){var t=e.V++,n=tv(e.F);ov(n,"SID",e.J),ov(n,"RID",t),ov(n,"TYPE","terminate"),cm(e,n),(t=new Rp(e,e.h,t,void 0)).K=2,t.v=sv(tv(n)),n=!1,Ah.navigator&&Ah.navigator.sendBeacon&&(n=Ah.navigator.sendBeacon(t.v.toString(),"")),!n&&Ah.Image&&((new Image).src=t.v,n=!0),n||(t.g=wm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qp(t)}km(e)}function im(e){e.g&&(dm(e),e.g.cancel(),e.g=null)}function am(e){im(e),e.u&&(Ah.clearTimeout(e.u),e.u=null),vm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ah.clearTimeout(e.m),e.m=null)}function om(e,t){e.l.push(new _v(e.Za++,t)),3==e.G&&sm(e)}function sm(e){Sv(e.i)||e.m||(e.m=!0,Zd(e.Ha,e),e.C=0)}function um(e,t){var n;n=t?t.m:e.V++;var r=tv(e.F);ov(r,"SID",e.J),ov(r,"RID",n),ov(r,"AID",e.U),cm(e,r),e.o&&e.s&&em(r,e.o,e.s),n=new Rp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=lm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Cv(e.i,n),Vp(n,r,t)}function cm(e,t){e.j&&Yp({},(function(e,n){ov(t,n,e)}))}function lm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Fh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Rv(l,o,"req"+c+"_")}catch(Ym){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function fm(e){e.g||e.u||(e.Y=1,Zd(e.Ga,e),e.A=0)}function hm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=_p(Fh(e.Ga,e),ym(e,e.A)),e.A++,!0)}function dm(e){null!=e.B&&(Ah.clearTimeout(e.B),e.B=null)}function pm(e){e.g=new Rp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=tv(e.oa);ov(t,"RID","rpc"),ov(t,"SID",e.J),ov(t,"CI",e.N?"0":"1"),ov(t,"AID",e.U),cm(e,t),ov(t,"TYPE","xmlhttp"),e.o&&e.s&&em(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=sv(tv(t)),n.s=null,n.U=!0,jp(n,e)}function vm(e){null!=e.v&&(Ah.clearTimeout(e.v),e.v=null)}function mm(e,t){var n=null;if(e.g==t){vm(e),dm(e),e.g=null;var r=2}else{if(!Iv(e.i,t))return;n=t.D,Av(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Wd(r=mp(),new wp(r,n,t,i)),sm(e)}else fm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Tv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=_p(Fh(e.Ha,e,t),ym(e,e.C)),e.C++,!0))}(e,t)||2==r&&hm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gm(e,5);break;case 4:gm(e,10);break;case 3:gm(e,6);break;default:gm(e,2)}}function ym(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function gm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Fh(e.jb,e);n||(n=new ev("//www.google.com/images/cleardot.gif"),Ah.location&&"http"==Ah.location.protocol||nv(n,"https"),sv(n)),function(e,t){var n=new hp;if(Ah.Image){var r=new Image;r.onload=Vh(Ov,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vh(Ov,n,r,"TestLoadImage: error",!1,t),r.onabort=Vh(Ov,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vh(Ov,n,r,"TestLoadImage: timeout",!1,t),Ah.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bp(2);e.G=0,e.j&&e.j.va(t),km(e),am(e)}function km(e){e.G=0,e.I=-1,e.j&&(0==Nv(e.i).length&&0==e.l.length||(e.i.i.length=0,Hh(e.l),e.l.length=0),e.j.ua())}function bm(e,t,n){var r=function(e){return e instanceof ev?tv(e):new ev(e,void 0)}(n);if(""!=r.i)t&&rv(r,t+"."+r.i),iv(r,r.m);else{var i=Ah.location;r=function(e,t,n,r){var i=new ev(null,void 0);return e&&nv(i,e),t&&rv(i,t),n&&iv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Zh(e.aa,(function(e,t){ov(r,t,e)})),t=e.D,n=e.sa,t&&n&&ov(r,t,n),ov(r,"VER",e.ma),cm(e,r),r}function wm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new zv(new Lv({ib:!0})):new zv(e.qa)).L=e.H,t}function _m(){}function xm(){if(od&&!(10<=Number(kd)))throw Error("Environmental error: no available transport.")}function Em(e,t){qd.call(this),this.g=new nm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Kh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Im(this)}function Sm(e){Np.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tm(){Pp.call(this),this.status=1}function Im(e){this.g=e}(Eh=zv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cp.g(),this.C=this.u?Tp(this.u):Tp(Cp),this.g.onreadystatechange=Fh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Gv(this,a)}e=n||"";var i=new Xp(this.headers);r&&Yp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Kv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ah.FormData&&e instanceof Ah.FormData,!(0<=zh(Hv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$v(this),0<this.B&&((this.K=function(e){return od&&yd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fh(this.pa,this)):this.A=ap(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Gv(this,a)}},Eh.pa=function(){"undefined"!=typeof Ch&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wd(this,"timeout"),this.abort(8))},Eh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wd(this,"complete"),Wd(this,"abort"),Xv(this))},Eh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xv(this,!0)),zv.Z.M.call(this)},Eh.Fa=function(){this.s||(this.F||this.v||this.l?Yv(this):this.cb())},Eh.cb=function(){Yv(this)},Eh.ba=function(){try{return 2<Jv(this)?this.g.status:-1}catch(mR){return-1}},Eh.ga=function(){try{return this.g?this.g.responseText:""}catch(mR){return""}},Eh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bv(t)}},Eh.Da=function(){return this.m},Eh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Eh=nm.prototype).ma=8,Eh.G=1,Eh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(yR){}},Eh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Rp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?nd(n=ed(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=lm(this,t,r),ov(i=tv(this.F),"RID",e),ov(i,"CVER",22),this.D&&ov(i,"X-HTTP-Session-Id",this.D),cm(this,i),this.o&&n&&em(i,this.o,n),Cv(this.i,t),this.Ra&&ov(i,"TYPE","init"),this.ja?(ov(i,"$req",r),ov(i,"SID","null"),t.$=!0,Vp(t,i,null)):Vp(t,i,r),this.G=2}}else 3==this.G&&(e?um(this,e):0==this.l.length||Sv(this.i)||um(this))},Eh.Ga=function(){if(this.u=null,pm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=_p(Fh(this.bb,this),e)}},Eh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bp(10),im(this),pm(this))},Eh.ab=function(){null!=this.v&&(this.v=null,im(this),hm(this),bp(19))},Eh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bp(2)):(this.h.info("Failed to ping google.com"),bp(1))},(Eh=_m.prototype).xa=function(){},Eh.wa=function(){},Eh.va=function(){},Eh.ua=function(){},Eh.Oa=function(){},xm.prototype.g=function(e,t){return new Em(e,t)},jh(Em,qd),Em.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Zd(Fh(e.hb,e,t))),bp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=bm(e,null,e.W),sm(e)},Em.prototype.close=function(){rm(this.g)},Em.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,om(this.g,t)}else this.v?((t={}).__data__=Kd(e),om(this.g,t)):om(this.g,e)},Em.prototype.M=function(){this.g.j=null,delete this.j,rm(this.g),delete this.g,Em.Z.M.call(this)},jh(Sm,Np),jh(Tm,Pp),jh(Im,_m),Im.prototype.xa=function(){Wd(this.g,"a")},Im.prototype.wa=function(e){Wd(this.g,new Sm(e))},Im.prototype.va=function(e){Wd(this.g,new Tm(e))},Im.prototype.ua=function(){Wd(this.g,"b")},xm.prototype.createWebChannel=xm.prototype.g,Em.prototype.send=Em.prototype.u,Em.prototype.open=Em.prototype.m,Em.prototype.close=Em.prototype.close,xp.NO_ERROR=0,xp.TIMEOUT=8,xp.HTTP_ERROR=6,Ep.COMPLETE="complete",Ip.EventType=Ap,Ap.OPEN="a",Ap.CLOSE="b",Ap.ERROR="c",Ap.MESSAGE="d",qd.prototype.listen=qd.prototype.N,zv.prototype.listenOnce=zv.prototype.O,zv.prototype.getLastError=zv.prototype.La,zv.prototype.getLastErrorCode=zv.prototype.Da,zv.prototype.getStatus=zv.prototype.ba,zv.prototype.getResponseJson=zv.prototype.Qa,zv.prototype.getResponseText=zv.prototype.ga,zv.prototype.send=zv.prototype.ea;var Cm=Ih.createWebChannelTransport=function(){return new xm},Am=Ih.getStatEventTarget=function(){return mp()},Nm=Ih.ErrorCode=xp,Pm=Ih.EventType=Ep,Dm=Ih.Event=pp,Rm=Ih.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Om=Ih.FetchXmlHttpFactory=Lv,Lm=Ih.WebChannel=Ip,Mm=Ih.XhrIo=zv,Fm="@firebase/firestore",Vm=function(){function e(t){ct(this,e),this.uid=t}return ft(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Vm.UNAUTHENTICATED=new Vm(null),Vm.GOOGLE_CREDENTIALS=new Vm("google-credentials-uid"),Vm.FIRST_PARTY=new Vm("first-party-uid"),Vm.MOCK_USER=new Vm("mock-user");var jm="9.8.0",Um=new fn("@firebase/firestore");function Bm(){return Um.logLevel}function zm(e){if(Um.logLevel<=rn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Hm);Um.debug.apply(Um,["Firestore (".concat(jm,"): ").concat(e)].concat(Jt(i)))}}function qm(e){if(Um.logLevel<=rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Hm);Um.error.apply(Um,["Firestore (".concat(jm,"): ").concat(e)].concat(Jt(i)))}}function Wm(e){if(Um.logLevel<=rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Hm);Um.warn.apply(Um,["Firestore (".concat(jm,"): ").concat(e)].concat(Jt(i)))}}function Hm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Km(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(jm,") INTERNAL ASSERTION FAILED: ")+e;throw qm(t),new Error(t)}function Gm(e,t){e||Km()}function Qm(e,t){return e}var Ym={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xm=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ft(n)}(Ft),$m=ft((function e(){var t=this;ct(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Jm=ft((function e(t,n){ct(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Zm=function(){function e(){ct(this,e)}return ft(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ey=function(){function e(t){ct(this,e),this.token=t,this.changeListener=null}return ft(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ty=function(){function e(t){ct(this,e),this.t=t,this.currentUser=Vm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ft(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new $m;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new $m,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){zm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(zm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $m)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(zm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Gm("string"==typeof n.accessToken),new Jm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Gm(null===e||"string"==typeof e),new Vm(e)}}]),e}(),ny=ft((function e(t,n,r){ct(this,e),this.type="FirstParty",this.user=Vm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ry=function(){function e(t,n,r){ct(this,e),this.h=t,this.l=n,this.m=r}return ft(e,[{key:"getToken",value:function(){return Promise.resolve(new ny(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),iy=ft((function e(t){ct(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ay=function(){function e(t){ct(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ft(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&zm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,zm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){zm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):zm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Gm("string"==typeof t.token),e.p=t.token,new iy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),oy=function(){function e(t,n){var r=this;ct(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ft(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function sy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}oy.A=-1;var uy=function(){function e(){ct(this,e)}return ft(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=sy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function cy(e,t){return e<t?-1:e>t?1:0}function ly(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function fy(e){return e+"\0"}var hy=function(){function e(t,n){if(ct(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Xm(Ym.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xm(Ym.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Xm(Ym.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xm(Ym.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ft(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?cy(this.nanoseconds,e.nanoseconds):cy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),dy=function(){function e(t){ct(this,e),this.timestamp=t}return ft(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new hy(0,0))}},{key:"max",value:function(){return new e(new hy(253402300799,999999999))}}]),e}();function py(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function my(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var yy=function(){function e(t,n,r){ct(this,e),void 0===n?n=0:n>t.length&&Km(),void 0===r?r=t.length-n:r>t.length-n&&Km(),this.segments=t,this.offset=n,this.len=r}return ft(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),gy=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Jt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(yy),ky=/^[_a-zA-Z][_a-zA-Z0-9]*$/,by=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ky.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Xm(Ym.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Xm(Ym.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Xm(Ym.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(yy),wy=function(){function e(t){ct(this,e),this.fields=t,t.sort(by.comparator)}return ft(e,[{key:"covers",value:function(e){var t,n=ht(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ly(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var _y=function(e){function t(e){ct(this,t),this.binaryString=e}return ft(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return cy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_y.EMPTY_BYTE_STRING=new _y("");var xy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ey(e){if(Gm(!!e),"string"==typeof e){var t=0,n=xy.exec(e);if(Gm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sy(e.seconds),nanos:Sy(e.nanos)}}function Sy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ty(e){return"string"==typeof e?_y.fromBase64String(e):_y.fromUint8Array(e)}function Iy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cy(e){var t=e.mapValue.fields.__previous_value__;return Iy(t)?Cy(t):t}function Ay(e){var t=Ey(e.mapValue.fields.__local_write_time__.timestampValue);return new hy(t.seconds,t.nanos)}var Ny=ft((function e(t,n,r,i,a,o,s,u){ct(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Py=function(){function e(t,n){ct(this,e),this.projectId=t,this.database=n||"(default)"}return ft(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Dy(e){return null==e}function Ry(e){return 0===e&&1/e==-1/0}function Oy(e){return"number"==typeof e&&Number.isInteger(e)&&!Ry(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ly=function(){function e(t){ct(this,e),this.path=t}return ft(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===gy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(gy.fromString(t))}},{key:"fromName",value:function(t){return new e(gy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(gy.emptyPath())}},{key:"comparator",value:function(e,t){return gy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new gy(t.slice()))}}]),e}(),My={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fy={nullValue:"NULL_VALUE"};function Vy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iy(e)?4:Jy(e)?9007199254740991:10:Km()}function jy(e,t){if(e===t)return!0;var n=Vy(e);if(n!==Vy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ay(e).isEqual(Ay(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ey(e.timestampValue),r=Ey(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ty(e.bytesValue).isEqual(Ty(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sy(e.geoPointValue.latitude)===Sy(t.geoPointValue.latitude)&&Sy(e.geoPointValue.longitude)===Sy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sy(e.integerValue)===Sy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Sy(e.doubleValue),r=Sy(t.doubleValue);return n===r?Ry(n)===Ry(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ly(e.arrayValue.values||[],t.arrayValue.values||[],jy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(py(n)!==py(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jy(n[i],r[i])))return!1;return!0}(e,t);default:return Km()}}function Uy(e,t){return void 0!==(e.values||[]).find((function(e){return jy(e,t)}))}function By(e,t){if(e===t)return 0;var n=Vy(e),r=Vy(t);if(n!==r)return cy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Sy(e.integerValue||e.doubleValue),r=Sy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zy(e.timestampValue,t.timestampValue);case 4:return zy(Ay(e),Ay(t));case 5:return cy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ty(e),r=Ty(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=cy(n[i],r[i]);if(0!==a)return a}return cy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=cy(Sy(e.latitude),Sy(t.latitude));return 0!==n?n:cy(Sy(e.longitude),Sy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=By(n[i],r[i]);if(a)return a}return cy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===My.mapValue&&t===My.mapValue)return 0;if(e===My.mapValue)return 1;if(t===My.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=cy(r[o],a[o]);if(0!==s)return s;var u=By(n[r[o]],i[a[o]]);if(0!==u)return u}return cy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Km()}}function zy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return cy(e,t);var n=Ey(e),r=Ey(t),i=cy(n.seconds,r.seconds);return 0!==i?i:cy(n.nanos,r.nanos)}function qy(e){return Wy(e)}function Wy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ey(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ty(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ly.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ht(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Wy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ht(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Wy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Km();var t,n}function Hy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ky(e){return!!e&&"integerValue"in e}function Gy(e){return!!e&&"arrayValue"in e}function Qy(e){return!!e&&"nullValue"in e}function Yy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xy(e){return!!e&&"mapValue"in e}function $y(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=$y(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$y(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zy(e){return"nullValue"in e?Fy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Hy(Py.empty(),Ly.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Km()}function eg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Hy(Py.empty(),Ly.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?My:Km()}function tg(e,t){var n=By(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ng(e,t){var n=By(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var rg=function(){function e(t){ct(this,e),this.value=t}return ft(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$y(t)}},{key:"setAll",value:function(e){var t=this,n=by.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=$y(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vy(t,(function(t,n){return e[t]=n}));var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e($y(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ig(e){var t=[];return vy(e.fields,(function(e,n){var r=new by([e]);if(Xy(n)){var i=ig(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ht(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new wy(t)}var ag=function(){function e(t,n,r,i,a,o){ct(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ft(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=rg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=rg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,dy.min(),dy.min(),rg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,dy.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,dy.min(),rg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,dy.min(),rg.empty(),2)}}]),e}(),og=ft((function e(t,n,r,i){ct(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function sg(e){return e.fields.find((function(e){return 2===e.kind}))}function ug(e){return e.fields.filter((function(e){return 2!==e.kind}))}og.UNKNOWN_ID=-1;var cg=ft((function e(t,n){ct(this,e),this.fieldPath=t,this.kind=n})),lg=function(){function e(t,n){ct(this,e),this.sequenceNumber=t,this.offset=n}return ft(e,null,[{key:"empty",value:function(){return new e(0,dg.min())}}]),e}();function fg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=dy.fromTimestamp(1e9===r?new hy(n+1,0):new hy(n,r));return new dg(i,Ly.empty(),t)}function hg(e){return new dg(e.readTime,e.key,-1)}var dg=function(){function e(t,n,r){ct(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ft(e,null,[{key:"min",value:function(){return new e(dy.min(),Ly.empty(),-1)}},{key:"max",value:function(){return new e(dy.max(),Ly.empty(),-1)}}]),e}();function pg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ly.comparator(e.documentKey,t.documentKey))?n:cy(e.largestBatchId,t.largestBatchId)}var vg=function(){function e(t,n){ct(this,e),this.comparator=t,this.root=n||yg.EMPTY}return ft(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new mg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new mg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new mg(this.root,e,this.comparator,!0)}}]),e}(),mg=function(){function e(t,n,r,i){ct(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ft(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yg=function(){function e(t,n,r,i,a){ct(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ft(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Km();if(this.right.isRed())throw Km();var e=this.left.check();if(e!==this.right.check())throw Km();return e+(this.isRed()?0:1)}}]),e}();yg.EMPTY=null,yg.RED=!0,yg.BLACK=!1,yg.EMPTY=new(function(){function e(){ct(this,e),this.size=0}return ft(e,[{key:"key",get:function(){throw Km()}},{key:"value",get:function(){throw Km()}},{key:"color",get:function(){throw Km()}},{key:"left",get:function(){throw Km()}},{key:"right",get:function(){throw Km()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var gg=function(){function e(t){ct(this,e),this.comparator=t,this.data=new vg(this.comparator)}return ft(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new kg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new kg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),kg=function(){function e(t){ct(this,e),this.iter=t}return ft(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function bg(e){return e.hasNext()?e.getNext():void 0}var wg=ft((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ct(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function _g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new wg(e,t,n,r,i,a,o)}function xg(e){var t=Qm(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+qy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Dy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return qy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return qy(e)})).join(",")),t.P=n}return t.P}function Eg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ug(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!jy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zg(e.startAt,t.startAt)&&zg(e.endAt,t.endAt)}function Sg(e){return Ly.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Tg(e,t){return e.filters.filter((function(e){return e instanceof Ag&&e.field.isEqual(t)}))}function Ig(e,t,n){var r,i=Fy,a=!0,o=ht(Tg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Fy,c=!0;switch(s.op){case"<":case"<=":u=Zy(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Fy}tg({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Cg(e,t,n){var r,i=My,a=!0,o=ht(Tg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=My,c=!0;switch(s.op){case">=":case">":u=eg(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=My}ng({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ng({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ag=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ft(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(By(t,this.value)):null!==t&&Vy(this.value)===Vy(t)&&this.v(By(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Km()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Ng(e,t,r):"array-contains"===t?new Og(e,r):"in"===t?new Lg(e,r):"not-in"===t?new Mg(e,r):"array-contains-any"===t?new Fg(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Pg(e,n):new Dg(e,n)}}]),n}(function(){return ft((function e(){ct(this,e)}))}()),Ng=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this,e,r,i)).key=Ly.fromName(i.referenceValue),a}return ft(n,[{key:"matches",value:function(e){var t=Ly.comparator(e.key,this.key);return this.v(t)}}]),n}(Ag),Pg=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,"in",r)).keys=Rg("in",r),i}return ft(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ag),Dg=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,"not-in",r)).keys=Rg("not-in",r),i}return ft(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ag);function Rg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ly.fromName(e.referenceValue)}))}var Og=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"array-contains",r)}return ft(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Gy(t)&&Uy(t.arrayValue,this.value)}}]),n}(Ag),Lg=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"in",r)}return ft(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Uy(this.value.arrayValue,t)}}]),n}(Ag),Mg=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"not-in",r)}return ft(n,[{key:"matches",value:function(e){if(Uy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Uy(this.value.arrayValue,t)}}]),n}(Ag),Fg=function(e){vt(n,e);var t=bt(n);function n(e,r){return ct(this,n),t.call(this,e,"array-contains-any",r)}return ft(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Uy(t.value.arrayValue,e)}))}}]),n}(Ag),Vg=ft((function e(t,n){ct(this,e),this.position=t,this.inclusive=n})),jg=ft((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ct(this,e),this.field=t,this.dir=n}));function Ug(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Bg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ly.comparator(Ly.fromName(o.referenceValue),n.key):By(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function zg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jy(e.position[n],t.position[n]))return!1;return!0}var qg=ft((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ct(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Wg(e,t,n,r,i,a,o,s){return new qg(e,t,n,r,i,a,o,s)}function Hg(e){return new qg(e)}function Kg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gg(e){var t,n=ht(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Qg(e){return null!==e.collectionGroup}function Yg(e){var t=Qm(e);if(null===t.D){t.D=[];var n=Gg(t),r=Kg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new jg(n)),t.D.push(new jg(by.keyField(),"asc"));else{var i,a=!1,o=ht(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new jg(by.keyField(),u))}}}return t.D}function Xg(e){var t=Qm(e);if(!t.C)if("F"===t.limitType)t.C=_g(t.path,t.collectionGroup,Yg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ht(Yg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new jg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Vg(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Vg(t.startAt.position,t.startAt.inclusive):null;t.C=_g(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function $g(e,t,n){return new qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jg(e,t){return Eg(Xg(e),Xg(t))&&e.limitType===t.limitType}function Zg(e){return"".concat(xg(Xg(e)),"|lt:").concat(e.limitType)}function ek(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(qy(t.value));var t})).join(", "),"]")),Dy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return qy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return qy(e)})).join(",")),"Target(".concat(t,")")}(Xg(e)),"; limitType=").concat(e.limitType,")")}function tk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ly.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ht(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ht(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yg(e),t))}(e,t)}function nk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rk(e){return function(t,n){var r,i=!1,a=ht(Yg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ik(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function ik(e,t,n){var r=e.field.isKeyField()?Ly.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?By(r,i):Km()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Km()}}function ak(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ry(t)?"-0":t}}function ok(e){return{integerValue:""+e}}function sk(e,t){return Oy(t)?ok(t):ak(e,t)}var uk=ft((function e(){ct(this,e),this._=void 0}));function ck(e,t,n){return e instanceof hk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dk?pk(e,t):e instanceof vk?mk(e,t):function(e,t){var n=fk(e,t),r=gk(n)+gk(e.k);return Ky(n)&&Ky(e.k)?ok(r):ak(e.M,r)}(e,t)}function lk(e,t,n){return e instanceof dk?pk(e,t):e instanceof vk?mk(e,t):n}function fk(e,t){return e instanceof yk?Ky(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hk=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n)}(uk),dk=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).elements=e,r}return ft(n)}(uk);function pk(e,t){var n,r=kk(t),i=ht(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vk=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).elements=e,r}return ft(n)}(uk);function mk(e,t){var n,r=kk(t),i=ht(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yk=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this)).M=e,i.k=r,i}return ft(n)}(uk);function gk(e){return Sy(e.integerValue||e.doubleValue)}function kk(e){return Gy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bk=ft((function e(t,n){ct(this,e),this.field=t,this.transform=n}));var wk=ft((function e(t,n){ct(this,e),this.version=t,this.transformResults=n})),_k=function(){function e(t,n){ct(this,e),this.updateTime=t,this.exists=n}return ft(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function xk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ek=ft((function e(){ct(this,e)}));function Sk(e,t,n){e instanceof Nk?function(e,t,n){var r=e.value.clone(),i=Rk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pk?function(e,t,n){if(xk(e.precondition,t)){var r=Rk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Tk(e,t,n){e instanceof Nk?function(e,t,n){if(xk(e.precondition,t)){var r=e.value.clone(),i=Ok(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ak(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Pk?function(e,t,n){if(xk(e.precondition,t)){var r=Ok(e.fieldTransforms,n,t),i=t.data;i.setAll(Dk(e)),i.setAll(r),t.convertToFoundDocument(Ak(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){xk(e.precondition,t)&&t.convertToNoDocument(dy.min())}(e,t)}function Ik(e,t){var n,r=null,i=ht(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=fk(a.transform,o||null);null!=s&&(null==r&&(r=rg.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ck(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ly(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dk&&t instanceof dk||e instanceof vk&&t instanceof vk?ly(e.elements,t.elements,jy):e instanceof yk&&t instanceof yk?jy(e.k,t.k):e instanceof hk&&t instanceof hk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ak(e){return e.isFoundDocument()?e.version:dy.min()}var Nk=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ct(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ft(n)}(Ek),Pk=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ct(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ft(n)}(Ek);function Dk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rk(e,t,n){var r=new Map;Gm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,lk(o,s,n[i]))}return r}function Ok(e,t,n){var r,i=new Map,a=ht(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ck(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Lk,Mk,Fk=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ft(n)}(Ek),Vk=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ft(n)}(Ek),jk=ft((function e(t){ct(this,e),this.count=t}));function Uk(e){switch(e){default:return Km();case Ym.CANCELLED:case Ym.UNKNOWN:case Ym.DEADLINE_EXCEEDED:case Ym.RESOURCE_EXHAUSTED:case Ym.INTERNAL:case Ym.UNAVAILABLE:case Ym.UNAUTHENTICATED:return!1;case Ym.INVALID_ARGUMENT:case Ym.NOT_FOUND:case Ym.ALREADY_EXISTS:case Ym.PERMISSION_DENIED:case Ym.FAILED_PRECONDITION:case Ym.ABORTED:case Ym.OUT_OF_RANGE:case Ym.UNIMPLEMENTED:case Ym.DATA_LOSS:return!0}}function Bk(e){if(void 0===e)return qm("GRPC error has no .code"),Ym.UNKNOWN;switch(e){case Lk.OK:return Ym.OK;case Lk.CANCELLED:return Ym.CANCELLED;case Lk.UNKNOWN:return Ym.UNKNOWN;case Lk.DEADLINE_EXCEEDED:return Ym.DEADLINE_EXCEEDED;case Lk.RESOURCE_EXHAUSTED:return Ym.RESOURCE_EXHAUSTED;case Lk.INTERNAL:return Ym.INTERNAL;case Lk.UNAVAILABLE:return Ym.UNAVAILABLE;case Lk.UNAUTHENTICATED:return Ym.UNAUTHENTICATED;case Lk.INVALID_ARGUMENT:return Ym.INVALID_ARGUMENT;case Lk.NOT_FOUND:return Ym.NOT_FOUND;case Lk.ALREADY_EXISTS:return Ym.ALREADY_EXISTS;case Lk.PERMISSION_DENIED:return Ym.PERMISSION_DENIED;case Lk.FAILED_PRECONDITION:return Ym.FAILED_PRECONDITION;case Lk.ABORTED:return Ym.ABORTED;case Lk.OUT_OF_RANGE:return Ym.OUT_OF_RANGE;case Lk.UNIMPLEMENTED:return Ym.UNIMPLEMENTED;case Lk.DATA_LOSS:return Ym.DATA_LOSS;default:return Km()}}(Mk=Lk||(Lk={}))[Mk.OK=0]="OK",Mk[Mk.CANCELLED=1]="CANCELLED",Mk[Mk.UNKNOWN=2]="UNKNOWN",Mk[Mk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mk[Mk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mk[Mk.NOT_FOUND=5]="NOT_FOUND",Mk[Mk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mk[Mk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mk[Mk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mk[Mk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mk[Mk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mk[Mk.ABORTED=10]="ABORTED",Mk[Mk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mk[Mk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mk[Mk.INTERNAL=13]="INTERNAL",Mk[Mk.UNAVAILABLE=14]="UNAVAILABLE",Mk[Mk.DATA_LOSS=15]="DATA_LOSS";var zk=function(){function e(t,n){ct(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ft(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vy(this.inner,(function(t,n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return my(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),qk=new vg(Ly.comparator);function Wk(){return qk}var Hk=new vg(Ly.comparator);function Kk(){for(var e=Hk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Gk(){return new zk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Qk=new vg(Ly.comparator),Yk=new gg(Ly.comparator);function Xk(){for(var e=Yk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $k=new gg(cy);function Jk(){return $k}var Zk=function(){function e(t,n,r,i,a){ct(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ft(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,eb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(dy.min(),r,Jk(),Wk(),Xk())}}]),e}(),eb=function(){function e(t,n,r,i,a){ct(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ft(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(_y.EMPTY_BYTE_STRING,n,Xk(),Xk(),Xk())}}]),e}(),tb=ft((function e(t,n,r,i){ct(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),nb=ft((function e(t,n){ct(this,e),this.targetId=t,this.$=n})),rb=ft((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_y.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ct(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ib=function(){function e(){ct(this,e),this.B=0,this.L=sb(),this.U=_y.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return ft(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Xk(),t=Xk(),n=Xk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Km()}})),new eb(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=sb()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),ab=function(){function e(t){ct(this,e),this.nt=t,this.st=new Map,this.it=Wk(),this.rt=ob(),this.ot=new gg(cy)}return ft(e,[{key:"ut",value:function(e){var t,n=ht(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=ht(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Km()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Sg(i))if(0===n){var a=new Ly(i.path);this.ct(t,a,ag.newNoDocument(a,dy.min()))}else Gm(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Sg(a.target)){var o=new Ly(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,ag.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Xk();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zk(e,n,this.ot,this.it,r);return this.it=Wk(),this.rt=ob(),this.ot=new gg(cy),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new ib,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new gg(cy),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||zm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new ib),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ob(){return new vg(Ly.comparator)}function sb(){return new vg(Ly.comparator)}var ub={asc:"ASCENDING",desc:"DESCENDING"},cb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lb=ft((function e(t,n){ct(this,e),this.databaseId=t,this.N=n}));function fb(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hb(e,t){return e.N?t.toBase64():t.toUint8Array()}function db(e,t){return fb(e,t.toTimestamp())}function pb(e){return Gm(!!e),dy.fromTimestamp(function(e){var t=Ey(e);return new hy(t.seconds,t.nanos)}(e))}function vb(e,t){return function(e){return new gy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mb(e){var t=gy.fromString(e);return Gm(jb(t)),t}function yb(e,t){return vb(e.databaseId,t.path)}function gb(e,t){var n=mb(t);if(n.get(1)!==e.databaseId.projectId)throw new Xm(Ym.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Xm(Ym.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ly(_b(n))}function kb(e,t){return vb(e.databaseId,t)}function bb(e){var t=mb(e);return 4===t.length?gy.emptyPath():_b(t)}function wb(e){return new gy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _b(e){return Gm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xb(e,t,n){return{name:yb(e,t),fields:n.value.mapValue.fields}}function Eb(e,t,n){var r=gb(e,t.name),i=pb(t.updateTime),a=new rg({mapValue:{fields:t.fields}}),o=ag.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Sb(e,t){return"found"in t?function(e,t){Gm(!!t.found),t.found.name,t.found.updateTime;var n=gb(e,t.found.name),r=pb(t.found.updateTime),i=new rg({mapValue:{fields:t.found.fields}});return ag.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Gm(!!t.missing),Gm(!!t.readTime);var n=gb(e,t.missing),r=pb(t.readTime);return ag.newNoDocument(n,r)}(e,t):Km()}function Tb(e,t){var n;if(t instanceof Nk)n={update:xb(e,t.key,t.value)};else if(t instanceof Fk)n={delete:yb(e,t.key)};else if(t instanceof Pk)n={update:xb(e,t.key,t.data),updateMask:Vb(t.fieldMask)};else{if(!(t instanceof Vk))return Km();n={verify:yb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yk)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Km()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:db(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Km()}(e,t.precondition)),n}function Ib(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?_k.updateTime(pb(e.updateTime)):void 0!==e.exists?_k.exists(e.exists):_k.none()}(t.currentDocument):_k.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Gm("REQUEST_TIME"===t.setToServerValue),n=new hk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new dk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new vk(i)}else"increment"in t?n=new yk(e,t.increment):Km();var a=by.fromServerFormat(t.fieldPath);return new bk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=gb(e,t.update.name),a=new rg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new wy(t.map((function(e){return by.fromServerFormat(e)})))}(t.updateMask);return new Pk(i,a,o,n,r)}return new Nk(i,a,n,r)}if(t.delete){var s=gb(e,t.delete);return new Fk(s,n)}if(t.verify){var u=gb(e,t.verify);return new Vk(u,n)}return Km()}function Cb(e,t){return{documents:[kb(e,t.path)]}}function Ab(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yy(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NAN"}};if(Qy(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yy(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NOT_NAN"}};if(Qy(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ob(e.field),op:Rb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ob(e.field),direction:Db(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Dy(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nb(e){var t=bb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Pb(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new jg(Lb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Dy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Vg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Vg(n,t)}(n.endAt)),Wg(t,i,s,o,u,"F",c,l)}function Pb(e){return e?void 0!==e.unaryFilter?[Fb(e)]:void 0!==e.fieldFilter?[Mb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Pb(e)})).reduce((function(e,t){return e.concat(t)})):Km():[]}function Db(e){return ub[e]}function Rb(e){return cb[e]}function Ob(e){return{fieldPath:e.canonicalString()}}function Lb(e){return by.fromServerFormat(e.fieldPath)}function Mb(e){return Ag.create(Lb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Km()}}(e.fieldFilter.op),e.fieldFilter.value)}function Fb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lb(e.unaryFilter.field);return Ag.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lb(e.unaryFilter.field);return Ag.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lb(e.unaryFilter.field);return Ag.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lb(e.unaryFilter.field);return Ag.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Km()}}function Vb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ub(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zb(t)),t=Bb(e.get(n),t);return zb(t)}function Bb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zb(e){return e+"\x01\x01"}function qb(e){var t=e.length;if(Gm(t>=2),2===t)return Gm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),gy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Km(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Km()}a=o+2}return new gy(r)}var Wb=["userId","batchId"];function Hb(e,t){return[e,Ub(t)]}function Kb(e,t,n){return[e,Ub(t),n]}var Gb={},Qb=["prefixPath","collectionGroup","readTime","documentId"],Yb=["prefixPath","collectionGroup","documentId"],Xb=["collectionGroup","readTime","prefixPath","documentId"],$b=["canonicalId","targetId"],Jb=["targetId","path"],Zb=["path","targetId"],ew=["collectionId","parent"],tw=["indexId","uid"],nw=["uid","sequenceNumber"],rw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iw=["indexId","uid","orderedDocumentKey"],aw=["userId","collectionPath","documentId"],ow=["userId","collectionPath","largestBatchId"],sw=["userId","collectionGroup","largestBatchId"],uw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cw=[].concat(Jt(uw),["documentOverlays"]),lw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fw=[].concat(lw,["indexConfiguration","indexState","indexEntries"]),hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dw=function(){function e(){ct(this,e),this.onCommittedListeners=[]}return ft(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),pw=function(){function e(t){var n=this;ct(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ft(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Km(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ht(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),vw=function(){function e(t,n){var r=this;ct(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new $m,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new gw(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=xw(e.target.error);r.At.reject(new gw(t,n))}}return ft(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(zm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new bw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new gw(n,t)}}}]),e}(),mw=function(){function e(t,n,r){ct(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Nt())&&qm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ft(e,[{key:"Nt",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return zm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new gw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Xm(Ym.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Xm(Ym.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new gw(t,n))},i.onupgradeneeded=function(e){zm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){zm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ee().mark((function e(){var n,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=vw.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),pw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,zm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return zm("SimpleDb","Removing database:",e),ww(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Mt())return!1;if(e.St())return!0;var t=Nt(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),yw=function(){function e(t){ct(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ft(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return ww(this.Ft.delete())}}]),e}(),gw=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,Ym.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ft(n)}(Xm);function kw(e){return"IndexedDbTransactionError"===e.name}var bw=function(){function e(t){ct(this,e),this.store=t}return ft(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(zm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ww(n)}},{key:"add",value:function(e){return zm("SimpleDb","ADD",this.store.name,e,e),ww(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ww(this.store.get(e)).next((function(n){return void 0===n&&(n=null),zm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return zm("SimpleDb","DELETE",this.store.name,e),ww(this.store.delete(e))}},{key:"count",value:function(){return zm("SimpleDb","COUNT",this.store.name),ww(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new pw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new pw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){zm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new pw((function(n,r){t.onerror=function(e){var t=xw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new pw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new yw(i),o=t(i.primaryKey,i.value,a);if(o instanceof pw){var s=o.catch((function(e){return a.done(),pw.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return pw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ww(e){return new pw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xw(e.target.error);n(t)}}))}var _w=!1;function xw(e){var t=mw.Vt(Nt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Xm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _w||(_w=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ew=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ft(n)}(dw);function Sw(e,t){var n=Qm(e);return mw.xt(n.Ht,t)}var Tw=function(){function e(t,n,r,i){ct(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ft(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Sk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ht(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Tk(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ht(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Tk(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(dy.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ly(this.mutations,e.mutations,(function(e,t){return Ck(e,t)}))&&ly(this.baseMutations,e.baseMutations,(function(e,t){return Ck(e,t)}))}}]),e}(),Iw=function(){function e(t,n,r,i){ct(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ft(e,null,[{key:"from",value:function(t,n,r){Gm(t.mutations.length===r.length);for(var i=Qk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Cw=function(){function e(t,n){ct(this,e),this.largestBatchId=t,this.mutation=n}return ft(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Aw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_y.EMPTY_BYTE_STRING;ct(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ft(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Nw=ft((function e(t){ct(this,e),this.Jt=t}));function Pw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fb(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rw(t.version)};else{if(!t.isUnknownDocument())return Km();r.unknownDocument={path:n.path.toArray(),version:Rw(t.version)}}return r}function Dw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Rw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ow(e){var t=new hy(e.seconds,e.nanoseconds);return dy.fromTimestamp(t)}function Lw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ib(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ib(e.Jt,t)})),s=hy.fromMillis(t.localWriteTimeMs);return new Tw(t.batchId,s,n,o)}function Mw(e){var t,n,r=Ow(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ow(e.lastLimboFreeSnapshotVersion):dy.min();return void 0!==e.query.documents?(Gm(1===(n=e.query).documents.length),t=Xg(Hg(bb(n.documents[0])))):t=function(e){return Xg(Nb(e))}(e.query),new Aw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_y.fromBase64String(e.resumeToken))}function Fw(e,t){var n,r=Rw(t.snapshotVersion),i=Rw(t.lastLimboFreeSnapshotVersion);n=Sg(t.target)?Cb(e.Jt,t.target):Ab(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Vw(e){var t=Nb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$g(t,t.limit,"L"):t}function jw(e,t){return new Cw(t.largestBatchId,Ib(e.Jt,t.overlayMutation))}function Uw(e,t){var n=t.path.lastSegment();return[e,Ub(t.path.popLast()),n]}var Bw=function(){function e(){ct(this,e)}return ft(e,[{key:"getBundleMetadata",value:function(e,t){return zw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ow(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return zw(e).put({bundleId:(n=t).id,createTime:Rw(pb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return qw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Vw(t.bundledQuery),readTime:Ow(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return qw(e).put(function(e){return{name:e.name,readTime:Rw(pb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function zw(e){return Sw(e,"bundles")}function qw(e){return Sw(e,"namedQueries")}var Ww=function(){function e(t,n){ct(this,e),this.M=t,this.userId=n}return ft(e,[{key:"getOverlay",value:function(e,t){var n=this;return Hw(e).get(Uw(this.userId,t)).next((function(e){return e?jw(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Cw(t,a);i.push(r.Xt(e,o))})),pw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ub(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Hw(e).Qt("collectionPathOverlayIndex",i))})),pw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Gk(),a=Ub(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hw(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=jw(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Gk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hw(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=jw(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Hw(e).put(function(e,t,n){var r=u(Uw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Tb(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Hw(e){return Sw(e,"documentOverlays")}var Kw=function(){function e(){ct(this,e)}return ft(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Sy(e.integerValue));else if("doubleValue"in e){var n=Sy(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Ry(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ty(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Jy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Km()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Ly.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Gw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Qw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Gw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Kw.fe=new Kw;var Yw=function(){function e(){ct(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ft(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Qw(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Qw(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xw=function(){function e(t){ct(this,e),this.De=t}return ft(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),$w=function(){function e(t){ct(this,e),this.De=t}return ft(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Jw=function(){function e(){ct(this,e),this.De=new Yw,this.Ce=new Xw(this.De),this.xe=new $w(this.De)}return ft(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Zw=function(){function e(t,n,r,i){ct(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ft(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function e_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=t_(e.arrayValue,t.arrayValue))?n:0!==(n=t_(e.directionalValue,t.directionalValue))?n:Ly.comparator(e.documentKey,t.documentKey)}function t_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var n_=function(){function e(t){ct(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ht(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ft(e,[{key:"$e",value:function(e){var t=sg(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=ug(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ht(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),r_=function(){function e(){ct(this,e),this.qe=new i_}return ft(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),pw.resolve()}},{key:"getCollectionParents",value:function(e,t){return pw.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return pw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return pw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return pw.resolve(null)}},{key:"getIndexType",value:function(e,t){return pw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return pw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return pw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return pw.resolve(dg.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return pw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return pw.resolve()}}]),e}(),i_=function(){function e(){ct(this,e),this.index={}}return ft(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gg(gy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new gg(gy.comparator)).toArray()}}]),e}(),a_=new Uint8Array(0),o_=function(){function e(t,n){ct(this,e),this.user=t,this.databaseId=n,this.Ke=new i_,this.Ge=new zk((function(e){return xg(e)}),(function(e,t){return Eg(e,t)})),this.uid=t.uid||""}return ft(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Ub(i)};return s_(e).put(a)}return pw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[fy(t),""],!1,!0);return s_(e).qt(r).next((function(e){var r,i=ht(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(qb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=c_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=c_(e),r=l_(e),i=u_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=u_(e),i=!0,a=new Map;return pw.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Xk(),o=[];return pw.forEach(a,(function(i,a){var s;zm("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(xg(t)));var u=function(e,t){var n=sg(t);if(void 0===n)return null;var r,i=ht(Tg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ht(ug(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=ht(Tg(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ht(ug(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Ig(e,o.fieldPath,e.startAt):Cg(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Vg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ht(ug(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Cg(e,o.fieldPath,e.endAt):Ig(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Vg(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return pw.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Ly.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return pw.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.Je(t[u/c]):a_,h=s.Ye(e,f,n[u%c],r),d=s.Xe(e,f,i[u%c],a),p=o.map((function(t){return s.Ye(e,f,t,!0)}));l.push.apply(l,Jt(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Zw(e,Ly.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Zw(e,Ly.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new n_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ht(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return pw.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new gg(by.comparator),r=!1,i=ht(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=ht(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Jw,i=ht(ug(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);Kw.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Jw;return Kw.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Jw;return Kw.fe.Zt(Hy(this.databaseId,t),n.Ne(function(e){var t=ug(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Jw);var i,a=0,o=ht(ug(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=ht(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.en(t,u.fieldPath)&&Gy(c))r=this.nn(r,u,c);else{var h=f.Ne(u.kind);Kw.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Jt(e),a=[],o=ht(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=ht(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Jw;f.seed(l.Se()),Kw.fe.Zt(u,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ag&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=c_(e),i=l_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return pw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new lg(t.sequenceNumber,new dg(Ow(t.readTime),new Ly(qb(t.documentKey)),t.largestBatchId)):lg.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new cg(by.fromServerFormat(n),r)}));return new og(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:cy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=c_(e),a=l_(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return pw.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Rw(r.readTime),documentKey:Ub(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return pw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?pw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),pw.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?pw.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return u_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return u_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=u_(e),i=new gg(e_);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Zw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new gg(e_),r=this.Ze(t,e);if(null==r)return n;var i=sg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Gy(a)){var o,s=ht(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Zw(t.indexId,e.key,this.Je(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Zw(t.indexId,e.key,a_,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;zm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=bg(a),u=bg(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=bg(o)):l?(i(s),s=bg(a)):(s=bg(a),u=bg(o))}}(r,i,e_,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),pw.waitFor(o)}},{key:"rn",value:function(e){var t=1;return l_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return e_(e,t)})).filter((function(e,t,n){return!t||0!==e_(e,n[t-1])}));var r=[];r.push(e);var i,a=ht(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e_(o,e),u=e_(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,a_,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,a_,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return pw.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||pg(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=dg.min()}))})).next((function(){return n}))}}]),e}();function s_(e){return Sw(e,"collectionParents")}function u_(e){return Sw(e,"indexEntries")}function c_(e){return Sw(e,"indexConfiguration")}function l_(e){return Sw(e,"indexState")}var f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h_=function(){function e(t,n,r){ct(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ft(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function d_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Gm(1===s)})));var c,l=[],f=ht(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Kb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return pw.waitFor(a).next((function(){return l}))}function p_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Km();t=e.noDocument}return JSON.stringify(t).length}h_.DEFAULT_COLLECTION_PERCENTILE=10,h_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,h_.DEFAULT=new h_(41943040,h_.DEFAULT_COLLECTION_PERCENTILE,h_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),h_.DISABLED=new h_(-1,0,0);var v_=function(){function e(t,n,r,i){ct(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return ft(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return y_(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=g_(e),o=y_(e);return o.add({}).next((function(s){Gm("number"==typeof s);var u,c=new Tw(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Tb(e.Jt,t)})),i=n.mutations.map((function(t){return Tb(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new gg((function(e,t){return cy(e.canonicalString(),t.canonicalString())})),d=ht(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Kb(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Gb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=c.keys()})),pw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return y_(e).get(t).next((function(e){return e?(Gm(e.userId===n.userId),Lw(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?pw.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return y_(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Gm(t.batchId>=r),a=Lw(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return y_(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return y_(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Lw(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Hb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return g_(e).Wt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=qb(l);if(c===n.userId&&t.path.isEqual(h))return y_(e).get(f).next((function(e){if(!e)throw Km();Gm(e.userId===n.userId),a.push(Lw(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gg(cy),i=[];return t.forEach((function(t){var a=Hb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=g_(e).Wt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=qb(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),pw.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Hb(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new gg(cy);return g_(e).Wt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=qb(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(y_(e).get(t).next((function(e){if(null===e)throw Km();Gm(e.userId===n.userId),r.push(Lw(n.M,e))})))})),pw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return d_(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),pw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return pw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return g_(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=qb(e[1]);i.push(a)}else r.done()})).next((function(){Gm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return m_(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return k_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Gm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function m_(e,t,n){var r=Hb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return g_(e).Wt({range:a,jt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function y_(e){return Sw(e,"mutations")}function g_(e){return Sw(e,"documentMutations")}function k_(e){return Sw(e,"mutationQueues")}var b_=function(){function e(t){ct(this,e),this.mn=t}return ft(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),w_=function(){function e(t,n){ct(this,e),this.referenceDelegate=t,this.M=n}return ft(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new b_(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return dy.fromTimestamp(new hy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return __(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Gm(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return __(e).Wt((function(o,s){var u=Mw(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return pw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return __(e).Wt((function(e,n){var r=Mw(n);t(r)}))}},{key:"pn",value:function(e){return x_(e).get("targetGlobalKey").next((function(e){return Gm(null!==e),e}))}},{key:"In",value:function(e,t){return x_(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return __(e).put(Fw(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return __(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Mw(n);Eg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=E_(e);return t.forEach((function(t){var o=Ub(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),pw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=E_(e);return pw.forEach(t,(function(t){var a=Ub(t.path);return pw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=E_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=E_(e),i=Xk();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=qb(e[1]),a=new Ly(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ub(t.path),r=IDBKeyRange.bound([n],[fy(n)],!1,!0),i=0;return E_(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return __(e).get(t).next((function(e){return e?Mw(e):null}))}}]),e}();function __(e){return Sw(e,"targets")}function x_(e){return Sw(e,"targetGlobal")}function E_(e){return Sw(e,"targetDocuments")}function S_(e){return T_.apply(this,arguments)}function T_(){return T_=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ym.FAILED_PRECONDITION&&t.message===hw){e.next=2;break}throw t;case 2:zm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function I_(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=cy(r,o);return 0===c?cy(i,s):c}var C_=function(){function e(t){ct(this,e),this.An=t,this.buffer=new gg(I_),this.Rn=0}return ft(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();I_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),A_=function(){function e(t,n){ct(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return ft(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;zm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!kw(n.t0)){n.next=12;break}zm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,S_(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),N_=function(){function e(t,n){ct(this,e),this.Dn=t,this.params=n}return ft(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return pw.resolve(oy.A);var r=new C_(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zm("LruGarbageCollector","Garbage collection skipped; disabled"),pw.resolve(f_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(zm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),f_):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(zm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Bm()<=rn.DEBUG&&zm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),pw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),P_=function(){function e(t,n){ct(this,e),this.db=t,this.garbageCollector=function(e,t){return new N_(e,t)}(this,n)}return ft(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return D_(e,n)}},{key:"removeReference",value:function(e,t,n){return D_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return D_(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return k_(e).zt((function(r){return m_(e,r,t).next((function(e){return e&&(n=!0),pw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,s){if(s<=t){var u=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,dy.min()),E_(e).delete([0,Ub(o.path)])}))}));i.push(u)}})).next((function(){return pw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return D_(e,t)}},{key:"Mn",value:function(e,t){var n,r=E_(e),i=oy.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==oy.A&&t(new Ly(qb(n)),i),i=c,n=s):i=oy.A})).next((function(){i!==oy.A&&t(new Ly(qb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function D_(e,t){return E_(e).put(function(e,t){return{targetId:0,path:Ub(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var R_=function(){function e(){ct(this,e),this.changes=new zk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ft(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ag.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?pw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),O_=function(){function e(t){ct(this,e),this.M=t}return ft(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return F_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return F_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Dw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ag.newInvalidDocument(t);return F_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(V_(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:ag.newInvalidDocument(t)};return F_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(V_(t))},(function(e,i){r={document:n.$n(t,i),size:p_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Wk();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Wk(),i=new vg(Ly.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,p_(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return pw.resolve();var r=new gg(U_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(V_(r.first()),V_(r.last())),a=r.getIterator(),o=a.getNext();return F_(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ly.fromSegments([].concat(Jt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&U_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(V_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Dw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return F_(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Wk(),i=ht(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Ly.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Wk(),o=j_(t,n),s=j_(t,dg.max());return F_(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.$n(Ly.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new L_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return M_(e).get("remoteDocumentGlobalKey").next((function(e){return Gm(!!e),e}))}},{key:"Fn",value:function(e,t){return M_(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Eb(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ly.fromSegments(t.noDocument.path),i=Ow(t.noDocument.readTime);n=ag.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Km();var a=Ly.fromSegments(t.unknownDocument.path),o=Ow(t.unknownDocument.version);n=ag.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new hy(e[0],e[1]);return dy.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(dy.min()))return n}return ag.newInvalidDocument(e)}}]),e}(),L_=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new zk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ft(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new gg((function(e,t){return cy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Pw(t.Kn.M,o);i=i.add(a.path.popLast());var c=p_(u);r+=c-s.size,n.push(t.Kn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Pw(t.Kn.M,o.convertToNoDocument(dy.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),pw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(R_);function M_(e){return Sw(e,"remoteDocumentGlobal")}function F_(e){return Sw(e,"remoteDocumentsV14")}function V_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function j_(e,t){var n=t.documentKey.path.toArray();return[e,Dw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function U_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=cy(n[a],r[a]))return i;return(i=cy(n.length,r.length))||((i=cy(n[n.length-2],r[r.length-2]))||cy(n[n.length-1],r[r.length-1]))}var B_=function(){function e(t){ct(this,e),this.M=t}return ft(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new vw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wb,{unique:!0}),e.createObjectStore("documentMutations")}(e),z_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=pw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),z_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return pw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:aw});t.createIndex("collectionPathOverlayIndex",ow,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qb});t.createIndex("documentKeyIndex",Yb),t.createIndex("collectionGroupIndex",Xb)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:tw}).createIndex("sequenceNumberIndex",nw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rw}).createIndex("documentKeyIndex",iw,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=p_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return pw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return pw.forEach(r,(function(r){Gm(r.userId===n.userId);var i=Lw(t.M,r);return d_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new gy(n),o=function(e){return[0,Ub(e)]}(a);r.push(t.get(o).next((function(n){return n?pw.resolve():function(n){return t.put({targetId:0,path:Ub(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return pw.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ew});var n=t.store("collectionParents"),r=new i_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ub(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new gy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],qb(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Mw(r),a=Fw(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ly(gy.fromString(i.document.name).popFirst(5)):i.noDocument?Ly.fromSegments(i.noDocument.path):i.unknownDocument?Ly.fromSegments(i.unknownDocument.path):Km()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return pw.waitFor(r)}))}}]),e}();function z_(e){e.createObjectStore("targetDocuments",{keyPath:Jb}).createIndex("documentTargetsIndex",Zb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$b,{unique:!0}),e.createObjectStore("targetGlobal")}var q_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",W_=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(ct(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=s,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Xm(Ym.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new P_(this,i),this.hs=n+"main",this.M=new Nw(u),this.ls=new mw(this.hs,this.ts,new B_(this.M)),this.fs=new w_(this.referenceDelegate,this.M),this.ds=function(e){return new O_(e)}(this.M),this._s=new Bw,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&qm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ft(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Xm(Ym.FAILED_PRECONDITION,q_);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new oy(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=J(ee().mark((function n(r){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return K_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(kw(t))return zm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return zm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return H_(e).get("owner").next((function(e){return pw.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return K_(e).delete(this.clientId)}},{key:"vs",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Sw(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return pw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=ht(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?pw.resolve(!0):H_(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Xm(Ym.FAILED_PRECONDITION,q_);return!1}}return!(!t.networkEnabled||!t.inForeground)||K_(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&zm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ew(e,oy.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return K_(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return v_.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new o_(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ww.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;zm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.ts)?fw:13===i?lw:12===i?cw:11===i?uw:void Km();return this.ls.runTransaction(e,o,s,(function(i){return a=new Ew(i,r.es?r.es.next():oy.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw qm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Xm(Ym.FAILED_PRECONDITION,hw);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return H_(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Xm(Ym.FAILED_PRECONDITION,q_)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return H_(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=H_(e);return n.get("owner").next((function(e){return t.Ps(e)?(zm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):pw.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(qm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return zm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(jh){qm("Failed to set zombie client id.",jh)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(jh){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return mw.vt()}}]),e}();function H_(e){return Sw(e,"owner")}function K_(e){return Sw(e,"clientMetadata")}function G_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Q_=function(){function e(t,n,r){ct(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return ft(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=ht(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=ht(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Ly.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Qg(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Ly(t)).next((function(e){var t=Kk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Kk();return this.indexManager.getCollectionParents(e,i).next((function(o){return pw.forEach(o,(function(o){var s=function(e,t){return new qg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ht(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=ag.newInvalidDocument(u),r=r.insert(u,c)),Tk(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){tk(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Y_=function(){function e(t,n,r,i){ct(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return ft(e,null,[{key:"Ys",value:function(t,n){var r,i=Xk(),a=Xk(),o=ht(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),X_=function(){function e(){ct(this,e),this.Xs=!1}return ft(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return pw.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(dy.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Bm()<=rn.DEBUG&&zm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ek(t)),i.ri(e,o,t,fg(r,-1)))}))}},{key:"si",value:function(e,t){var n=new gg(rk(e));return t.forEach((function(t,r){tk(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Bm()<=rn.DEBUG&&zm("QueryEngine","Using full collection scan to execute query:",ek(t)),this.Zs.Qs(e,t,dg.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),$_=function(){function e(t,n,r,i){ct(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new vg(cy),this.ai=new zk((function(e){return xg(e)}),Eg),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return ft(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Q_(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function J_(e,t,n,r){return new $_(e,t,n,r)}function Z_(e,t){return ex.apply(this,arguments)}function ex(){return ex=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Xk(),u=ht(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ht(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ht(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ht(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){var n=Qm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=pw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Gm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function nx(e){var t=Qm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function rx(e,t){var n=Qm(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(_y.EMPTY_BYTE_STRING,dy.min()).withLastLimboFreeSnapshotVersion(dy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=Wk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ix(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(dy.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return pw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ui=i,e}))}function ix(e,t,n){var r=Xk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Wk();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(dy.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):zm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ax(e,t){var n=Qm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function ox(e,t){var n=Qm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,pw.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Aw(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function sx(e,t,n){return ux.apply(this,arguments)}function ux(){return ux=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Qm(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),kw(e.t1)){e.next=12;break}throw e.t1;case 12:zm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ux.apply(this,arguments)}function cx(e,t,n){var r=Qm(e),i=dy.min(),a=Xk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Qm(e),i=r.ai.get(n);return void 0!==i?pw.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Xg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:dy.min(),n?a:Xk())})).next((function(e){return hx(r,nk(t),e),{documents:e,_i:a}}))}))}function lx(e,t){var n=Qm(e),r=Qm(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function fx(e,t){var n=Qm(e),r=n.ci.get(t)||dy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,fg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return hx(n,t,e),e}))}function hx(e,t,n){var r=dy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function dx(e,t,n,r){return px.apply(this,arguments)}function px(){return px=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Qm(t),o=Xk(),s=Wk(),u=ht(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,ox(a,function(e){return Xg(Hg(gy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ix(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=J(ee().mark((function e(t,n){var r,i,a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Xk(),e.next=3,ox(t,Xg(Vw(n.bundledQuery)));case 3:return i=e.sent,a=Qm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(_y.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}var yx=function(){function e(t){ct(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return ft(e,[{key:"getBundleMetadata",value:function(e,t){return pw.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:pb(n.createTime)}),pw.resolve()}},{key:"getNamedQuery",value:function(e,t){return pw.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Vw(e.bundledQuery),readTime:pb(e.readTime)}}(t)),pw.resolve()}}]),e}(),gx=function(){function e(){ct(this,e),this.overlays=new vg(Ly.comparator),this.Ii=new Map}return ft(e,[{key:"getOverlay",value:function(e,t){return pw.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),pw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),pw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Gk(),i=t.length+1,a=new Ly(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return pw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new vg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Gk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Gk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return pw.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Cw(t,n));var a=this.Ii.get(t);void 0===a&&(a=Xk(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),kx=function(){function e(){ct(this,e),this.Ti=new gg(bx.Ei),this.Ai=new gg(bx.Ri)}return ft(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bx(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new bx(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Ly(new gy([])),r=new bx(n,e),i=new bx(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Ly(new gy([])),n=new bx(t,e),r=new bx(t,e+1),i=Xk();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bx(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bx=function(){function e(t,n){ct(this,e),this.key=t,this.Ci=n}return ft(e,null,[{key:"Ei",value:function(e,t){return Ly.comparator(e.key,t.key)||cy(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return cy(e.Ci,t.Ci)||Ly.comparator(e.key,t.key)}}]),e}(),wx=function(){function e(t,n){ct(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new gg(bx.Ei)}return ft(e,[{key:"checkEmpty",value:function(e){return pw.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Tw(i,t,n,r);this.Bs.push(a);var o,s=ht(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ni=this.Ni.add(new bx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return pw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return pw.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return pw.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return pw.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return pw.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bx(t,0),i=new bx(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),pw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gg(cy);return t.forEach((function(e){var t=new bx(e,0),i=new bx(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),pw.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ly.isDocumentKey(i)||(i=i.child(""));var a=new bx(new Ly(i),0),o=new gg(cy);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),pw.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Gm(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return pw.forEach(t.mutations,(function(i){var a=new bx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bx(t,0),r=this.Ni.firstAfterOrEqual(n);return pw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,pw.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),_x=function(){function e(t){ct(this,e),this.$i=t,this.docs=new vg(Ly.comparator),this.size=0}return ft(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return pw.resolve(n?n.document.mutableCopy():ag.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Wk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ag.newInvalidDocument(e))})),pw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Wk(),i=new Ly(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||pg(hg(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return pw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Km()}},{key:"Bi",value:function(e,t){return pw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new xx(this)}},{key:"getSize",value:function(e){return pw.resolve(this.size)}}]),e}(),xx=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).Kn=e,r}return ft(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),pw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(R_),Ex=function(){function e(t){ct(this,e),this.persistence=t,this.Li=new zk((function(e){return xg(e)}),Eg),this.lastRemoteSnapshotVersion=dy.min(),this.highestTargetId=0,this.Ui=0,this.qi=new kx,this.targetCount=0,this.Ki=b_.gn()}return ft(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),pw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return pw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return pw.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),pw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),pw.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new b_(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,pw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),pw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,pw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),pw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return pw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return pw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),pw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),pw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),pw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return pw.resolve(n)}},{key:"containsKey",value:function(e,t){return pw.resolve(this.qi.containsKey(t))}}]),e}(),Sx=function(){function e(t,n){var r=this;ct(this,e),this.Gi={},this.overlays={},this.es=new oy(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Ex(this),this.indexManager=new r_,this.ds=new _x((function(e){return r.referenceDelegate.Qi(e)})),this.M=new Nw(n),this._s=new yx(this.M)}return ft(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new gx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new wx(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;zm("MemoryPersistence","Starting transaction:",e);var i=new Tx(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return pw.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Tx=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ft(n)}(dw),Ix=function(){function e(t){ct(this,e),this.persistence=t,this.Hi=new kx,this.Ji=null}return ft(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Km()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),pw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),pw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),pw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pw.forEach(this.Xi,(function(r){var i=Ly.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,dy.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return pw.or([function(){return pw.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function Cx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ax(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Nx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Px=function(){function e(t,n,r,i){ct(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ft(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Xm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(qm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Dx=function(){function e(t,n,r){ct(this,e),this.targetId=t,this.state=n,this.error=r}return ft(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xm(i.error.code,i.error.message))),a?new e(t,i.state,r):(qm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Rx=function(){function e(t,n){ct(this,e),this.clientId=t,this.activeTargetIds=n}return ft(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Jk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Oy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(qm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ox=function(){function e(t,n){ct(this,e),this.clientId=t,this.onlineState=n}return ft(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(qm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Lx=function(){function e(){ct(this,e),this.activeTargetIds=Jk()}return ft(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Mx=function(){function e(t,n,r,i,a){ct(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new vg(cy),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=Cx(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new Lx),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return ft(e,[{key:"start",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=ht(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Cx(this.persistenceKey,i)))&&(o=Rx.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(s=this.storage.getItem(this.mr))&&(u=this.pr(s))&&this.Ir(u),c=ht(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Nx(this.persistenceKey,e));if(n){var r=Dx.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Nx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return zm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){zm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){zm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(zm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void qm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(J(ee().mark((function e(){var r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(s));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}u=function(e){var t=oy.A;if(null!=e)try{var n=JSON.parse(e);Gm("number"==typeof n),t=n}catch(e){qm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==oy.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new Px(this.currentUser,e,t,n),i=Ax(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=Ax(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=Nx(this.persistenceKey,e),i=new Dx(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return Rx.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Px.tr(new Vm(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return Dx.tr(r,t)}},{key:"pr",value:function(e){return Ox.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:zm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Lr(o,s).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Jk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Fx=function(){function e(){ct(this,e),this.Ur=new Lx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ft(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Lx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Vx=function(){function e(){ct(this,e)}return ft(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),jx=function(){function e(){var t=this;ct(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return ft(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){zm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ht(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){zm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ht(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ux={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bx=function(){function e(t){ct(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return ft(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),zx=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ft(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Mm;o.listenOnce(Pm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Nm.NO_ERROR:var t=o.getResponseJson();zm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nm.TIMEOUT:zm("Connection",'RPC "'+e+'" timed out'),a(new Xm(Ym.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:var n=o.getStatus();if(zm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ym).indexOf(t)>=0?t:Ym.UNKNOWN}(r.status);a(new Xm(s,r.message))}else a(new Xm(Ym.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Xm(Ym.UNAVAILABLE,"Connection failed."));break;default:Km()}}finally{zm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Cm(),a=Am(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Om({})),this.lo(o.initMessageHeaders,t,n),Pt()||Ot()||Nt().indexOf("Electron/")>=0||Lt()||Nt().indexOf("MSAppHost/")>=0||Rt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");zm("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Bx({Jr:function(e){l?zm("Connection","Not sending because WebChannel is closed:",e):(c||(zm("Connection","Opening WebChannel transport."),u.open(),c=!0),zm("Connection","WebChannel sending:",e),u.send(e))},Yr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Lm.EventType.OPEN,(function(){l||zm("Connection","WebChannel transport opened.")})),h(u,Lm.EventType.CLOSE,(function(){l||(l=!0,zm("Connection","WebChannel transport closed"),f.ro())})),h(u,Lm.EventType.ERROR,(function(e){l||(l=!0,Wm("Connection","WebChannel transport errored:",e),f.ro(new Xm(Ym.UNAVAILABLE,"The operation could not be completed")))})),h(u,Lm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Gm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){zm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Lk[e];if(void 0!==t)return Bk(t)}(a),s=i.message;void 0===o&&(o=Ym.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Xm(o,s)),u.close()}else zm("Connection","WebChannel received:",n),f.oo(n)}})),h(a,Dm.STAT_EVENT,(function(e){e.stat===Rm.PROXY?zm("Connection","Detected buffering proxy"):e.stat===Rm.NOPROXY&&zm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){ct(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ft(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);zm("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return zm("RestConnection","Received: ",e),e}),(function(t){throw Wm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Ux[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function qx(){return"undefined"!=typeof window?window:null}function Wx(){return"undefined"!=typeof document?document:null}function Hx(e){return new lb(e,!0)}var Kx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ct(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return ft(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&zm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Gx=function(){function e(t,n,r,i,a,o,s,u){ct(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Kx(t,n)}return ft(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Ym.RESOURCE_EXHAUSTED?(qm(n.toString()),qm("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Ym.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Xm(Ym.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return zm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(zm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Qx=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a,o,s){var u;return ct(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return ft(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Km()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Gm(void 0===t||"string"==typeof t),_y.fromBase64String(t||"")):(Gm(void 0===t||t instanceof Uint8Array),_y.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Ym.UNKNOWN:Bk(e.code);return new Xm(t,e.message||"")}(o);n=new rb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=gb(e,u.document.name),l=pb(u.document.updateTime),f=new rg({mapValue:{fields:u.document.fields}}),h=ag.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new tb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=gb(e,v.document),y=v.readTime?pb(v.readTime):dy.min(),g=ag.newNoDocument(m,y),k=v.removedTargetIds||[];n=new tb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=gb(e,b.document),_=b.removedTargetIds||[];n=new tb([],_,w,null)}else{if(!("filter"in t))return Km();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new jk(E),T=x.targetId;n=new nb(T,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return dy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?dy.min():t.readTime?pb(t.readTime):dy.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=wb(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Sg(r)?{documents:Cb(e,r)}:{query:Ab(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hb(e,t.resumeToken):t.snapshotVersion.compareTo(dy.min())>0&&(n.readTime=fb(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Km()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=wb(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Gx),Yx=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a,o,s){var u;return ct(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Yo=!1,u}return ft(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,ea(mt(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Gm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Gm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pb(e.updateTime):pb(t);return n.isEqual(dy.min())&&(n=pb(t)),new wk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pb(e.commitTime);return this.listener.tu(n,t)}return Gm(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=wb(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Tb(t.M,e)}))};this.Lo(n)}}]),n}(Gx),Xx=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a){var o;return ct(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return ft(n,[{key:"iu",value:function(){if(this.su)throw new Xm(Ym.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.So.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ym.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Xm(Ym.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.So._o(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ym.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Xm(Ym.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return ft((function e(){ct(this,e)}))}()),$x=function(){function e(t,n){ct(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return ft(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(qm(t),this.uu=!1):zm("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Jx=ft((function e(t,n,r,i,a){var o=this;ct(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cE(o),!e.t0){e.next=5;break}return zm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Qm(t)).wu.add(4),e.next=4,tE(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Zx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new $x(r,i)}));function Zx(e){return eE.apply(this,arguments)}function eE(){return eE=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cE(t)){e.next=18;break}n=ht(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),eE.apply(this,arguments)}function tE(e){return nE.apply(this,arguments)}function nE(){return nE=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ht(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),nE.apply(this,arguments)}function rE(e,t){var n=Qm(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),uE(n)?sE(n):VE(n).Mo()&&aE(n,t))}function iE(e,t){var n=Qm(e),r=VE(n);n._u.delete(t),r.Mo()&&oE(n,t),0===n._u.size&&(r.Mo()?r.$o():cE(n)&&n.yu.set("Unknown"))}function aE(e,t){e.pu.Z(t.targetId),VE(e).Ho(t)}function oE(e,t){e.pu.Z(t),VE(e).Jo(t)}function sE(e){e.pu=new ab({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),VE(e).start(),e.yu.au()}function uE(e){return cE(e)&&!VE(e).ko()&&e._u.size>0}function cE(e){return 0===Qm(e).wu.size}function lE(e){e.pu=void 0}function fE(e){return hE.apply(this,arguments)}function hE(){return hE=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){aE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lE(t),uE(t)?(t.yu.lu(n),sE(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t,n){return mE.apply(this,arguments)}function mE(){return mE=J(ee().mark((function e(t,n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof rb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ht(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),zm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tb?t.pu.ut(n):n instanceof nb?t.pu._t(n):t.pu.ht(n),r.isEqual(dy.min())){e.next=29;break}return e.prev=14,e.next=17,nx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(_y.EMPTY_BYTE_STRING,n.snapshotVersion)),oE(e,t);var r=new Aw(n.target,t,1,n.sequenceNumber);aE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),zm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mE.apply(this,arguments)}function yE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=J(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kw(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,tE(t);case 5:t.yu.set("Offline"),r||(r=function(){return nx(t.localStore)}),t.asyncQueue.enqueueRetryable(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Zx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return t().catch((function(n){return yE(e,n,t)}))}function bE(e){return wE.apply(this,arguments)}function wE(){return wE=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qm(t),r=jE(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!_E(n)){e.next=19;break}return e.prev=3,e.next=6,ax(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,xE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yE(n,e.t0);case 17:e.next=2;break;case 19:EE(n)&&SE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),wE.apply(this,arguments)}function _E(e){return cE(e)&&e.du.length<10}function xE(e,t){e.du.push(t);var n=jE(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function EE(e){return cE(e)&&!jE(e).ko()&&e.du.length>0}function SE(e){jE(e).start()}function TE(e){return IE.apply(this,arguments)}function IE(){return IE=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jE(t).nu();case 1:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function CE(e){return AE.apply(this,arguments)}function AE(){return AE=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jE(t),r=ht(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function NE(e,t,n){return PE.apply(this,arguments)}function PE(){return PE=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Iw.from(i,n,r),e.next=3,kE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,bE(t);case 5:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function DE(e,t){return RE.apply(this,arguments)}function RE(){return RE=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&jE(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uk(i=n.code)||i===Ym.ABORTED){e.next=7;break}return r=t.du.shift(),jE(t).Fo(),e.next=5,kE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,bE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:EE(t)&&SE(t);case 5:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function OE(e,t){return LE.apply(this,arguments)}function LE(){return LE=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Qm(t)).asyncQueue.verifyOperationInProgress(),zm("RemoteStore","RemoteStore received new credentials"),i=cE(r),r.wu.add(3),e.next=6,tE(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Zx(r);case 12:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qm(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Zx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,tE(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function VE(e){return e.Iu||(e.Iu=function(e,t,n){var r=Qm(e);return r.iu(),new Qx(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:fE.bind(null,e),eo:dE.bind(null,e),zo:vE.bind(null,e)}),e.mu.push(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),uE(e)?sE(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:lE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function jE(e){return e.Tu||(e.Tu=function(e,t,n){var r=Qm(e);return r.iu(),new Yx(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:TE.bind(null,e),eo:DE.bind(null,e),eu:CE.bind(null,e),tu:NE.bind(null,e)}),e.mu.push(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,bE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(zm("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var UE=function(){function e(t,n,r,i,a){ct(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $m,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ft(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xm(Ym.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function BE(e,t){if(qm("AsyncQueue","".concat(t,": ").concat(e)),kw(e))return new Xm(Ym.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zE=function(){function e(t){ct(this,e),this.comparator=t?function(e,n){return t(e,n)||Ly.comparator(e.key,n.key)}:function(e,t){return Ly.comparator(e.key,t.key)},this.keyedMap=Kk(),this.sortedSet=new vg(this.comparator)}return ft(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),qE=function(){function e(){ct(this,e),this.Eu=new vg(Ly.comparator)}return ft(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Km():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),WE=function(){function e(t,n,r,i,a,o,s,u){ct(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ft(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,zE.emptySet(n),a,r,i,!0,!1)}}]),e}(),HE=ft((function e(){ct(this,e),this.Ru=void 0,this.listeners=[]})),KE=ft((function e(){ct(this,e),this.queries=new zk((function(e){return Zg(e)}),Jg),this.onlineState="Unknown",this.bu=new Set}));function GE(e,t){return QE.apply(this,arguments)}function QE(){return QE=J(ee().mark((function e(t,n){var r,i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new HE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=BE(e.t0,"Initialization of query '".concat(ek(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&ZE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),QE.apply(this,arguments)}function YE(e,t){return XE.apply(this,arguments)}function XE(){return XE=J(ee().mark((function e(t,n){var r,i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function $E(e,t){var n,r=Qm(e),i=!1,a=ht(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ht(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&ZE(r)}function JE(e,t,n){var r=Qm(e),i=r.queries.get(t);if(i){var a,o=ht(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ZE(e){e.bu.forEach((function(e){e.next()}))}var eS=function(){function e(t,n,r){ct(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return ft(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ht(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new WE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=WE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),tS=function(){function e(t,n){ct(this,e),this.payload=t,this.byteLength=n}return ft(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),nS=function(){function e(t){ct(this,e),this.M=t}return ft(e,[{key:"wi",value:function(e){return gb(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?Eb(this.M,e.document,!1):ag.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return pb(e)}}]),e}(),rS=function(){function e(t,n,r){ct(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iS(t)}return ft(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=gy.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new nS(this.M),i=ht(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.wi(a.metadata.name),u=ht(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Xk()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dx(this.localStore,new nS(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=ht(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function iS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var aS=ft((function e(t){ct(this,e),this.key=t})),oS=ft((function e(t){ct(this,e),this.key=t})),sS=function(){function e(t,n){ct(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Xk(),this.mutatedKeys=Xk(),this.Gu=rk(t),this.Qu=new zE(this.Gu)}return ft(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new qE,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=tk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Km()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new WE(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qE,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Xk(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new oS(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new aS(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Xk();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return WE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),uS=ft((function e(t,n,r){ct(this,e),this.query=t,this.targetId=n,this.view=r})),cS=ft((function e(t){ct(this,e),this.key=t,this.na=!1})),lS=function(){function e(t,n,r,i,a,o){ct(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new zk((function(e){return Zg(e)}),Jg),this.ra=new Map,this.oa=new Set,this.ua=new vg(Ly.comparator),this.aa=new Map,this.ca=new kx,this.ha={},this.la=new Map,this.fa=b_.yn(),this.onlineState="Unknown",this.da=void 0}return ft(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=J(ee().mark((function e(t,n){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=iT(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,ox(r.localStore,Xg(n));case 8:return s=e.sent,r.isPrimaryClient&&rE(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,dS(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t,n,r){return pS.apply(this,arguments)}function pS(){return pS=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,cx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(OS(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cx(t.localStore,n,!0);case 3:return a=e.sent,o=new sS(n,a._i),s=o.Wu(a.documents),u=eb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),OS(t,r,c.Xu),l=new uS(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qm(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Jg(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),iE(r.remoteStore,i.targetId),DS(r,i.targetId)})).catch(S_);case 9:e.next=14;break;case 11:return DS(r,i.targetId),e.next=14,sx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t,n){return gS.apply(this,arguments)}function gS(){return gS=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aT(t),e.prev=1,e.next=4,function(e,t){var n,r=Qm(e),i=hy.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Xk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],u=ht(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Ik(c,n.get(c.key));null!=l&&s.push(new Pk(c.key,l,ig(l.value.mapValue),_k.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new vg(cy)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,FS(i,a.changes);case 9:return e.next=11,bE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=BE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),gS.apply(this,arguments)}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),e.prev=1,e.next=4,rx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Gm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Gm(n.na):e.removedDocuments.size>0&&(Gm(n.na),n.na=!1))})),e.next=8,FS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,S_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),bS.apply(this,arguments)}function wS(e,t,n){var r=Qm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Qm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ht(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ZE(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function _S(e,t,n){return xS.apply(this,arguments)}function xS(){return xS=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Qm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new vg(Ly.comparator)).insert(o,ag.newNoDocument(o,dy.min())),u=Xk().add(o),c=new Zk(dy.min(),new Map,new gg(cy),s,u),e.next=9,kS(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),MS(i),e.next=16;break;case 14:return e.next=16,sx(i.localStore,n,!1).then((function(){return DS(i,n,r)})).catch(S_);case 16:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function ES(e,t){return SS.apply(this,arguments)}function SS(){return SS=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),i=n.batch.batchId,e.prev=1,e.next=4,tx(r.localStore,n);case 4:return a=e.sent,PS(r,i,null),NS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,FS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,S_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SS.apply(this,arguments)}function TS(e,t,n){return IS.apply(this,arguments)}function IS(){return IS=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qm(t),e.prev=1,e.next=4,function(e,t){var n=Qm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Gm(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,PS(i,n,r),NS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,FS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,S_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),IS.apply(this,arguments)}function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cE((r=Qm(t)).remoteStore)||zm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Qm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=BE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),AS.apply(this,arguments)}function NS(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function PS(e,t,n){var r=Qm(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ht(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||RS(e,t)}))}function RS(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(iE(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),MS(e))}function OS(e,t,n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof aS?(e.ca.addReference(a.key,t),LS(e,a)):a instanceof oS?(zm("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||RS(e,a.key)):Km()}}catch(o){i.e(o)}finally{i.f()}}function LS(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(zm("SyncEngine","New document in limbo: "+n),e.oa.add(r),MS(e))}function MS(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Ly(gy.fromString(t)),r=e.fa.next();e.aa.set(r,new cS(n)),e.ua=e.ua.insert(n,r),rE(e.remoteStore,new Aw(Xg(Hg(n.path)),r,2,oy.A))}}function FS(e,t,n){return VS.apply(this,arguments)}function VS(){return VS=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Qm(t),a=[],o=[],s=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){s.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Y_.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sa.zo(a),e.next=9,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return pw.forEach(n,(function(t){return pw.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return pw.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),kw(e.t0)){e.next=10;break}throw e.t0;case 10:zm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ht(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function jS(e,t){return US.apply(this,arguments)}function US(){return US=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Qm(t)).currentUser.isEqual(n)){e.next=11;break}return zm("SyncEngine","User change. New user:",n.toKey()),e.next=5,Z_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Xm(Ym.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,FS(r,i.di);case 11:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function BS(e,t){var n=Qm(e),r=n.aa.get(t);if(r&&r.na)return Xk().add(r.key);var i=Xk(),a=n.ra.get(t);if(!a)return i;var o,s=ht(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ia.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function zS(e,t){return qS.apply(this,arguments)}function qS(){return qS=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),e.next=3,cx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&OS(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function WS(e,t){return HS.apply(this,arguments)}function HS(){return HS=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),e.abrupt("return",fx(r.localStore,n).then((function(e){return FS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function KS(e,t,n,r){return GS.apply(this,arguments)}function GS(){return GS=J(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qm(t),e.next=3,function(e,t){var n=Qm(e),r=Qm(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):pw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,bE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(PS(a,n,i||null),NS(a,n),function(e,t){Qm(Qm(e).Bs)._n(t)}(a.localStore,n)):Km();case 11:return e.next=13,FS(a,o);case 13:e.next=16;break;case 15:zm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function QS(e,t){return YS.apply(this,arguments)}function YS(){return YS=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iT(r=Qm(t)),aT(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,XS(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,ME(r.remoteStore,!0);case 9:o=ht(a);try{for(o.s();!(s=o.n()).done;)u=s.value,rE(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return DS(r,t),sx(r.localStore,t,!0)})),iE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,XS(r,c);case 21:return function(e){var t=Qm(e);t.aa.forEach((function(e,n){iE(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new vg(Ly.comparator)}(r),r.da=!1,e.next=25,ME(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t,n){return $S.apply(this,arguments)}function $S(){return $S=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Qm(t),a=[],o=[],s=ht(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,ox(i.localStore,Xg(f[0]));case 11:l=e.sent,h=ht(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,zS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lx(i.localStore,c);case 36:return y=e.sent,e.next=39,ox(i.localStore,y);case 39:return l=e.sent,e.next=42,dS(i,JS(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),$S.apply(this,arguments)}function JS(e){return Wg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ZS(e){var t=Qm(e);return Qm(Qm(t.localStore).persistence).Fs()}function eT(e,t,n,r){return tT.apply(this,arguments)}function tT(){return tT=J(ee().mark((function e(t,n,r,i){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Qm(t)).da){e.next=3;break}return e.abrupt("return",void zm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,fx(a.localStore,nk(o[0]));case 10:return s=e.sent,u=Zk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,FS(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,sx(a.localStore,n,!0);case 17:return DS(a,n,i),e.abrupt("break",20);case 19:Km();case 20:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n){return rT.apply(this,arguments)}function rT(){return rT=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=iT(t)).da){e.next=45;break}a=ht(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ra.has(s)){e.next=10;break}return zm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,lx(i.localStore,s);case 12:return u=e.sent,e.next=15,ox(i.localStore,u);case 15:return c=e.sent,e.next=18,dS(i,JS(u),c.targetId,!1);case 18:rE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ht(r),e.prev=30,h=ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,sx(i.localStore,t,!1).then((function(){iE(i.remoteStore,t),DS(i,t)})).catch(S_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),rT.apply(this,arguments)}function iT(e){var t=Qm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_S.bind(null,t),t.sa.zo=$E.bind(null,t.eventManager),t.sa.wa=JE.bind(null,t.eventManager),t}function aT(e){var t=Qm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ES.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TS.bind(null,t),t}function oT(e,t,n){var r=Qm(e);(function(){var e=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Qm(e),r=pb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(iS(i)),a=new rS(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,FS(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Qm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Wm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sT=function(){function e(){ct(this,e),this.synchronizeTabs=!1}return ft(e,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Hx(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return J_(this.persistence,new X_,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Sx(Ix.Yi,this.M)}},{key:"ga",value:function(e){return new Fx}},{key:"terminate",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uT=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ft(n,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(mt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,aT(this.Ta.syncEngine);case 6:return e.next=8,bE(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return J_(this.persistence,new X_,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new A_(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?h_.withCacheSize(this.cacheSizeBytes):h_.DEFAULT;return new W_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qx(),Wx(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new Fx}}]),n}(sT),cT=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ft(n,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){var r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(mt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof Mx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:KS.bind(null,r),Br:eT.bind(null,r),Lr:nT.bind(null,r),Fs:ZS.bind(null,r),Fr:WS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QS(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=qx();if(!Mx.vt(t))throw new Xm(Ym.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uT),lT=function(){function e(){ct(this,e)}return ft(e,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return wS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jS.bind(null,this.syncEngine),e.next=12,ME(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new KE}},{key:"createDatastore",value:function(e){var t,n=Hx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zx(t));return function(e,t,n,r){return new Xx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return wS(o.syncEngine,e,0)},a=jx.vt()?new jx:new Vx,new Jx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new lS(e,t,n,r,i,a);return o&&(s.da=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qm(t),zm("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,tE(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function fT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return J(ee().mark((function r(){var i;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var hT=function(){function e(t){ct(this,e),this.observer=t,this.muted=!1}return ft(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),dT=function(){function e(t,n){var r=this;ct(this,e),this.Ra=t,this.M=n,this.metadata=new $m,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ft(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=J(ee().mark((function e(){var t,n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new tS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pT=function(){function e(t){ct(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ft(e,[{key:"lookup",value:function(){var e=J(ee().mark((function e(t){var n,r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Xm(Ym.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),i=wb(r.M)+"/documents",a={documents:n.map((function(e){return yb(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Sb(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Gm(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Fk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=J(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ly.fromPath(t);n.mutations.push(new Vk(r,n.precondition(r)))})),e.next=7,function(){var e=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t),i=wb(r.M)+"/documents",a={writes:n.map((function(e){return Tb(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Km();t=dy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Xm(Ym.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_k.updateTime(t):_k.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dy.min()))throw new Xm(Ym.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _k.updateTime(t)}return _k.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),vT=function(){function e(t,n,r,i,a){ct(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new Kx(this.asyncQueue,"transaction_retry")}return ft(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new pT(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Dy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Uk(t)}return!1}}]),e}(),mT=function(){function e(t,n,r,i){var a=this;ct(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vm.UNAUTHENTICATED,this.clientId=uy.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return zm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ft(e,[{key:"getConfiguration",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Xm(Ym.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $m;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(J(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=BE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),zm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Z_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(e,t){return bT.apply(this,arguments)}function bT(){return bT=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wT(t);case 3:return r=e.sent,zm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return OE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return OE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e){return _T.apply(this,arguments)}function _T(){return _T=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return zm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yT(t,new sT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function xT(e){return ET.apply(this,arguments)}function ET(){return ET=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return zm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,kT(t,new lT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function ST(e){return wT(e).then((function(e){return e.persistence}))}function TT(e){return wT(e).then((function(e){return e.localStore}))}function IT(e){return xT(e).then((function(e){return e.remoteStore}))}function CT(e){return xT(e).then((function(e){return e.syncEngine}))}function AT(e){return NT.apply(this,arguments)}function NT(){return NT=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=fS.bind(null,n.syncEngine),r.onUnlisten=vS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function PT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hT({next:function(a){t.enqueueAndForget((function(){return YE(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Xm(Ym.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Xm(Ym.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new eS(Hg(n.path),a,{includeMetadataChanges:!0,ku:!0});return GE(e,o)},i.next=3,AT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function DT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hT({next:function(n){t.enqueueAndForget((function(){return YE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Xm(Ym.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new eS(n,a,{includeMetadataChanges:!0,ku:!0});return GE(e,o)},i.next=3,AT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var RT=new Map;function OT(e,t,n){if(!n)throw new Xm(Ym.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LT(e,t,n,r){if(!0===t&&!0===r)throw new Xm(Ym.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MT(e){if(!Ly.isDocumentKey(e))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function FT(e){if(Ly.isDocumentKey(e))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function VT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Km()}function jT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xm(Ym.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=VT(e);throw new Xm(Ym.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function UT(e,t){if(t<=0)throw new Xm(Ym.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var BT=function(){function e(t){var n;if(ct(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Xm(Ym.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xm(Ym.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,LT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ft(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),zT=function(){function e(t,n,r){ct(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,t instanceof Py?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Xm(Ym.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Py(e.options.projectId)}(t))}return ft(e,[{key:"app",get:function(){if(!this._app)throw new Xm(Ym.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Xm(Ym.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zm;switch(e.type){case"gapi":var t=e.client;return Gm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ry(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Xm(Ym.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=RT.get(e);t&&(zm("ComponentProvider","Removing Datastore"),RT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function qT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=jT(e,zT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Wm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Vm.MOCK_USER;else{o=At(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Xm(Ym.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Vm(u)}e._authCredentials=new ey(new Jm(o,s))}}var WT=function(){function e(t,n,r){ct(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ft(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new KT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),HT=function(){function e(t,n,r){ct(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ft(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),KT=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this,e,r,Hg(i)))._path=i,a.type="collection",a}return ft(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new WT(this.firestore,null,new Ly(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(HT);function GT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xt(e),OT("collection","path",t),e instanceof zT){var a=gy.fromString.apply(gy,[t].concat(r));return FT(a),new KT(e,null,a)}if(!(e instanceof WT||e instanceof KT))throw new Xm(Ym.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(gy.fromString.apply(gy,[t].concat(r)));return FT(o),new KT(e.firestore,null,o)}function QT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xt(e),1===arguments.length&&(t=uy.R()),OT("doc","path",t),e instanceof zT){var a=gy.fromString.apply(gy,[t].concat(r));return MT(a),new WT(e,null,new Ly(a))}if(!(e instanceof WT||e instanceof KT))throw new Xm(Ym.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(gy.fromString.apply(gy,[t].concat(r)));return MT(o),new WT(e.firestore,e instanceof KT?e.converter:null,new Ly(o))}function YT(e,t){return e=Xt(e),t=Xt(t),(e instanceof WT||e instanceof KT)&&(t instanceof WT||t instanceof KT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function XT(e,t){return e=Xt(e),t=Xt(t),e instanceof HT&&t instanceof HT&&e.firestore===t.firestore&&Jg(e._query,t._query)&&e.converter===t.converter}var $T=function(){function e(){var t=this;ct(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Kx(this,"async_queue_retry"),this.Qa=function(){var e=Wx();e&&zm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Wx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return ft(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Wx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new $m;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),kw(e.t0)){e.next=12;break}throw e.t0;case 12:zm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=UE.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Km()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=ht(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ht(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function JT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ht(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ZT=function(){function e(){ct(this,e),this._progressObserver={},this._taskCompletionResolver=new $m,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ft(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),eI=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new $T,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ft(n,[{key:"_terminate",value:function(){return this._firestoreClient||nI(this),this._firestoreClient.terminate()}}]),n}(zT);function tI(e){return e._firestoreClient||nI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ny(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function rI(e,t,n){var r=new $m;return e.asyncQueue.enqueue(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,yT(e,n);case 3:return i.next=5,kT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ym.FAILED_PRECONDITION||e.code===Ym.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function iI(e){return function(e){return e.asyncQueue.enqueue(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ST(e);case 2:return n=t.sent,t.next=5,IT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Qm(e);return t.wu.delete(0),Zx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(tI(e=jT(e,eI)))}function aI(e){return function(e){return e.asyncQueue.enqueue(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ST(e);case 2:return n=t.sent,t.next=5,IT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Qm(t)).wu.add(0),e.next=4,tE(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(tI(e=jT(e,eI)))}function oI(e,t){var n=tI(e=jT(e,eI)),r=new ZT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new dT(e,t)}(function(e,t){if(e instanceof Uint8Array)return fT(e,t);if(e instanceof ArrayBuffer)return fT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hx(t));e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=oT,t.next=3,CT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function sI(e,t){return function(e,t){return e.asyncQueue.enqueue(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Qm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,TT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(tI(e=jT(e,eI)),t).then((function(t){return t?new HT(e,null,t.query):null}))}function uI(e){if(e._initialized||e._terminated)throw new Xm(Ym.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cI=function(){function e(){ct(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new by(n)}return ft(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var lI=function(){function e(t){ct(this,e),this._byteString=t}return ft(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_y.fromBase64String(t))}catch(t){throw new Xm(Ym.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_y.fromUint8Array(t))}}]),e}(),fI=ft((function e(t){ct(this,e),this._methodName=t})),hI=function(){function e(t,n){if(ct(this,e),!isFinite(t)||t<-90||t>90)throw new Xm(Ym.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Xm(Ym.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ft(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return cy(this._lat,e._lat)||cy(this._long,e._long)}}]),e}(),dI=/^__.*__$/,pI=function(){function e(t,n,r){ct(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ft(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nk(e,this.data,t,this.fieldTransforms)}}]),e}(),vI=function(){function e(t,n,r){ct(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ft(e,[{key:"toMutation",value:function(e,t){return new Pk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Km()}}var yI=function(){function e(t,n,r,i,a,o){ct(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ft(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return FI(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(mI(this.ec)&&dI.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),gI=function(){function e(t,n,r){ct(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Hx(t)}return ft(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yI({ec:e,methodName:t,hc:n,path:by.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function kI(e){var t=e._freezeSettings(),n=Hx(e._databaseId);return new gI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);RI("Data must be an object, but it was:",o,r);var s,u,c=PI(r,o);if(a.merge)s=new wy(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ht(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=OI(t,d,n);if(!o.contains(p))throw new Xm(Ym.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));VI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new wy(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new pI(new rg(c),s,u)}var wI=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fI);function _I(e,t,n){return new yI({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var xI=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"_toFieldTransform",value:function(e){return new bk(e.path,new hk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fI),EI=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e)).fc=r,i}return ft(n,[{key:"_toFieldTransform",value:function(e){var t=_I(this,e,!0),n=this.fc.map((function(e){return NI(e,t)})),r=new dk(n);return new bk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fI),SI=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e)).fc=r,i}return ft(n,[{key:"_toFieldTransform",value:function(e){var t=_I(this,e,!0),n=this.fc.map((function(e){return NI(e,t)})),r=new vk(n);return new bk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fI),TI=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e)).dc=r,i}return ft(n,[{key:"_toFieldTransform",value:function(e){var t=new yk(e.M,sk(e.M,this.dc));return new bk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fI);function II(e,t,n,r){var i=e.lc(1,t,n);RI("Data must be an object, but it was:",i,r);var a=[],o=rg.empty();vy(r,(function(e,r){var s=MI(t,e,n);r=Xt(r);var u=i.oc(s);if(r instanceof wI)a.push(s);else{var c=NI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new wy(a);return new vI(o,s,i.fieldTransforms)}function CI(e,t,n,r,i,a){var o=e.lc(1,t,n),s=[OI(t,r,n)],u=[i];if(a.length%2!=0)throw new Xm(Ym.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(OI(t,a[c])),u.push(a[c+1]);for(var l=[],f=rg.empty(),h=s.length-1;h>=0;--h)if(!VI(l,s[h])){var d=s[h],p=u[h];p=Xt(p);var v=o.oc(d);if(p instanceof wI)l.push(d);else{var m=NI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new wy(l);return new vI(f,y,o.fieldTransforms)}function AI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return NI(n,e.lc(r?4:3,t))}function NI(e,t){if(DI(e=Xt(e)))return RI("Unsupported field value:",t,e),PI(e,t);if(e instanceof fI)return function(e,t){if(!mI(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ht(e);try{for(a.s();!(n=a.n()).done;){var o=NI(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Xt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sk(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=hy.fromDate(e);return{timestampValue:fb(t.M,n)}}if(e instanceof hy){var r=new hy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fb(t.M,r)}}if(e instanceof hI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lI)return{bytesValue:hb(t.M,e._byteString)};if(e instanceof WT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(VT(e)))}(e,t)}function PI(e,t){var n={};return my(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vy(e,(function(e,r){var i=NI(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function DI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hy||e instanceof hI||e instanceof lI||e instanceof WT||e instanceof fI)}function RI(e,t,n){if(!DI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=VT(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function OI(e,t,n){if((t=Xt(t))instanceof cI)return t._internalPath;if("string"==typeof t)return MI(e,t);throw FI("Field path arguments must be of type string or ",e,!1,void 0,n)}var LI=new RegExp("[~\\*/\\[\\]]");function MI(e,t,n){if(t.search(LI)>=0)throw FI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return wt(cI,Jt(t.split(".")))._internalPath}catch(r){throw FI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function FI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Xm(Ym.INVALID_ARGUMENT,s+e+u)}function VI(e,t){return e.some((function(e){return e.isEqual(t)}))}var jI=function(){function e(t,n,r,i,a){ct(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ft(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new WT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(BI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),UI=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"data",value:function(){return ea(mt(n.prototype),"data",this).call(this)}}]),n}(jI);function BI(e,t){return"string"==typeof t?MI(e,t):t instanceof cI?t._internalPath:t._delegate._internalPath}var zI=function(){function e(t,n){ct(this,e),this.hasPendingWrites=t,this.fromCache=n}return ft(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),qI=function(e){vt(n,e);var t=bt(n);function n(e,r,i,a,o,s){var u;return ct(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ft(n,[{key:"exists",value:function(){return ea(mt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new WI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(BI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(jI),WI=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ea(mt(n.prototype),"data",this).call(this,e)}}]),n}(qI),HI=function(){function e(t,n,r,i){ct(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zI(i.hasPendingWrites,i.fromCache),this.query=r}return ft(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new WI(n._firestore,n._userDataWriter,r.key,r,new zI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xm(Ym.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new WI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new WI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:KI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function KI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Km()}}function GI(e,t){return e instanceof qI&&t instanceof qI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof HI&&t instanceof HI&&e._firestore===t._firestore&&XT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function QI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Xm(Ym.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var YI=ft((function e(){ct(this,e)}));function XI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var $I=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return ft(n,[{key:"_apply",value:function(e){var t=kI(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){uC(o,a);var u,c=[],l=ht(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(sC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=sC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||uC(o,a),s=AI(n,"where",o,"in"===a||"not-in"===a);var h=Ag.create(i,a,s);return function(e,t){if(t.S()){var n=Gg(e);if(null!==n&&!n.isEqual(t.field))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Kg(e);null!==r&&cC(e,t.field,r)}var i=function(e,t){var n,r=ht(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Xm(Ym.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Xm(Ym.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new HT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(YI);var JI=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return ft(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new jg(t,n);return function(e,t){if(null===Kg(e)){var n=Gg(e);null!==n&&cC(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new HT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new qg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(YI);var ZI=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return ft(n,[{key:"_apply",value:function(e){return new HT(e.firestore,e.converter,$g(e._query,this.yc,this.Ic))}}]),n}(YI);var eC=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return ft(n,[{key:"_apply",value:function(e){var t=oC(e,this.type,this.Tc,this.Ec);return new HT(e.firestore,e.converter,function(e,t){return new qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(YI);function tC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eC("startAt",t,!0)}function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eC("startAfter",t,!1)}var rC=function(e){vt(n,e);var t=bt(n);function n(e,r,i){var a;return ct(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return ft(n,[{key:"_apply",value:function(e){var t=oC(e,this.type,this.Tc,this.Ec);return new HT(e.firestore,e.converter,function(e,t){return new qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(YI);function iC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rC("endBefore",t,!1)}function aC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rC("endAt",t,!0)}function oC(e,t,n,r){if(n[0]=Xt(n[0]),n[0]instanceof jI)return function(e,t,n,r,i){if(!r)throw new Xm(Ym.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ht(Yg(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Hy(t,r.key));else{var c=r.data.field(u.field);if(Iy(c))throw new Xm(Ym.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Vg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=kI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Xm(Ym.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Qg(e)&&-1!==c.indexOf("/"))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(gy.fromString(c));if(!Ly.isDocumentKey(l))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ly(l);s.push(Hy(t,f))}else{var h=AI(n,r,c);s.push(h)}}return new Vg(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function sC(e,t,n){if("string"==typeof(n=Xt(n))){if(""===n)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qg(t)&&-1!==n.indexOf("/"))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(gy.fromString(n));if(!Ly.isDocumentKey(r))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hy(e,new Ly(r))}if(n instanceof WT)return Hy(e,n._key);throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(VT(n),"."))}function uC(e,t){if(!Array.isArray(e)||0===e.length)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function cC(e,t,n){if(!n.isEqual(t))throw new Xm(Ym.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lC={maxAttempts:5},fC=function(){function e(){ct(this,e)}return ft(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ty(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Km()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return vy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new hI(Sy(e.latitude),Sy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ay(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ey(e);return new hy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=gy.fromString(e);Gm(jb(n));var r=new Py(n.get(1),n.get(3)),i=new Ly(n.popFirst(5));return r.isEqual(t)||qm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function hC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var dC=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).firestore=e,r}return ft(n,[{key:"convertBytes",value:function(e){return new lI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new WT(this.firestore,null,t)}}]),n}(fC),pC=function(){function e(t,n){ct(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=kI(t)}return ft(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=vC(e,this._firestore),i=hC(r.converter,t,n),a=bI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,_k.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=vC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Xt(t))||t instanceof cI?CI(this._dataReader,"WriteBatch.update",i._key,t,n,o):II(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,_k.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=vC(e,this._firestore);return this._mutations=this._mutations.concat(new Fk(t._key,_k.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Xm(Ym.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function vC(e,t){if((e=Xt(e)).firestore!==t)throw new Xm(Ym.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var mC=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).firestore=e,r}return ft(n,[{key:"convertBytes",value:function(e){return new lI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new WT(this.firestore,null,t)}}]),n}(fC);function yC(e){e=jT(e,WT);var t=jT(e.firestore,eI),n=tI(t),r=new mC(t);return function(e,t){var n=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Qm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Xm(Ym.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=BE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,TT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new qI(t,r,e._key,n,new zI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function gC(e){e=jT(e,HT);var t=jT(e.firestore,eI),n=tI(t),r=new mC(t);return function(e,t){var n=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cx(t,n,!0);case 3:i=e.sent,a=new sS(n,i._i),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=BE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,TT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new HI(t,r,e,n)}))}function kC(e,t,n){e=jT(e,WT);var r=jT(e.firestore,eI),i=hC(e.converter,t,n);return xC(r,[bI(kI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_k.none())])}function bC(e,t,n){e=jT(e,WT);for(var r=jT(e.firestore,eI),i=kI(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return xC(r,[("string"==typeof(t=Xt(t))||t instanceof cI?CI(i,"updateDoc",e._key,t,n,o):II(i,"updateDoc",e._key,t)).toMutation(e._key,_k.exists(!0))])}function wC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Xt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||JT(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(JT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof WT)l=jT(e.firestore,eI),f=Hg(e._key.path),c={next:function(t){n[u]&&n[u](EC(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=jT(e,HT);l=jT(p.firestore,eI),f=p._query;var v=new mC(l);c={next:function(e){n[u]&&n[u](new HI(l,v,p,e))},error:n[u+1],complete:n[u+2]},QI(e._query)}return function(e,t,n,r){var i=new hT(r),a=new eS(t,i,n);return e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GE,t.next=3,AT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YE,t.next=3,AT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tI(l),f,h,c)}function _C(e,t){return function(e,t){var n=new hT(t);return e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Qm(e).bu.add(t),t.next()},t.next=3,AT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Qm(e).bu.delete(t)},t.next=3,AT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tI(e=jT(e,eI)),JT(t)?t:{next:t})}function xC(e,t){return function(e,t){var n=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=yS,r.next=3,CT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(tI(e),t)}function EC(e,t,n){var r=n.docs.get(t._key),i=new mC(e);return new qI(e,i,t._key,r,new zI(n.hasPendingWrites,n.fromCache),t.converter)}var SC=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,r))._firestore=e,i}return ft(n,[{key:"get",value:function(e){var t=this,r=vC(e,this._firestore),i=new mC(this._firestore);return ea(mt(n.prototype),"get",this).call(this,e).then((function(e){return new qI(t._firestore,i,r._key,e._document,new zI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ct(this,e),this._firestore=t,this._transaction=n,this._dataReader=kI(t)}return ft(e,[{key:"get",value:function(e){var t=this,n=vC(e,this._firestore),r=new dC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Km();var i=e[0];if(i.isFoundDocument())return new jI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new jI(t._firestore,r,n._key,null,n.converter);throw Km()}))}},{key:"set",value:function(e,t,n){var r=vC(e,this._firestore),i=hC(r.converter,t,n),a=bI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=vC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Xt(t))||t instanceof cI?CI(this._dataReader,"Transaction.update",i._key,t,n,o):II(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=vC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function TC(e,t,n){e=jT(e,eI);var r=Object.assign(Object.assign({},lC),n);return function(e){if(e.maxAttempts<1)throw new Xm(Ym.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){var a;return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return xT(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new vT(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(tI(e),(function(n){return t(new SC(e,n))}),r)}function IC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EI("arrayUnion",t)}function CC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jm=e}(Gn),Un(new Zt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new eI(i,new ty(e.getProvider("auth-internal")),new ay(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Zn(Fm,"3.4.9",e),Zn(Fm,"3.4.9","esm2017")}();function AC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Xm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function NC(){if("undefined"===typeof Uint8Array)throw new Xm("unimplemented","Uint8Arrays are not available in this environment.")}function PC(){if("undefined"==typeof atob)throw new Xm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var DC=function(){function e(t){ct(this,e),this._delegate=t}return ft(e,[{key:"toBase64",value:function(){return PC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return NC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return PC(),new e(lI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return NC(),new e(lI.fromUint8Array(t))}}]),e}();function RC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ht(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var OC=function(){function e(){ct(this,e)}return ft(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){uI(e=jT(e,eI));var n=tI(e),r=e._freezeSettings(),i=new lT;return rI(n,i,new uT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){uI(e=jT(e,eI));var t=tI(e),n=e._freezeSettings(),r=new lT;return rI(t,r,new cT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Xm(Ym.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new $m;return e._queue.enqueueAndForgetEvenWhileRestricted(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mw.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,mw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(G_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),LC=function(){function e(t,n,r){var i=this;ct(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Py||(this._appCompat=t)}return ft(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Wm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return iI(this._delegate)}},{key:"disableNetwork",value:function(){return aI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&LT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new $m;return e.asyncQueue.enqueueAndForget(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=CS,n.next=3,CT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(tI(e=jT(e,eI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return _C(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Xm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new YC(this,GT(this._delegate,e))}catch(t){throw BC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new UC(this,QT(this._delegate,e))}catch(t){throw BC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new KC(this,function(e,t){if(e=jT(e,zT),OT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Xm(Ym.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new HT(e,null,function(e){return new qg(gy.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw BC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return TC(this._delegate,(function(n){return e(new FC(t,n))}))}},{key:"batch",value:function(){var e=this;return tI(this._delegate),new VC(new pC(this._delegate,(function(t){return xC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return oI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return sI(this._delegate,e).then((function(e){return e?new KC(t,e):null}))}}]),e}(),MC=function(e){vt(n,e);var t=bt(n);function n(e){var r;return ct(this,n),(r=t.call(this)).firestore=e,r}return ft(n,[{key:"convertBytes",value:function(e){return new DC(new lI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return UC.forKey(t,this.firestore,null)}}]),n}(fC);var FC=function(){function e(t,n){ct(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new MC(t)}return ft(e,[{key:"get",value:function(e){var t=this,n=XC(e);return this._delegate.get(n).then((function(e){return new WC(t._firestore,new qI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=XC(e);return n?(AC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=XC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=XC(e);return this._delegate.delete(t),this}}]),e}(),VC=function(){function e(t){ct(this,e),this._delegate=t}return ft(e,[{key:"set",value:function(e,t,n){var r=XC(e);return n?(AC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=XC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=XC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),jC=function(){function e(t,n,r){ct(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ft(e,[{key:"fromFirestore",value:function(e,t){var n=new WI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new MC(t),n),i.set(n,a)),a}}]),e}();jC.INSTANCES=new WeakMap;var UC=function(){function e(t,n){ct(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new MC(t)}return ft(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new YC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new YC(this.firestore,GT(this._delegate,e))}catch(t){throw BC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Xt(e))instanceof WT&&YT(this._delegate,e)}},{key:"set",value:function(e,t){t=AC("DocumentReference.set",t);try{return t?kC(this._delegate,e,t):kC(this._delegate,e)}catch(n){throw BC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?bC(this._delegate,e):bC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw BC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return xC(jT(e.firestore,eI),[new Fk(e._key,_k.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=zC(n),a=qC(n,(function(t){return new WC(e.firestore,new qI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return wC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?yC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=jT(e,WT);var t=jT(e.firestore,eI);return PT(tI(t),e._key,{source:"server"}).then((function(n){return EC(t,e,n)}))}(this._delegate):function(e){e=jT(e,WT);var t=jT(e.firestore,eI);return PT(tI(t),e._key).then((function(n){return EC(t,e,n)}))}(this._delegate),t.then((function(e){return new WC(n.firestore,new qI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(jC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Xm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new WT(n._delegate,r,new Ly(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new WT(n._delegate,r,t))}}]),e}();function BC(e,t,n){return e.message=e.message.replace(t,n),e}function zC(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!RC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function qC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=RC(e[0])?e[0]:RC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WC=function(){function e(t,n){ct(this,e),this._firestore=t,this._delegate=n}return ft(e,[{key:"ref",get:function(){return new UC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return GI(this._delegate,e._delegate)}}]),e}(),HC=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Km()}(void 0!==t),t}}]),n}(WC),KC=function(){function e(t,n){ct(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new MC(t)}return ft(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,XI(this._delegate,function(e,t,n){var r=t,i=BI("where",e);return new $I(i,r,n)}(t,n,r)))}catch(i){throw BC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,XI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=BI("orderBy",e);return new JI(n,t)}(t,n)))}catch(r){throw BC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,XI(this._delegate,function(e){return UT("limit",e),new ZI("limit",e,"F")}(t)))}catch(n){throw BC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,XI(this._delegate,function(e){return UT("limitToLast",e),new ZI("limitToLast",e,"L")}(t)))}catch(n){throw BC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,XI(this._delegate,tC.apply(void 0,arguments)))}catch(t){throw BC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,XI(this._delegate,nC.apply(void 0,arguments)))}catch(t){throw BC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,XI(this._delegate,iC.apply(void 0,arguments)))}catch(t){throw BC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,XI(this._delegate,aC.apply(void 0,arguments)))}catch(t){throw BC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return XT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=jT(e,HT);var t=jT(e.firestore,eI),n=tI(t),r=new mC(t);return DT(n,e._query,{source:"server"}).then((function(n){return new HI(t,r,e,n)}))}(this._delegate):function(e){e=jT(e,HT);var t=jT(e.firestore,eI),n=tI(t),r=new mC(t);return QI(e._query),DT(n,e._query).then((function(n){return new HI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new QC(n.firestore,new HI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=zC(n),a=qC(n,(function(t){return new QC(e.firestore,new HI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return wC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(jC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),GC=function(){function e(t,n){ct(this,e),this._firestore=t,this._delegate=n}return ft(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new HC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),QC=function(){function e(t,n){ct(this,e),this._firestore=t,this._delegate=n}return ft(e,[{key:"query",get:function(){return new KC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new HC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new GC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new HC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return GI(this._delegate,e._delegate)}}]),e}(),YC=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ft(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new UC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new UC(this.firestore,void 0===e?QT(this._delegate):QT(this._delegate,e))}catch(t){throw BC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=jT(e.firestore,eI),r=QT(e),i=hC(e.converter,t);return xC(n,[bI(kI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_k.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new UC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return YT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(jC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(KC);function XC(e){return jT(e,WT)}var $C=function(){function e(){ct(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=wt(cI,n)}return ft(e,[{key:"isEqual",value:function(e){return(e=Xt(e))instanceof cI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(by.keyField().canonicalString())}}]),e}(),JC=function(){function e(t){ct(this,e),this._delegate=t}return ft(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new xI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new wI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=IC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=CC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new TI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ZC={Firestore:LC,GeoPoint:hI,Timestamp:hy,Blob:DC,Transaction:FC,WriteBatch:VC,DocumentReference:UC,DocumentSnapshot:WC,Query:KC,QueryDocumentSnapshot:HC,QuerySnapshot:QC,CollectionReference:YC,FieldPath:$C,FieldValue:JC,setLogLevel:function(e){!function(e){Um.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Zt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ZC)))}(e,(function(e,t){return new LC(e,t,new OC)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(xr);var eA="firebasestorage.googleapis.com",tA=function(e){vt(n,e);var t=bt(n);function n(e,r){var i;return ct(this,n),(i=t.call(this,nA(e),"Firebase Storage: ".concat(r," (").concat(nA(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(dt(i),n.prototype),i}return ft(n,[{key:"_codeEquals",value:function(e){return nA(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ft);function nA(e){return"storage/"+e}function rA(){return new tA("unknown","An unknown error occurred, please check the error payload for server response.")}function iA(){return new tA("canceled","User canceled the upload/download.")}function aA(){return new tA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function oA(e){return new tA("invalid-argument",e)}function sA(){return new tA("app-deleted","The Firebase app was deleted.")}function uA(e){return new tA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cA(e,t){return new tA("invalid-format","String does not match format '"+e+"': "+t)}function lA(e){throw new tA("internal-error","Internal error: "+e)}var fA,hA=function(){function e(t,n){ct(this,e),this.bucket=t,this.path_=n}return ft(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new tA("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===eA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new tA("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),dA=function(){function e(t){ct(this,e),this.promise_=Promise.reject(t)}return ft(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function pA(e){return"string"===typeof e||e instanceof String}function vA(e){return mA()&&e instanceof Blob}function mA(){return"undefined"!==typeof Blob}function yA(e,t,n,r){if(r<t)throw oA("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw oA("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function gA(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function kA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fA||(fA={}));var bA=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;ct(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ft(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=rA();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?sA():iA());else i(new tA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new wA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new wA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===fA.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new wA(o,r))}else{var s=r.getErrorCode()===fA.ABORT;t(!1,new wA(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),wA=ft((function e(t,n,r){ct(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function _A(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function xA(){for(var e=_A(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(mA())return new Blob(n);throw new tA("unsupported-environment","This browser doesn't seem to support creating Blobs")}var EA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},SA=ft((function e(t,n){ct(this,e),this.data=t,this.contentType=n||null}));function TA(e,t){switch(e){case EA.RAW:return new SA(IA(t));case EA.BASE64:case EA.BASE64URL:return new SA(CA(e,t));case EA.DATA_URL:return new SA(function(e){var t=new AA(e);return t.base64?CA(EA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw cA(EA.DATA_URL,"Malformed data URL.")}return IA(t)}(t.rest)}(t),new AA(t).contentType)}throw rA()}function IA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function CA(e,t){switch(e){case EA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw cA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case EA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw cA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw cA(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var AA=ft((function e(t){ct(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw cA(EA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var NA=function(){function e(t,n){ct(this,e);var r=0,i="";vA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ft(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(vA(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(mA()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(xA.apply(null,i))}var a=n.map((function(e){return pA(e)?TA(EA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function PA(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function DA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function RA(e,t){return t}var OA=ft((function e(t,n,r,i){ct(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||RA})),LA=null;function MA(){if(LA)return LA;var e=[];e.push(new OA("bucket")),e.push(new OA("generation")),e.push(new OA("metageneration")),e.push(new OA("name","fullPath",!0));var t=new OA("name");t.xform=function(e,t){return function(e){return!pA(e)||e.length<2?e:DA(e)}(t)},e.push(t);var n=new OA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new OA("timeCreated")),e.push(new OA("updated")),e.push(new OA("md5Hash",null,!0)),e.push(new OA("cacheControl",null,!0)),e.push(new OA("contentDisposition",null,!0)),e.push(new OA("contentEncoding",null,!0)),e.push(new OA("contentLanguage",null,!0)),e.push(new OA("contentType",null,!0)),e.push(new OA("metadata","customMetadata",!0)),LA=e}function FA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new hA(n,r);return t._makeStorageReference(i)}})}(r,e),r}function VA(e,t,n){var r=PA(t);return null===r?null:FA(e,r,n)}function jA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function UA(e,t,n){var r=PA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ht(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new hA(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=ht(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new hA(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var BA=ft((function e(t,n,r,i){ct(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function zA(e){if(!e)throw rA()}function qA(e,t){return function(n,r){var i=VA(e,r,t);return zA(null!==i),i}}function WA(e,t){return function(n,r){var i=VA(e,r,t);return zA(null!==i),function(e,t,n,r){var i=PA(t);if(null===i)return null;if(!pA(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return gA("/b/"+o(i)+"/o/"+o(a),n,r)+kA({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function HA(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new tA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new tA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new tA("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new tA("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function KA(e){var t=HA(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new tA("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function GA(e,t,n){var r=gA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new BA(r,"GET",qA(e,n),i);return a.errorHandler=KA(t),a}function QA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=gA(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new BA(o,"GET",function(e,t){return function(n,r){var i=UA(e,t,r);return zA(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=HA(t),u}function YA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function XA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=YA(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+jA(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=NA.getBlob(c,r,l);if(null===f)throw aA();var h={name:u.fullPath},d=gA(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new BA(d,"POST",qA(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=HA(t),v}var $A=ft((function e(t,n,r,i){ct(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function JA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){zA(!1)}return zA(!!n&&-1!==(t||["active"]).indexOf(n)),n}var ZA=262144;function eN(e,t,n,r,i,a,o,s){var u=new $A(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new tA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw aA();var v=t.maxUploadRetryTime,m=new BA(n,"POST",(function(e,n){var i,o=JA(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?qA(t,a)(e,n):null,new $A(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=HA(e),m}var tN={STATE_CHANGED:"state_changed"},nN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rN(e){switch(e){case"running":case"pausing":case"canceling":return nN.RUNNING;case"paused":return nN.PAUSED;case"success":return nN.SUCCESS;case"canceled":return nN.CANCELED;default:return nN.ERROR}}var iN=ft((function e(t,n,r){ct(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function aN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var oN=function(){function e(){var t=this;ct(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fA.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=fA.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=fA.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ft(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw lA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw lA("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw lA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw lA("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw lA("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),sN=function(e){vt(n,e);var t=bt(n);function n(){return ct(this,n),t.apply(this,arguments)}return ft(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(oN);function uN(){return new sN}var cN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ct(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=MA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ft(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=YA(t,r,i),s={name:o.fullPath},u=gA(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=jA(o,n),f=e.maxUploadRetryTime,h=new BA(u,"POST",(function(e){var t;JA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){zA(!1)}return zA(pA(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=HA(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,uN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new BA(n,"POST",(function(e){var t=JA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){zA(!1)}n||zA(!1);var i=Number(n);return zA(!isNaN(i)),new $A(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=HA(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,uN,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=ZA*this._chunkMultiplier,n=new $A(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=eN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,uN,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){ZA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=GA(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,uN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=XA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,uN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iA(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=rN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new iN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(rN(this._state)){case nN.SUCCESS:aN(this._resolve.bind(null,this.snapshot))();break;case nN.CANCELED:case nN.ERROR:aN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(rN(this._state)){case nN.RUNNING:case nN.PAUSED:e.next&&aN(e.next.bind(e,this.snapshot))();break;case nN.SUCCESS:e.complete&&aN(e.complete.bind(e))();break;default:e.error&&aN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),lN=function(){function e(t,n){ct(this,e),this._service=t,this._location=n instanceof hA?n:hA.makeFromUrl(n,t.host)}return ft(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new hA(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return DA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new hA(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw uA(e)}}]),e}();function fN(e,t,n){e._throwIfRoot("uploadBytes");var r=XA(e.storage,e._location,MA(),new NA(t,!0),n);return e.storage.makeRequestWithTokens(r,uN).then((function(t){return{metadata:t,ref:e}}))}function hN(e,t,n){return dN.apply(this,arguments)}function dN(){return(dN=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,pN(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Jt(s.prefixes)),(a=n.items).push.apply(a,Jt(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,hN(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pN(e,t){null!=t&&"number"===typeof t.maxResults&&yA("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=QA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,uN)}function vN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=gA(t.fullServerUrl(),e.host,e._protocol),a=jA(n,r),o=e.maxOperationRetryTime,s=new BA(i,"PATCH",qA(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=KA(t),s}(e.storage,e._location,t,MA());return e.storage.makeRequestWithTokens(n,uN)}function mN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=gA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new BA(r,"GET",WA(e,n),i);return a.errorHandler=KA(t),a}(e.storage,e._location,MA());return e.storage.makeRequestWithTokens(t,uN).then((function(e){if(null===e)throw new tA("no-download-url","The given file does not have any download URLs.");return e}))}function yN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=gA(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new BA(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=KA(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,uN)}function gN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new hA(e._location.bucket,n);return new lN(e.storage,r)}function kN(e,t){if(e instanceof xN){var n=e;if(null==n._bucket)throw new tA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new lN(n,n._bucket);return null!=t?kN(r,t):r}return void 0!==t?gN(e,t):e}function bN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof xN)return new lN(e,t);throw oA("To use ref(service, url), the first argument must be a Storage instance.")}return kN(e,t)}function wN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:hA.makeFromBucketSpec(n,e)}function _N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:At(i,e.app.options.projectId))}var xN=function(){function e(t,n,r,i,a){ct(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=eA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?hA.makeFromBucketSpec(i,this._host):wN(this._host,this.app.options)}return ft(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=hA.makeFromBucketSpec(this._url,e):this._bucket=wN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){yA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){yA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new lN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new dA(sA());var a=function(e,t,n,r,i,a){var o=kA(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new bA(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),EN="@firebase/storage",SN="0.9.6",TN="storage";function IN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cN(e,new NA(t),n)}(e=Xt(e),t,n)}function CN(e){return function(e){e._throwIfRoot("getMetadata");var t=GA(e.storage,e._location,MA());return e.storage.makeRequestWithTokens(t,uN)}(e=Xt(e))}function AN(e){return function(e){var t={prefixes:[],items:[]};return hN(e,t).then((function(){return t}))}(e=Xt(e))}function NN(e){return mN(e=Xt(e))}function PN(e,t){return bN(e=Xt(e),t)}function DN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_N(e,t,n,r)}function RN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new xN(r,i,a,n,Gn)}Un(new Zt(TN,RN,"PUBLIC").setMultipleInstances(!0)),Zn(EN,SN,""),Zn(EN,SN,"esm2017");var ON=function(){function e(t,n,r){ct(this,e),this._delegate=t,this.task=n,this.ref=r}return ft(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),LN=function(){function e(t,n){ct(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return ft(e,[{key:"snapshot",get:function(){return new ON(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new ON(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new ON(e,i,i._ref))}:{next:t.next?function(e){return t.next(new ON(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),MN=function(){function e(t,n){ct(this,e),this._delegate=t,this._service=n}return ft(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new FN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new FN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),FN=function(){function e(t,n){ct(this,e),this._delegate=t,this.storage=n}return ft(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return gN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new LN(IN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=TA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new LN(new cN(this._delegate,new NA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return AN(this._delegate).then((function(t){return new MN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return pN(e=Xt(e),t)}(this._delegate,e||void 0).then((function(e){return new MN(e,t.storage)}))}},{key:"getMetadata",value:function(){return CN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return vN(e=Xt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return NN(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),yN(Xt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw uA(e)}}]),e}(),VN=function(){function e(t,n){ct(this,e),this.app=t,this._delegate=n}return ft(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(jN(e))throw oA("ref() expected a child path but got a URL, use refFromURL instead.");return new FN(PN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!jN(e))throw oA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hA.makeFromUrl(e,this._delegate.host)}catch(t){throw oA("refFromUrl() expected a valid full URL but got an invalid one.")}return new FN(PN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DN(this._delegate,e,t,n)}}]),e}();function jN(e){return/^[A-Za-z]+:\/\//.test(e)}function UN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new VN(r,i)}!function(e){var t={TaskState:nN,TaskEvent:tN,StringFormat:EA,Storage:VN,Reference:FN};e.INTERNAL.registerComponent(new Zt("storage-compat",UN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.14")}(xr);var BN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn(),t=Bn(e,"auth");return t.isInitialized()?t.getImmediate():La(e,{popupRedirectResolver:ff,persistence:[Sc,ec,nc]})}(xr.initializeApp({apiKey:"AIzaSyDcHz62XS33fJ8BKOwX8QJPZ-h4Q1o0lC8",authDomain:"mifactoria-1.firebaseapp.com",projectId:"mifactoria-1",storageBucket:"mifactoria-1.appspot.com",messagingSenderId:"509826704839",appId:"1:509826704839:web:74cfc053ef9e0232de25e2"}));xr.auth=xr.auth();xr.storage();var zN=xr.firestore(),qN=xr.firestore.FieldValue.serverTimestamp(),WN=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},HN={measureLayout:WN(["layout","layoutId","drag"]),animation:WN(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:WN(["exit"]),drag:WN(["drag","dragControls"]),focus:WN(["whileFocus"]),hover:WN(["whileHover","onHoverStart","onHoverEnd"]),tap:WN(["whileTap","onTap","onTapStart","onTapCancel"]),pan:WN(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:WN(["whileInView","onViewportEnter","onViewportLeave"])};var KN=(0,r.createContext)({strict:!1}),GN=Object.keys(HN),QN=GN.length;var YN=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),XN=(0,r.createContext)({});var $N=(0,r.createContext)(null),JN="undefined"!==typeof document,ZN=JN?r.useLayoutEffect:r.useEffect,eP={current:null},tP=!1;function nP(){return!tP&&function(){if(tP=!0,JN)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return eP.current=e.matches};e.addListener(t),t()}else eP.current=!1}(),aa((0,r.useState)(eP.current),1)[0]}function rP(e,t,n,i){var a=(0,r.useContext)(KN),o=(0,r.useContext)(XN).visualElement,s=(0,r.useContext)($N),u=function(){var e=nP(),t=(0,r.useContext)(YN).reducedMotion;return"never"!==t&&("always"===t||e)}(),c=(0,r.useRef)(void 0);i||(i=a.renderer),!c.current&&i&&(c.current=i(e,{visualState:t,parent:o,props:n,presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial),shouldReduceMotion:u}));var l=c.current;return ZN((function(){null===l||void 0===l||l.syncRender()})),(0,r.useEffect)((function(){var e;null===(e=null===l||void 0===l?void 0:l.animationState)||void 0===e||e.animateChanges()})),ZN((function(){return function(){return null===l||void 0===l?void 0:l.notifyUnmount()}}),[]),l}function iP(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function aP(e){return Array.isArray(e)}function oP(e){return"string"===typeof e||aP(e)}function sP(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),t}function uP(e,t,n){var r=e.getProps();return sP(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function cP(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||oP(e.initial)||oP(e.animate)||oP(e.whileHover)||oP(e.whileDrag)||oP(e.whileTap)||oP(e.whileFocus)||oP(e.exit)}function lP(e){return Boolean(cP(e)||e.variants)}function fP(e){var t=function(e,t){if(cP(e)){var n=e.initial,r=e.animate;return{initial:!1===n||oP(n)?n:void 0,animate:oP(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(XN)),n=t.initial,i=t.animate;return(0,r.useMemo)((function(){return{initial:n,animate:i}}),[hP(n),hP(i)])}function hP(e){return Array.isArray(e)?e.join(" "):e}function dP(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}var pP=1/60*1e3,vP="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},mP="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(vP())}),pP)};var yP=!0,gP=!1,kP=!1,bP={delta:0,timestamp:0},wP=["read","update","preRender","render","postRender"],_P=wP.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return gP=!0})),e}),{}),xP=wP.reduce((function(e,t){var n=_P[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gP||CP(),n.schedule(e,t,r)},e}),{}),EP=wP.reduce((function(e,t){return e[t]=_P[t].cancel,e}),{}),SP=wP.reduce((function(e,t){return e[t]=function(){return _P[t].process(bP)},e}),{}),TP=function(e){return _P[e].process(bP)},IP=function e(t){gP=!1,bP.delta=yP?pP:Math.max(Math.min(t-bP.timestamp,40),1),bP.timestamp=t,kP=!0,wP.forEach(TP),kP=!1,gP&&(yP=!1,mP(e))},CP=function(){gP=!0,yP=!0,kP||mP(IP)},AP=function(){return bP},NP=xP,PP=function(e,t,n){return-n*e+n*t+e};function DP(e,t){return t?e*(1e3/t):0}function RP(e,t){-1===e.indexOf(t)&&e.push(t)}function OP(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var LP=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return RP(this.subscriptions,e),function(){return OP(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),MP=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new LP,this.velocityUpdateSubscribers=new LP,this.renderSubscribers=new LP,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=AP(),i=r.delta,a=r.timestamp;n.lastUpdated!==a&&(n.timeDelta=i,n.lastUpdated=a,NP.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return NP.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?DP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function FP(e){return new MP(e)}var VP=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)};var jP=function(e,t,n){return Math.min(Math.max(n,e),t)},UP=.001;function BP(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c,f=1-o;f=jP(.05,1,f),i=jP(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=zP(e,f),o=Math.exp(-n);return UP-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=zP(Math.pow(e,2),f);return(-t(e)+UP>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}function zP(e,t){return e*Math.sqrt(1-t*t)}var qP=["duration","bounce"],WP=["stiffness","damping","mass"];function HP(e,t){return t.some((function(t){return void 0!==e[t]}))}function KP(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,s=e.restDelta,u=ia(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!HP(e,WP)&&HP(e,qP)){var n=BP(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,m=l.isResolvedFromDuration,y=GP,g=GP;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=zP(a,r);y=function(n){var s=Math.exp(-r*a*n);return i-s*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var u=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),s=Math.min(u*n,300);return i-o*((e+r*a*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return k(),{next:function(e){var t=y(e);if(m)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=s;c.done=r&&a}return c.value=c.done?i:t,c},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}KP.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var GP=function(e){return 0},QP=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},YP=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},XP=function(e){return e%1?Number(e.toFixed(5)):e},$P=/(-)?([\d]*\.?[\d])+/g,JP=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,ZP=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function eD(e){return"string"===typeof e}var tD={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},nD=Object.assign(Object.assign({},tD),{transform:YP(0,1)}),rD=Object.assign(Object.assign({},tD),{default:1}),iD=function(e,t){return function(n){return Boolean(eD(n)&&ZP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},aD=function(e,t,n){return function(r){var i;if(!eD(r))return r;var a=u(r.match($P),4),o=a[0],s=a[1],c=a[2],l=a[3];return te(i={},e,parseFloat(o)),te(i,t,parseFloat(s)),te(i,n,parseFloat(c)),te(i,"alpha",void 0!==l?parseFloat(l):1),i}},oD=YP(0,255),sD=Object.assign(Object.assign({},tD),{transform:function(e){return Math.round(oD(e))}}),uD={test:iD("rgb","red"),parse:aD("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+sD.transform(t)+", "+sD.transform(n)+", "+sD.transform(r)+", "+XP(nD.transform(a))+")"}};var cD={test:iD("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:uD.transform},lD=function(e){return{test:function(t){return eD(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},fD=lD("deg"),hD=lD("%"),dD=lD("px"),pD=lD("vh"),vD=lD("vw"),mD=Object.assign(Object.assign({},hD),{parse:function(e){return hD.parse(e)/100},transform:function(e){return hD.transform(100*e)}}),yD={test:iD("hsl","hue"),parse:aD("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+hD.transform(XP(n))+", "+hD.transform(XP(r))+", "+XP(nD.transform(a))+")"}};function gD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kD(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=gD(c,u,t+1/3),o=gD(c,u,t),s=gD(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}var bD=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},wD=[cD,uD,yD],_D=function(e){return wD.find((function(t){return t.test(e)}))},xD=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},ED=function(e,t){var n=_D(e),r=_D(t);xD(e),xD(t);var i=n.parse(e),a=r.parse(t);n===yD&&(i=kD(i),n=uD),r===yD&&(a=kD(a),r=uD);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=bD(i[t],a[t],e));return o.alpha=PP(i.alpha,a.alpha,e),n.transform(o)}},SD={test:function(e){return uD.test(e)||cD.test(e)||yD.test(e)},parse:function(e){return uD.test(e)?uD.parse(e):yD.test(e)?yD.parse(e):cD.parse(e)},transform:function(e){return eD(e)?e:e.hasOwnProperty("red")?uD.transform(e):yD.transform(e)}},TD="${c}",ID="${n}";function CD(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(JP);r&&(n=r.length,e=e.replace(JP,TD),t.push.apply(t,Jt(r.map(SD.parse))));var i=e.match($P);return i&&(e=e.replace($P,ID),t.push.apply(t,Jt(i.map(tD.parse)))),{values:t,numColors:n,tokenised:e}}function AD(e){return CD(e).values}function ND(e){var t=CD(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?TD:ID,n<r?SD.transform(e[n]):XP(e[n]));return t}}var PD=function(e){return"number"===typeof e?0:e};var DD={test:function(e){var t,n,r,i;return isNaN(e)&&eD(e)&&(null!==(n=null===(t=e.match($P))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(JP))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:AD,createTransformer:ND,getAnimatableNone:function(e){var t=AD(e);return ND(e)(t.map(PD))}},RD=function(e){return"number"===typeof e},OD=function(e,t){return function(n){return t(e(n))}},LD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(OD)};function MD(e,t){return RD(e)?function(n){return PP(e,t,n)}:SD.test(e)?ED(e,t):UD(e,t)}var FD=function(e,t){var n=Jt(e),r=n.length,i=e.map((function(e,n){return MD(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},VD=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=MD(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function jD(e){for(var t=DD.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var UD=function(e,t){var n=DD.createTransformer(t),r=jD(e),i=jD(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?LD(FD(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},BD=function(e,t){return function(n){return PP(e,t,n)}};function zD(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?BD:"string"===typeof e?SD.test(e)?ED:UD:Array.isArray(e)?FD:"object"===typeof e?VD:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=LD(u,s)}r.push(s)}return r}function qD(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,1)[0];return function(e){return a(QP(r,i,e))}}function WD(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var u=QP(e[a],e[a+1],i);return t[a](u)}}function HD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=zD(t,a,o),c=2===s?qD(e,u):WD(e,u);return i?function(t){return c(jP(e[0],e[s-1],t))}:c}var KD,GD=function(e){return function(t){return 1-e(1-t)}},QD=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},YD=function(e){return function(t){return t*t*((e+1)*t-e)}},XD=function(e){return e},$D=(KD=2,function(e){return Math.pow(e,KD)}),JD=GD($D),ZD=QD($D),eR=function(e){return 1-Math.sin(Math.acos(e))},tR=GD(eR),nR=QD(tR),rR=YD(1.525),iR=GD(rR),aR=QD(rR),oR=function(e){var t=YD(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),sR=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},uR=GD(sR);function cR(e,t){return e.map((function(){return t||ZD})).splice(0,e.length-1)}function lR(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,s=e.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),u);function h(){return HD(f,l,{ease:Array.isArray(a)?a:cR(l,a)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=u,c},flipTarget:function(){l.reverse(),d=h()}}}var fR={keyframes:lR,spring:KP,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};function hR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var dR=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return NP.update(t,!0)},stop:function(){return EP.update(t)}}};function pR(e){var t,n,r,i,a,o=e.from,s=e.autoplay,u=void 0===s||s,c=e.driver,l=void 0===c?dR:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,k=e.onPlay,b=e.onStop,w=e.onComplete,_=e.onRepeat,x=e.onUpdate,E=ia(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),S=E.to,T=0,I=E.duration,C=!1,A=!0,N=function(e){if(Array.isArray(e.to))return lR;if(fR[e.type])return fR[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?lR:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?KP:lR}(E);(null===(n=(t=N).needsInterpolation)||void 0===n?void 0:n.call(t,o,S))&&(a=HD([0,100],[o,S],{clamp:!1}),o=0,S=100);var P=N(Object.assign(Object.assign({},E),{from:o,to:S}));function D(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:hR(t+-e,t,n)}(h,I,g,A=T%2===0):(h=hR(h,I,g),"mirror"===m&&P.flipTarget()),C=!1,_&&_()}function R(e){if(A||(e=-e),h+=e,!C){var t=P.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===x||void 0===x||x(i),C&&(0===T&&(null!==I&&void 0!==I||(I=h)),T<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,I,g,A)&&D():(r.stop(),w&&w()))}return u&&(null===k||void 0===k||k(),(r=l(R)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}var vR=function(e){return 1e3*e},mR=function(e,t){return 1-3*t+3*e},yR=function(e,t){return 3*t-6*e},gR=function(e){return 3*e},kR=function(e,t,n){return((mR(t,n)*e+yR(t,n))*e+gR(t))*e},bR=function(e,t,n){return 3*mR(t,n)*e*e+2*yR(t,n)*e+gR(t)};var wR=.1;function _R(e,t,n,r){if(e===t&&n===r)return XD;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=kR(a*wR,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=wR;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*wR,s=bR(o,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=bR(t,n,r);if(0===a)return t;t-=(kR(t,n,r)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0;do{(a=kR(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+wR,e,n)}return function(e){return 0===e||1===e?e:kR(o(e),t,r)}}var xR={linear:XD,easeIn:$D,easeInOut:ZD,easeOut:JD,circIn:eR,circInOut:nR,circOut:tR,backIn:rR,backInOut:aR,backOut:iR,anticipate:oR,bounceIn:uR,bounceInOut:function(e){return e<.5?.5*(1-sR(1-2*e)):.5*sR(2*e-1)+.5},bounceOut:sR},ER=function(e){if(Array.isArray(e)){e.length;var t=aa(e,4);return _R(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),xR[e]):e},SR=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!DD.test(t)||t.startsWith("url(")))},TR=function(e){return Array.isArray(e)},IR=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},CR=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},AR=function(){return{type:"keyframes",ease:"linear",duration:.3}},NR=function(e){return{type:"keyframes",duration:.8,values:e}},PR={x:IR,y:IR,z:IR,rotate:IR,rotateX:IR,rotateY:IR,rotateZ:IR,scaleX:CR,scaleY:CR,scale:CR,opacity:AR,backgroundColor:AR,color:AR,default:CR},DR=new Set(["brightness","contrast","saturate","opacity"]);function RR(e){var t=u(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=u(r.match($P)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=DR.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var OR=/([a-z-]*)\(.*?\)/g,LR=Object.assign(Object.assign({},DD),{getAnimatableNone:function(e){var t=e.match(OR);return t?t.map(RR).join(" "):e}}),MR=ra(ra({},tD),{transform:Math.round}),FR={borderWidth:dD,borderTopWidth:dD,borderRightWidth:dD,borderBottomWidth:dD,borderLeftWidth:dD,borderRadius:dD,radius:dD,borderTopLeftRadius:dD,borderTopRightRadius:dD,borderBottomRightRadius:dD,borderBottomLeftRadius:dD,width:dD,maxWidth:dD,height:dD,maxHeight:dD,size:dD,top:dD,right:dD,bottom:dD,left:dD,padding:dD,paddingTop:dD,paddingRight:dD,paddingBottom:dD,paddingLeft:dD,margin:dD,marginTop:dD,marginRight:dD,marginBottom:dD,marginLeft:dD,rotate:fD,rotateX:fD,rotateY:fD,rotateZ:fD,scale:rD,scaleX:rD,scaleY:rD,scaleZ:rD,skew:fD,skewX:fD,skewY:fD,distance:dD,translateX:dD,translateY:dD,translateZ:dD,x:dD,y:dD,z:dD,perspective:dD,transformPerspective:dD,opacity:nD,originX:mD,originY:mD,originZ:dD,zIndex:MR,fillOpacity:nD,strokeOpacity:nD,numOctaves:MR},VR=ra(ra({},FR),{color:SD,backgroundColor:SD,outlineColor:SD,fill:SD,stroke:SD,borderColor:SD,borderTopColor:SD,borderRightColor:SD,borderBottomColor:SD,borderLeftColor:SD,filter:LR,WebkitFilter:LR}),jR=function(e){return VR[e]};function UR(e,t){var n,r=jR(e);return r!==LR&&(r=DD),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var BR=!1,zR=function(e){return TR(e)?e[e.length-1]||0:e};function qR(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=ia(e,["ease","times","yoyo","flip","loop"]),s=ra({},o);return n&&(s.offset=n),o.duration&&(s.duration=vR(o.duration)),o.repeatDelay&&(s.repeatDelay=vR(o.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(ER):ER(t)),"tween"===o.type&&(s.type="keyframes"),(r||a||i)&&(!0,r?s.repeatType="reverse":a?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=a||r||i||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}function WR(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=oa([],aa(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=ia(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=ra(ra({},e),function(e,t){var n;return n=TR(t)?NR:PR[e]||PR.default,ra({to:t},n(t))}(n,t.to))),ra(ra({},t),qR(e))}function HR(e,t,n,r,i){var a,o=QR(r,e),s=null!==(a=o.from)&&void 0!==a?a:t.get(),u=SR(e,n);"none"===s&&u&&"string"===typeof n?s=UR(e,n):KR(s)&&"string"===typeof n?s=GR(n):!Array.isArray(n)&&KR(n)&&"string"===typeof s&&(n=GR(s));var c=SR(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),c&&u&&!1!==o.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,s=e.max,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,_=e.onStop;function x(e){return void 0!==o&&e<o||void 0!==s&&e>s}function E(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function S(e){null===t||void 0===t||t.stop(),t=pR(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:_}))}function T(e){S(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(x(r))T({from:r,velocity:a,to:E(r)});else{var I=c*a+r;"undefined"!==typeof g&&(I=g(I));var C,A,N=E(I),P=N===o?-1:1;S({type:"decay",from:r,velocity:a,timeConstant:f,power:c,restDelta:y,modifyTarget:g,onUpdate:x(I)?function(e){C=A,A=e,a=DP(e-C,AP().delta),(1===P&&e>N||-1===P&&e<N)&&T({from:e,to:N,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(ra(ra({},r),o)):pR(ra(ra({},WR(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,a=zR(n);return t.set(a),i(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,a),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function KR(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function GR(e){return"number"===typeof e?0:UR("",e)}function QR(e,t){return e[t]||e.default||e}function YR(e,t,n,r){return void 0===r&&(r={}),BR&&(r={type:!1}),t.start((function(i){var a,o,s=HR(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(QR(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),c=function(){return o=s()};return u?a=window.setTimeout(c,vR(u)):c(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var XR=["TopLeft","TopRight","BottomLeft","BottomRight"],$R=XR.length,JR=function(e){return"string"===typeof e?parseFloat(e):e},ZR=function(e){return"number"===typeof e||dD.test(e)};function eO(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var tO=rO(0,.5,tR),nO=rO(.5,.95,XD);function rO(e,t,n){return function(r){return r<e?0:r>t?1:n(QP(e,t,r))}}function iO(e,t){e.min=t.min,e.max=t.max}function aO(e,t){iO(e.x,t.x),iO(e.y,t.y)}function oO(e){return void 0===e||1===e}function sO(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!oO(t)||!oO(n)||!oO(r)}function uO(e){return sO(e)||cO(e.x)||cO(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function cO(e){return e&&"0%"!==e}function lO(e,t,n){return n+t*(e-n)}function fO(e,t,n,r,i){return void 0!==i&&(e=lO(e,i,r)),lO(e,n,r)+t}function hO(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=fO(e.min,t,n,r,i),e.max=fO(e.max,t,n,r,i)}function dO(e,t){var n=t.x,r=t.y;hO(e.x,n.translate,n.scale,n.originPoint),hO(e.y,r.translate,r.scale,r.originPoint)}function pO(e,t){e.min=e.min+t,e.max=e.max+t}function vO(e,t,n){var r=aa(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=PP(e.min,e.max,s);hO(e,t[i],t[a],u,t.scale)}var mO=["x","scaleX","originX"],yO=["y","scaleY","originY"];function gO(e,t){vO(e.x,t,mO),vO(e.y,t,yO)}var kO=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},bO=function(e){return kO(e)&&e.hasOwnProperty("z")},wO=function(e,t){return Math.abs(e-t)};function _O(e,t){if(RD(e)&&RD(t))return wO(e,t);if(kO(e)&&kO(t)){var n=wO(e.x,t.x),r=wO(e.y,t.y),i=bO(e)&&bO(t)?wO(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function xO(e){return e.max-e.min}function EO(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),_O(e,t)<n}function SO(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=PP(t.min,t.max,e.origin),e.scale=xO(n)/xO(t),(EO(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=PP(n.min,n.max,e.origin)-e.originPoint,(EO(e.translate)||isNaN(e.translate))&&(e.translate=0)}function TO(e,t,n,r){SO(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),SO(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function IO(e,t,n){e.min=n.min+t.min,e.max=e.min+xO(t)}function CO(e,t,n){e.min=t.min-n.min,e.max=e.min+xO(t)}function AO(e,t,n){CO(e.x,t.x,n.x),CO(e.y,t.y,n.y)}function NO(e,t,n,r,i){return e=lO(e-=t,1/n,r),void 0!==i&&(e=lO(e,1/i,r)),e}function PO(e,t,n,r,i){var a=aa(n,3),o=a[0],s=a[1],u=a[2];!function(e,t,n,r,i,a,o){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===a&&(a=e),void 0===o&&(o=e),hD.test(t)&&(t=parseFloat(t),t=PP(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=PP(a.min,a.max,r);e===a&&(s-=t),e.min=NO(e.min,t,n,s,i),e.max=NO(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var DO=["x","scaleX","originX"],RO=["y","scaleY","originY"];function OO(e,t,n,r){PO(e.x,t,DO,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),PO(e.y,t,RO,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function LO(e){return 0===e.translate&&1===e.scale}function MO(e){return LO(e.x)&&LO(e.y)}function FO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var VO=function(){function e(){this.members=[]}return e.prototype.add=function(e){RP(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(OP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),jO={};function UO(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),u&&(a+="rotateY(".concat(u,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(a+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":a}function BO(e){return[e("x"),e("y")]}var zO=["","X","Y","Z"],qO=["transformPerspective","x","y","z"];function WO(e,t){return qO.indexOf(e)-qO.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return zO.forEach((function(t){return qO.push(e+t)}))}));var HO=new Set(qO);function KO(e){return HO.has(e)}var GO=new Set(["originX","originY","originZ"]);function QO(e){return GO.has(e)}var YO=function(e,t){return e.depth-t.depth},XO=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){RP(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){OP(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(YO),this.isDirty=!1,this.children.forEach(e)},e}();function $O(e){var t=VP(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var JO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZO(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(oL),i.nodes.forEach(sL)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?oa(oa([],aa(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new XO)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new LP),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,oa([],aa(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),JO.hasAnimatedSinceResize&&(JO.hasAnimatedSinceResize=!1,i.nodes.forEach(aL))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,a,o,s=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:dL,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!i.targetLayout||!FO(i.targetLayout,f)||l,y=!c&&l;if((null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||y||c&&(m||!i.currentAnimation)){i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,y);var g=ra(ra({},QR(h,"layout")),{onPlay:p,onComplete:v});u.shouldReduceMotion&&(g.delay=0,g.type=!1),i.startAnimation(g)}else c||0!==i.animationProgress||i.finishAnimation(),i.isLead()&&(null===(o=(a=i.options).onExitComplete)||void 0===o||o.call(a));i.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,EP.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(uL))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,s=o.layoutId,u=o.layout;if(void 0!==s||u){var c=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(rL);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(pL),this.potentialNodes.clear()),this.nodes.forEach(iL),this.nodes.forEach(eL),this.nodes.forEach(tL),this.clearAllSnapshots(),SP.update(),SP.preRender(),SP.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(nL),this.sharedNodes.forEach(cL)},e.prototype.scheduleUpdateProjection=function(){NP.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;NP.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));mL(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();mL(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!MO(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,a=null===r||void 0===r?void 0:r(this.latestValues,""),o=a!==this.prevTransformTemplateValue;t&&(n||uO(this.latestValues)||o)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(pO(t.x,n.x),pO(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};aO(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;r!==this.root&&i&&a.layoutScroll&&(pO(t.x,i.x),pO(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};aO(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gO(n,{x:-i.scroll.x,y:-i.scroll.y}),uO(i.latestValues)&&gO(n,i.latestValues)}return uO(this.latestValues)&&gO(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};aO(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&uO(i.latestValues)){sO(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};aO(a,i.measure()),OO(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return uO(this.latestValues)&&OO(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=ra(ra(ra({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},AO(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),aO(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,IO(t.x,n.x,r.x),IO(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):aO(this.target,this.layout.actual),dO(this.target,this.targetDelta)):aO(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},AO(this.relativeTargetOrigin,this.target,this.relativeParent.target),aO(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!uO(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();aO(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,a;void 0===r&&(r=!1);var o=n.length;if(o){var s,u;t.x=t.y=1;for(var c=0;c<o;c++)u=(s=n[c]).projectionDelta,"contents"!==(null===(a=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===a?void 0:a.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gO(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,dO(e,u)),r&&uO(s.latestValues)&&gO(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;TO(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=UO(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=ra({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u={x:{min:0,max:0},y:{min:0,max:0}},c=null===i||void 0===i?void 0:i.isShared,l=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(hL));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;lL(s.x,e.x,i),lL(s.y,e.y,i),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(AO(u,r.layout.actual,r.relativeParent.layout.actual),function(e,t,n,r){fL(e.x,t.x,n.x,r),fL(e.y,t.y,n.y,r)}(r.relativeTarget,r.relativeTargetOrigin,u,i)),c&&(r.animationValues=o,function(e,t,n,r,i,a){var o,s,u,c;i?(e.opacity=PP(0,null!==(o=n.opacity)&&void 0!==o?o:1,tO(r)),e.opacityExit=PP(null!==(s=t.opacity)&&void 0!==s?s:1,0,nO(r))):a&&(e.opacity=PP(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<$R;l++){var f="border".concat(XR[l],"Radius"),h=eO(t,f),d=eO(n,f);void 0===h&&void 0===d||(h||(h=0),d||(d=0),0===h||0===d||ZR(h)===ZR(d)?(e[f]=Math.max(PP(JR(h),JR(d),r),0),(hD.test(d)||hD.test(h))&&(e[f]+="%")):e[f]=d)}(t.rotate||n.rotate)&&(e.rotate=PP(t.rotate||0,n.rotate||0,r))}(o,a,r.latestValues,i,f,l)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(EP.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=NP.update((function(){JO.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=VP(e)?e:FP(e);return YR("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,ra(ra({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(aO(t,n),gO(t,i),TO(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new VO),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<zO.length;r++){var i="rotate"+zO[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,a,o;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=$O(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=$O(e.pointerEvents)||""),this.hasProjected&&!uO(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1),l}var f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),s.transform=UO(this.projectionDeltaWithTransform,this.treeScale,f),u&&(s.transform=u(f,s.transform));var h=this.projectionDelta,d=h.x,p=h.y;for(var v in s.transformOrigin="".concat(100*d.origin,"% ").concat(100*p.origin,"% 0"),c.animationValues?s.opacity=c===this?null!==(i=null!==(r=f.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=c===this?null!==(a=f.opacity)&&void 0!==a?a:"":null!==(o=f.opacityExit)&&void 0!==o?o:0,jO)if(void 0!==f[v]){var m=jO[v],y=m.correct,g=m.applyTo,k=y(f[v],c);if(g)for(var b=g.length,w=0;w<b;w++)s[g[w]]=k;else s[v]=k}return this.options.layoutId&&(s.pointerEvents=c===this?$O(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(rL),this.root.sharedNodes.clear()},e}()}function eL(e){e.updateLayout()}function tL(e){var t,n,r,i,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var o=e.layout,s=o.actual,u=o.measured;"size"===e.options.animationType?BO((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=xO(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&BO((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=xO(s[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};TO(c,s,a.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a.isShared?TO(l,e.applyTransform(u,!0),a.measured):TO(l,s,a.layout);var f=!MO(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};AO(m,a.layout,p.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};AO(y,s,v.actual),FO(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function nL(e){e.clearSnapshot()}function rL(e){e.clearMeasurements()}function iL(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function aL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function oL(e){e.resolveTargetDelta()}function sL(e){e.calcProjection()}function uL(e){e.resetRotation()}function cL(e){e.removeLeadSnapshot()}function lL(e,t,n){e.translate=PP(t.translate,0,n),e.scale=PP(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function fL(e,t,n,r){e.min=PP(t.min,n.min,r),e.max=PP(t.max,n.max,r)}function hL(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var dL={duration:.45,ease:[.4,0,.1,1]};function pL(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function vL(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function mL(e){vL(e.x),vL(e.y)}var yL=1;var gL=(0,r.createContext)({}),kL=(0,r.createContext)({});var bL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return na(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(r.Component);function wL(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,s=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?HN.projectionNodeConstructor=e[t]:HN[t].Component=e[t])}(t),(0,r.forwardRef)((function(e,t){var u=function(e){var t,n=e.layoutId,i=null===(t=(0,r.useContext)(gL))||void 0===t?void 0:t.id;return i&&void 0!==n?i+"-"+n:n}(e);e=ra(ra({},e),{layoutId:u});var c=(0,r.useContext)(YN),l=null,f=fP(e),h=c.isStatic?void 0:dP((function(){if(JO.hasEverUpdated)return yL++})),d=o(e,c.isStatic);return!c.isStatic&&JN&&(f.visualElement=rP(s,d,ra(ra({},c),e),n),function(e,t,n,i){var a,o=t.layoutId,s=t.layout,u=t.drag,c=t.dragConstraints,l=t.layoutScroll,f=(0,r.useContext)(kL);i&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new i(e,n.getLatestValues(),null===(a=n.parent)||void 0===a?void 0:a.projection),n.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:Boolean(u)||c&&iP(c),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof s?s:"both",initialPromotionConfig:f,layoutScroll:l}))}(h,e,f.visualElement,i||HN.projectionNodeConstructor),l=function(e,t,n){var i=[];if((0,r.useContext)(KN),!t)return null;for(var a=0;a<QN;a++){var o=GN[a],s=HN[o],u=s.isEnabled,c=s.Component;u(e)&&c&&i.push(r.createElement(c,ra({key:o},e,{visualElement:t})))}return i}(e,f.visualElement)),r.createElement(bL,{visualElement:f.visualElement,props:ra(ra({},c),e)},l,r.createElement(XN.Provider,{value:f},a(s,e,h,function(e,t,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):iP(n)&&(n.current=r))}),[t])}(d,f.visualElement,t),d,c.isStatic,f.visualElement)))}))}function _L(e){function t(t,n){return void 0===n&&(n={}),wL(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var xL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function EL(e){return"string"===typeof e&&!e.includes("-")&&!!(xL.indexOf(e)>-1||/[A-Z]/.test(e))}function SL(e,t){var n=t.layout,r=t.layoutId;return KO(e)||QO(e)||(n||void 0!==r)&&(!!jO[e]||"opacity"===e)}var TL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function IL(e){return e.startsWith("--")}var CL=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function AL(e,t,n,r){var i,a=e.style,o=e.vars,s=e.transform,u=e.transformKeys,c=e.transformOrigin;u.length=0;var l=!1,f=!1,h=!0;for(var d in t){var p=t[d];if(IL(d))o[d]=p;else{var v=FR[d],m=CL(p,v);if(KO(d)){if(l=!0,s[d]=m,u.push(d),!h)continue;p!==(null!==(i=v.default)&&void 0!==i?i:0)&&(h=!1)}else QO(d)?(c[d]=m,f=!0):a[d]=m}}l?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,c=void 0===u||u,l="";a.sort(WO);for(var f=!1,h=a.length,d=0;d<h;d++){var p=a[d];l+="".concat(TL[p]||p,"(").concat(i[p],") "),"z"===p&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ,o=void 0===a?0:a;return"".concat(n," ").concat(i," ").concat(o)}(c))}var NL=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function PL(e,t,n){for(var r in t)VP(t[r])||SL(r,n)||(e[r]=t[r])}function DL(e,t,n){var i={};return PL(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};AL(e,t,{enableHardwareAcceleration:!n},i);var r=e.style;return ra(ra({},e.vars),r)}),[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}function RL(e,t,n){var r={},i=DL(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var OL=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function LL(e){return OL.has(e)}var ML,FL=function(e){return!LL(e)};try{(ML=require("@emotion/is-prop-valid").default)&&(FL=function(e){return e.startsWith("on")?!LL(e):ML(e)})}catch(FS){}function VL(e,t,n){return"string"===typeof e?e:dD.transform(t+n*e)}var jL={offset:"stroke-dashoffset",array:"stroke-dasharray"},UL={offset:"strokeDashoffset",array:"strokeDasharray"};function BL(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,u=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;AL(e,ia(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=VL(t,e.x,e.width),i=VL(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var a=i?jL:UL;e[a.offset]=dD.transform(-r);var o=dD.transform(t),s=dD.transform(n);e[a.array]="".concat(o," ").concat(s)}(d,u,l,h,!1)}var zL=function(){return ra(ra({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function qL(e,t){var n=(0,r.useMemo)((function(){var n=zL();return BL(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),ra(ra({},n.attrs),{style:ra({},n.style)})}),[t]);if(e.style){var i={};PL(i,e.style,e),n.style=ra(ra({},i),n.style)}return n}function WL(e){void 0===e&&(e=!1);return function(t,n,i,a,o,s){var u=o.latestValues,c=(EL(t)?qL:RL)(n,u,s),l=function(e,t,n){var r={};for(var i in e)(FL(i)||!0===n&&LL(i)||!t&&!LL(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),f=ra(ra(ra({},l),c),{ref:a});return i&&(f["data-projection-id"]=i),(0,r.createElement)(t,f)}}var HL=/([a-z])([A-Z])/g,KL=function(e){return e.replace(HL,"$1-$2").toLowerCase()};function GL(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var QL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function YL(e,t,n,r){for(var i in GL(e,t,void 0,r),t.attrs)e.setAttribute(QL.has(i)?i:KL(i),t.attrs[i])}function XL(e){var t=e.style,n={};for(var r in t)(VP(t[r])||SL(r,e))&&(n[r]=t[r]);return n}function $L(e){var t=XL(e);for(var n in e){if(VP(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function JL(e){return"object"===typeof e&&"function"===typeof e.start}function ZL(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:tM(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}var eM=function(e){return function(t,n){var i=(0,r.useContext)(XN),a=(0,r.useContext)($N);return n?ZL(e,t,i,a):dP((function(){return ZL(e,t,i,a)}))}};function tM(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var s in o)i[s]=$O(o[s]);var u=e.initial,c=e.animate,l=cP(e),f=lP(e);t&&f&&!l&&!1!==e.inherit&&(null!==u&&void 0!==u||(u=t.initial),null!==c&&void 0!==c||(c=t.animate));var h=a||!1===u,d=h?c:u;d&&"boolean"!==typeof d&&!JL(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=sP(e,t);if(n){var r=n.transitionEnd;n.transition;var a=ia(n,["transitionEnd","transition"]);for(var o in a){var s=a[o];if(Array.isArray(s))s=s[h?s.length-1:0];null!==s&&(i[o]=s)}for(var o in r)i[o]=r[o]}}));return i}var nM,rM={useVisualState:eM({scrapeMotionValuesFromProps:$L,createRenderState:zL,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}BL(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),YL(t,r)}})},iM={useVisualState:eM({scrapeMotionValuesFromProps:XL,createRenderState:NL})};function aM(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function oM(e,t,n,i){(0,r.useEffect)((function(){var r=e.current;if(n&&r)return aM(r,t,n,i)}),[e,t,n,i])}function sM(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function uM(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(nM||(nM={}));var cM={pageX:0,pageY:0};function lM(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||cM;return{x:n[t+"X"],y:n[t+"Y"]}}function fM(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function hM(e,t){return void 0===t&&(t="page"),{point:uM(e)?lM(e,t):fM(e,t)}}var dM=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,hM(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},pM={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},vM={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function mM(e){return JN&&null===window.onpointerdown?e:JN&&null===window.ontouchstart?vM[e]:JN&&null===window.onmousedown?pM[e]:e}function yM(e,t,n,r){return aM(e,mM(t),dM(n,"pointerdown"===t),r)}function gM(e,t,n,r){return oM(e,mM(t),n&&dM(n,"pointerdown"===t),r)}function kM(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var bM=kM("dragHorizontal"),wM=kM("dragVertical");function _M(e){var t=!1;if("y"===e)t=wM();else if("x"===e)t=bM();else{var n=bM(),r=wM();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function xM(){var e=_M(!0);return!e||(e(),!1)}function EM(e,t,n){return function(r,i){var a;sM(r)&&!xM()&&(null===(a=e.animationState)||void 0===a||a.setActive(nM.Hover,t),null===n||void 0===n||n(r,i))}}var SM=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function TM(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}var IM=new WeakMap,CM=new WeakMap,AM=function(e){var t;null===(t=IM.get(e.target))||void 0===t||t(e)},NM=function(e){e.forEach(AM)};function PM(e,t,n){var r=function(e){var t=e.root,n=ia(e,["root"]),r=t||document;CM.has(r)||CM.set(r,{});var i=CM.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(NM,ra({root:t},n))),i[a]}(t);return IM.set(e,n),r.observe(e),function(){IM.delete(e),r.unobserve(e)}}var DM={some:0,all:1};function RM(e,t,n,i){var a=i.root,o=i.margin,s=i.amount,u=void 0===s?"some":s,c=i.once;(0,r.useEffect)((function(){if(e){var r={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof u?u:DM[u]};return PM(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!c||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(nM.InView,i);var a=n.getProps(),o=i?a.onViewportEnter:a.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,a,o,u])}function OM(e,t,n,i){var a=i.fallback,o=void 0===a||a;(0,r.useEffect)((function(){e&&o&&requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null===r||void 0===r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(nM.InView,!0)}))}),[e])}var LM=function(e){return function(t){return e(t),null}},MM={inView:LM((function(e){var t=e.visualElement,n=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,s=void 0===o?{}:o,u=(0,r.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(n||i||a);s.once&&u.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?OM:RM)(c,u.current,t,s)})),tap:LM((function(e){var t=e.onTap,n=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,s=t||n||i||a,u=(0,r.useRef)(!1),c=(0,r.useRef)(null);function l(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return l(),u.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(nM.Tap,!1),!xM()}function h(e,n){f()&&(SM(o.getInstance(),e.target)?null===t||void 0===t||t(e,n):null===i||void 0===i||i(e,n))}function d(e,t){f()&&(null===i||void 0===i||i(e,t))}gM(o,"pointerdown",s?function(e,t){var r;l(),u.current||(u.current=!0,c.current=LD(yM(window,"pointerup",h),yM(window,"pointercancel",d)),null===(r=o.animationState)||void 0===r||r.setActive(nM.Tap,!0),null===n||void 0===n||n(e,t))}:void 0),TM(l)})),focus:LM((function(e){var t=e.whileFocus,n=e.visualElement;oM(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(nM.Focus,!0)}:void 0),oM(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(nM.Focus,!1)}:void 0)})),hover:LM((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;gM(i,"pointerenter",t||r?EM(i,!0,t):void 0),gM(i,"pointerleave",n||r?EM(i,!1,n):void 0)}))},FM=0,VM=function(){return FM++};function jM(){var e=(0,r.useContext)($N);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,a=dP(VM);(0,r.useEffect)((function(){return i(a)}),[]);return!t&&n?[!1,function(){return null===n||void 0===n?void 0:n(a)}]:[!0]}function UM(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var BM=function(e){return/^\-?\d*\.?\d+$/.test(e)},zM=function(e){return/^0[^.\s]+$/.test(e)},qM=function(e){return function(t){return t.test(e)}},WM=[tD,dD,hD,fD,vD,pD,{test:function(e){return"auto"===e},parse:function(e){return e}}],HM=function(e){return WM.find(qM(e))},KM=oa(oa([],aa(WM),!1),[SD,DD],!1),GM=function(e){return KM.find(qM(e))};function QM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,FP(n))}function YM(e,t){var n=uP(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i;r.transition;var o=ia(r,["transitionEnd","transition"]);for(var s in o=ra(ra({},o),a)){QM(e,s,zR(o[s]))}}function XM(e,t){if(t)return(t[e]||t.default||t).from}function $M(e,t,n){var r;void 0===n&&(n={});var i=uP(e,t,n.custom),a=(i||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var s=i?function(){return JM(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=o.delayChildren,a=void 0===i?0:i,s=o.staggerChildren,u=o.staggerDirection;return function(e,t,n,r,i,a){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(ZM).forEach((function(e,r){o.push($M(e,t,ra(ra({},a),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,a+r,s,u,n)}:function(){return Promise.resolve()},c=o.when;if(c){var l=aa("beforeChildren"===c?[s,u]:[u,s],2),f=l[0],h=l[1];return f().then(h)}return Promise.all([s(),u(n.delay)])}function JM(e,t,n){var r,i=void 0===n?{}:n,a=i.delay,o=void 0===a?0:a,s=i.transitionOverride,u=i.type,c=e.makeTargetAnimatable(t),l=c.transition,f=void 0===l?e.getDefaultTransition():l,h=c.transitionEnd,d=ia(c,["transition","transitionEnd"]);s&&(f=s);var p=[],v=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var m in d){var y=e.getValue(m),g=d[m];if(!(!y||void 0===g||v&&eF(v,m))){var k=ra({delay:o},f);e.shouldReduceMotion&&KO(m)&&(k=ra(ra({},k),{type:!1,delay:0}));var b=YR(m,y,g,k);p.push(b)}}return Promise.all(p).then((function(){h&&YM(e,h)}))}function ZM(e,t){return e.sortNodePosition(t)}function eF(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var tF=[nM.Animate,nM.InView,nM.Focus,nM.Hover,nM.Tap,nM.Drag,nM.Exit],nF=oa([],aa(tF),!1).reverse(),rF=tF.length;function iF(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return $M(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=$M(e,t,n);else{var a="function"===typeof t?uP(e,t,n.custom):t;r=JM(e,a,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function aF(e){var t=iF(e),n=function(){var e;return(e={})[nM.Animate]=oF(!0),e[nM.InView]=oF(),e[nM.Hover]=oF(),e[nM.Tap]=oF(),e[nM.Drag]=oF(),e[nM.Focus]=oF(),e[nM.Exit]=oF(),e}(),r={},i=!0,a=function(t,n){var r=uP(e,n);if(r){r.transition;var i=r.transitionEnd,a=ia(r,["transition","transitionEnd"]);t=ra(ra(ra({},t),a),i)}return t};function o(o,s){for(var u,c=e.getProps(),l=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var r=nF[t],v=n[r],m=null!==(u=c[r])&&void 0!==u?u:l[r],y=oP(m),g=r===s?v.isActive:null;!1===g&&(p=t);var k=m===l[r]&&m!==c[r]&&y;if(k&&i&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys=ra({},d),!v.isActive&&null===g||!m&&!v.prevProp||JL(m)||"boolean"===typeof m)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(aP(t))return!UM(t,e);return!1}(v.prevProp,m),w=b||r===s&&v.isActive&&!k&&y||t>p&&y,_=Array.isArray(m)?m:[m],x=_.reduce(a,{});!1===g&&(x={});var E=v.prevResolvedValues,S=void 0===E?{}:E,T=ra(ra({},S),x),I=function(e){w=!0,h.delete(e),v.needsAnimating[e]=!0};for(var C in T){var A=x[C],N=S[C];d.hasOwnProperty(C)||(A!==N?TR(A)&&TR(N)?!UM(A,N)||b?I(C):v.protectedKeys[C]=!0:void 0!==A?I(C):h.add(C):void 0!==A&&h.has(C)?I(C):v.protectedKeys[C]=!0)}v.prevProp=m,v.prevResolvedValues=x,v.isActive&&(d=ra(ra({},d),x)),i&&e.blockInitialAnimation&&(w=!1),w&&!k&&f.push.apply(f,oa([],aa(_.map((function(e){return{animation:e,options:ra({type:r},o)}}))),!1))},m=0;m<rF;m++)v(m);if(r=ra({},d),h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return i&&!1===c.initial&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function oF(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var sF={animation:LM((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=aF(t)),JL(n)&&(0,r.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:LM((function(e){var t=e.custom,n=e.visualElement,i=aa(jM(),2),a=i[0],o=i[1],s=(0,r.useContext)($N);(0,r.useEffect)((function(){var e,r;n.isPresent=a;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(nM.Exit,!a,{custom:null!==(r=null===s||void 0===s?void 0:s.custom)&&void 0!==r?r:t});!a&&(null===i||void 0===i||i.then(o))}),[a])}))},uF=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=fF(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=_O(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=AP().timestamp;r.history.push(ra(ra({},i),{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=cF(t,r.transformPagePoint),sM(e)&&0===e.buttons?r.handlePointerUp(e,t):NP.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=fF(cF(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(uM(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=cF(hM(e),this.transformPagePoint),o=a.point,s=AP().timestamp;this.history=[ra(ra({},o),{timestamp:s})];var u=t.onSessionStart;u&&u(e,fF(a,this.history)),this.removeListeners=LD(yM(window,"pointermove",this.handlePointerMove),yM(window,"pointerup",this.handlePointerUp),yM(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),EP.update(this.updatePoint)},e}();function cF(e,t){return t?{point:t(e.point)}:e}function lF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fF(e,t){var n=e.point;return{point:n,delta:lF(n,dF(t)),offset:lF(n,hF(t)),velocity:pF(t,.1)}}function hF(e){return e[0]}function dF(e){return e[e.length-1]}function pF(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=dF(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>vR(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vF(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mF(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=aa([i,r],2))[0],i=n[1]),{min:r,max:i}}var yF=.35;function gF(e,t,n){return{min:kF(e,t),max:kF(e,n)}}function kF(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function bF(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function wF(e,t){return bF(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var _F=new WeakMap,xF=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new uF(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(hM(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=_M(a),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),BO((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(hD.test(i)){var a=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(a)i=xO(a)*(parseFloat(i)/100)}n.originPoint[e]=i})),null===s||void 0===s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(nM.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(a&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==n.currentDirection&&(null===o||void 0===o||o(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(nM.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&EF(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?PP(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?PP(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&iP(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:vF(e.x,r,a),y:vF(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=yF),!1===e?e=0:!0===e&&(e=yF),{x:gF(e,"left","right"),y:gF(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&BO((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!iP(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=wF(e,n),i=t.scroll;return i&&(pO(r.x,i.x),pO(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:mF(e.x,t.x),y:mF(e.y,t.y)}}(i.layout.actual,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=bF(s))}return o},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=BO((function(n){var u;if(EF(n,r,t.currentDirection)){var l=null!==(u=null===c||void 0===c?void 0:c[n])&&void 0!==u?u:{};s&&(l={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=ra(ra({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,d)}}));return Promise.all(l).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return YR(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;BO((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;BO((function(n){if(EF(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,s=a.max;i.set(e[n]-PP(o,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(iP(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};BO((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=xO(e),i=xO(t);return i>r?n=QP(t.min,t.max-r,e.min):r>i&&(n=QP(e.min,e.max-i,t.min)),jP(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),BO((function(e){if(EF(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(PP(a,s,o[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;_F.set(this.visualElement,this);var n=yM(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){iP(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=aM(window,"resize",(function(){t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(BO((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){o(),n(),a()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?yF:c,f=e.dragMomentum,h=void 0===f||f;return ra(ra({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:h})},e}();function EF(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var SF={pan:LM((function(e){var t=e.onPan,n=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,s=t||n||i||a,u=(0,r.useRef)(null),c=(0,r.useContext)(YN).transformPagePoint,l={onSessionStart:a,onStart:n,onMove:t,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,r.useEffect)((function(){null!==u.current&&u.current.updateHandlers(l)})),gM(o,"pointerdown",s&&function(e){u.current=new uF(e,l,{transformPagePoint:c})}),TM((function(){return u.current&&u.current.end()}))})),drag:LM((function(e){var t=e.dragControls,n=e.visualElement,i=dP((function(){return new xF(n)}));(0,r.useEffect)((function(){return t&&t.subscribe(i)}),[i,t]),(0,r.useEffect)((function(){return i.addListeners()}),[i])}))},TF=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];var IF=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,c=e.removeValueFromRenderState,l=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,d=e.props,p=e.presenceId,v=e.blockInitialAnimation,m=e.visualState,y=e.shouldReduceMotion;void 0===t&&(t={});var g,k,b=!1,w=m.latestValues,_=m.renderState,x=function(){var e=TF.map((function(){return new LP})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){TF.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+TF[t]]=function(t){return e.add(t)},n["notify"+TF[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,oa([],aa(t),!1))}})),n}(),E=new Map,S=new Map,T={},I=ra({},w);function C(){g&&b&&(A(),s(g,_,d.style,F.projection))}function A(){r(F,_,w,t,d)}function N(){x.notifyUpdate(w)}function P(e,t){var n=t.onChange((function(t){w[e]=t,d.onUpdate&&NP.update(N,!1,!0)})),r=t.onRenderRequest(F.scheduleRender);S.set(e,(function(){n(),r()}))}var D=f(d);for(var R in D){var O=D[R];void 0!==w[R]&&VP(O)&&O.set(w[R],!1)}var L=cP(d),M=lP(d),F=ra(ra({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:p,shouldReduceMotion:y,variantChildren:M?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===h||void 0===h?void 0:h.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(g)},mount:function(e){b=!0,g=F.current=e,F.projection&&F.projection.mount(e),M&&h&&!L&&(k=null===h||void 0===h?void 0:h.addVariantChild(F)),E.forEach((function(e,t){return P(t,e)})),null===h||void 0===h||h.children.add(F),F.setProps(d)},unmount:function(){var e;null===(e=F.projection)||void 0===e||e.unmount(),EP.update(N),EP.render(C),S.forEach((function(e){return e()})),null===k||void 0===k||k(),null===h||void 0===h||h.children.delete(F),x.clearAllListeners(),g=void 0,b=!1},addVariantChild:function(e){var t,n=F.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(F.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return M?F:null===h||void 0===h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return d.layoutId},getInstance:function(){return g},getStaticValue:function(e){return w[e]},setStaticValue:function(e,t){return w[e]=t},getLatestValues:function(){return w},setVisibility:function(e){F.isVisible!==e&&(F.isVisible=e,F.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(F,e,d,t)},measureViewportBox:function(){return o(g,d)},addValue:function(e,t){F.hasValue(e)&&F.removeValue(e),E.set(e,t),w[e]=t.get(),P(e,t)},removeValue:function(e){var t;E.delete(e),null===(t=S.get(e))||void 0===t||t(),S.delete(e),delete w[e],c(e,_)},hasValue:function(e){return E.has(e)},getValue:function(e,t){var n=E.get(e);return void 0===n&&void 0!==t&&(n=FP(t),F.addValue(e,n)),n},forEachValue:function(e){return E.forEach(e)},readValue:function(e){var n;return null!==(n=w[e])&&void 0!==n?n:u(g,e,t)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(i){var t=i(d,e);if(void 0!==t&&!VP(t))return t}return I[e]}},x),{build:function(){return A(),_},scheduleRender:function(){NP.render(C,!1,!0)},syncRender:C,setProps:function(e){(e.transformTemplate||d.transformTemplate)&&F.scheduleRender(),d=e,x.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var a=t[i],o=n[i];if(VP(a))e.addValue(i,a);else if(VP(o))e.addValue(i,FP(a));else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else e.addValue(i,FP(null!==(r=e.getStaticValue(i))&&void 0!==r?r:a))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(F,f(d),T)},getProps:function(){return d},getVariant:function(e){var t;return null===(t=d.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return d.transition},getTransformPagePoint:function(){return d.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===h||void 0===h?void 0:h.getVariantContext();if(!L){var t=(null===h||void 0===h?void 0:h.getVariantContext())||{};return void 0!==d.initial&&(t.initial=d.initial),t}for(var n={},r=0;r<AF;r++){var i=CF[r],a=d[i];(oP(a)||!1===a)&&(n[i]=a)}return n}});return F}},CF=oa(["initial"],aa(tF),!1),AF=CF.length;function NF(e){return"string"===typeof e&&e.startsWith("var(--")}var PF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function DF(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=aa(function(e){var t=PF.exec(e);if(!t)return[,];var n=aa(t,3);return[n[1],n[2]]}(e),2),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():NF(a)?DF(a,t,n+1):a}}var RF,OF=new Set(["width","height","top","left","right","bottom","x","y"]),LF=function(e){return OF.has(e)},MF=function(e,t){e.set(t,!1),e.set(t)},FF=function(e){return e===tD||e===dD};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(RF||(RF={}));var VF=function(e,t){return parseFloat(e.split(", ")[t])},jF=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return VF(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?VF(o[1],e):0}},UF=new Set(["x","y","z"]),BF=qO.filter((function(e){return!UF.has(e)}));var zF={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:jF(4,13),y:jF(5,14)},qF=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=ra({},t),r=ra({},r);var i=Object.keys(t).filter(LF),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=HM(l),h=t[i];if(TR(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=HM(l);for(var v=p;v<d;v++)c?HM(h[v]):(c=HM(h[v]))===f||FF(f)&&FF(c)}else c=HM(h);if(f!==c)if(FF(f)&&FF(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===dD&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return BF.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],MF(u,h))}})),s.length){var u=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=zF[e](r,a)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);MF(r,s[n]),e[n]=zF[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=aa(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:u,transitionEnd:r}}return{target:t,transitionEnd:r}};function WF(e,t,n,r){return function(e){return Object.keys(e).some(LF)}(t)?qF(e,t,n,r):{target:t,transitionEnd:r}}var HF=function(e,t,n,r){var i=function(e,t,n){var r,i=ia(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(var o in n&&(n=ra({},n)),e.forEachValue((function(e){var t=e.get();if(NF(t)){var n=DF(t,a);n&&e.set(n)}})),i){var s=i[o];if(NF(s)){var u=DF(s,a);u&&(i[o]=u,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return WF(e,t=i.target,n,r=i.transitionEnd)};var KF={treeType:"dom",readValueFromInstance:function(e,t){if(KO(t)){var n=jR(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(IL(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return wF(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,s=ia(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=XM(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(s,a||{},e);if(i&&(o&&(o=i(o)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,a,o,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=t[l],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==h&&null!==h&&("string"===typeof h&&(BM(h)||zM(h))?h=parseFloat(h):!GM(h)&&DD.test(f)&&(h=UR(l,f)),e.addValue(l,FP(h)),null!==(a=(o=n)[l])&&void 0!==a||(o[l]=h),e.setBaseTarget(l,h))}}(e,s,u);var c=HF(e,s,u,o);o=c.transitionEnd,s=c.target}return ra({transition:a,transitionEnd:o},s)},scrapeMotionValuesFromProps:XL,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),AL(t,n,r,i.transformTemplate)},render:GL},GF=IF(KF),QF=IF(ra(ra({},KF),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return KO(t)?(null===(n=jR(t))||void 0===n?void 0:n.default)||0:(t=QL.has(t)?t:KL(t),e.getAttribute(t))},scrapeMotionValuesFromProps:$L,build:function(e,t,n,r,i){BL(t,n,r,i.transformTemplate)},render:YL})),YF=function(e,t){return EL(e)?QF(t,{enableHardwareAcceleration:!1}):GF(t,{enableHardwareAcceleration:!0})};function XF(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var $F={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!dD.test(e))return e;e=parseFloat(e)}var n=XF(e,t.target.x),r=XF(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},JF="_$css",ZF={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(PF,(function(e){return o.push(e),JF})));var s=DD.parse(e);if(s.length>5)return i;var u=DD.createTransformer(e),c="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=f;var h=PP(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=h),"number"===typeof s[3+c]&&(s[3+c]/=h);var d=u(s);if(a){var p=0;d=d.replace(JF,(function(){var e=o[p];return p++,e}))}return d}},eV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return na(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=tV,Object.assign(jO,e),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===a||void 0===a?void 0:a.register)&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(ra(ra({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),JO.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||NP.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(r.Component);var tV={borderRadius:ra(ra({},$F),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:$F,borderTopRightRadius:$F,borderBottomLeftRadius:$F,borderBottomRightRadius:$F,boxShadow:ZF},nV={measureLayout:function(e){var t=aa(jM(),2),n=t[0],i=t[1],a=(0,r.useContext)(gL);return r.createElement(eV,ra({},e,{layoutGroup:a,switchLayoutGroup:(0,r.useContext)(kL),isPresent:n,safeToRemove:i}))}},rV=ZO({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),iV={current:void 0},aV=ZO({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!iV.current){var e=new rV(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),iV.current=e}return iV.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),oV=ra(ra(ra(ra({},sF),MM),SF),nV),sV=_L((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a,s=EL(e)?rM:iM;return ra(ra({},s),{preloadedFeatures:n,useRender:WL(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,oV,YF,aV)}));var uV=["bsPrefix","variant","animation","size","as","className"],cV=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,s=void 0===o?"div":o,u=e.className,c=ae(e,uV);n=Be(n,"spinner");var l="".concat(n,"-").concat(i);return(0,Se.jsx)(s,re(re({ref:t},c),{},{className:se()(u,l,a&&"".concat(l,"-").concat(a),r&&"text-".concat(r))}))}));cV.displayName="Spinner";var lV=cV,fV=function(){var e=u((0,r.useState)([]),2),t=e[0],n=e[1],i=u((0,r.useState)(!0),2),a=i[0],o=i[1],s=V();return(0,r.useEffect)((function(){try{o(!0),zN.collection("imagenes").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(re(re({},e.data()),{},{id:e.id})),console.log(e.data().titulo)})),n(t),setTimeout((function(){o(!1)}),2e3)}))}catch(e){console.log("Error : ",e),o(!1)}}),[]),a?(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Cargando ..."}),(0,Se.jsx)(lV,{animation:"border",role:"status",children:(0,Se.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}):(0,Se.jsx)(Se.Fragment,{children:(0,Se.jsx)("div",{className:"img-grid",children:t&&t.map((function(e){return(0,Se.jsxs)("span",{children:[(0,Se.jsxs)("p",{children:[(0,Se.jsx)("b",{children:"T\xedtulo:"})," ",e.titulo]}),(0,Se.jsx)(sV.div,{layout:!0,whileHover:{opacity:1},className:"img-wrap",children:(0,Se.jsx)(sV.img,{src:e.url,alt:"Uploaded Pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id),(0,Se.jsxs)("p",{children:[(0,Se.jsx)("b",{children:"Precio:"})," ",e.precio]}),(0,Se.jsx)(ut,{onClick:function(){return s("/detalles/".concat(e.id))},children:"[Ver Detalles]"})]},e.id)}))})})};var hV=function(){return(0,Se.jsx)(Se.Fragment,{children:(0,Se.jsx)("center",{children:(0,Se.jsx)("div",{className:"title",children:(0,Se.jsx)("h1",{children:"Mis Publicaciones"})})})})};var dV=function(e,t,n,r,i){var a=function(){var a=J(ee().mark((function a(){return ee().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,zN.collection("imagenes").add({nombre:e.name,url:t,titulo:n,descripcion:r,precio:i,creado:qN});case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();console.log("document url:",t,"nombre:",e.name),a()};function pV(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function vV(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var mV=function(){return mV=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mV.apply(this,arguments)},yV=function(e){return{loading:void 0===e||null===e,value:e}},gV=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return mV(mV({},e),{error:t.error,loading:!1,value:void 0});case"reset":return yV(t.defaultValue);case"value":return mV(mV({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),yV(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])};var kV=function(){var e=u((0,r.useState)(null),2),t=e[0],n=e[1],i=u((0,r.useState)(""),2),a=i[0],o=i[1],s=V(),c=function(e,t){var n=gV((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,s=n.setValue,u=n.value;(0,r.useEffect)((function(){var n=Wu(e,(function(e){return pV(void 0,void 0,void 0,(function(){var n;return vV(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return s(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[u,a,i];return(0,r.useMemo)((function(){return c}),c)}(BN);u(c,1)[0];try{if(Wu(BN,(function(e){console.log("UserId: ",e.uid)})),BN.currentUser)return(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsxs)("div",{className:"container",children:[(0,Se.jsxs)("form",{id:"contactus",children:[(0,Se.jsx)("div",{children:(0,Se.jsx)("h3",{children:"Crear Publicaci\xf3n"})}),(0,Se.jsx)("input",{type:"text",label:"titulo",placeholder:"Titulo",id:"titulo"}),(0,Se.jsx)("textarea",{type:"text",label:"descripcion",placeholder:"Descripcion",id:"descripcion"}),(0,Se.jsx)("input",{type:"text",label:"precio",placeholder:"Precio",id:"precio"}),(0,Se.jsx)("br",{})," ",(0,Se.jsx)("br",{}),(0,Se.jsx)("input",{type:"file",onChange:function(e){e.preventDefault(),e.target.files[0]&&n(e.target.files[0])}}),(0,Se.jsx)("br",{}),(0,Se.jsx)("br",{}),(0,Se.jsxs)("button",{name:"upload",type:"submit",id:"contactus-submit","data-submit":"",onClick:function(e){e.preventDefault();var n,r,i,a=document.getElementById("descripcion").value,s=document.getElementById("precio").value,u=document.getElementById("titulo").value,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn(),t=arguments.length>1?arguments[1]:void 0;return Bn(e=Xt(e),TN).getImmediate({identifier:t})}(),l=PN(c,"imagenes/".concat(t.name));console.log("descripcion, vale: ",a),(n=l,r=t,fN(n=Xt(n),r,i)).then((function(e){NN(l).then((function(e){o(e),dV(t,e,u,a,s)}))}))},children:[(0,Se.jsx)("i",{id:"icon",className:""}),"Subir Imagen"]})]}),(0,Se.jsx)("br",{}),(0,Se.jsx)("br",{})]}),(0,Se.jsx)(hV,{}),(0,Se.jsxs)("div",{children:[a&&(0,Se.jsx)("img",{src:a,alt:"imagen",height:100}),(0,Se.jsx)(fV,{})]})]});s("/ingresar")}catch(l){console.log("Error",l.code)}};var bV=function(){return(0,Se.jsx)("div",{children:(0,Se.jsx)("h1",{children:"404 Not Found"})})};var wV=function(){var e=V(),t=function(){var e=(0,r.useContext)(b).matches,t=e[e.length-1];return t?t.params:{}}().id,n=u((0,r.useState)(""),2),i=n[0],a=n[1],o=u((0,r.useState)(""),2),s=o[0],c=o[1],l=u((0,r.useState)(""),2),f=l[0],h=l[1],d=u((0,r.useState)(""),2),p=d[0],v=d[1],m=u((0,r.useState)(""),2),y=m[0],g=m[1],k=u((0,r.useState)(!0),2),w=k[0],_=k[1];return(0,r.useEffect)((function(){var e=function(){var e=J(ee().mark((function e(){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("id es",t),_(!0),e.next=5,zN.collection("imagenes").doc(t).get();case 5:n=e.sent,console.log("response es",n.data()),a(n.data().url),c(n.data().titulo),h(n.data().descripcion),v(n.data().nombre),g(n.data().precio),setTimeout((function(){_(!1)}),2e3),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),_(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),w?(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Cargando ..."}),(0,Se.jsx)(lV,{animation:"border",role:"status",children:(0,Se.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}):(0,Se.jsx)(Se.Fragment,{children:(0,Se.jsx)("center",{children:(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:s}),(0,Se.jsx)("img",{src:i,alt:p,width:"200"}),(0,Se.jsx)("br",{}),(0,Se.jsx)("br",{}),(0,Se.jsx)("h4",{children:"Descripci\xf3n:"})," ",(0,Se.jsx)("p",{children:f}),(0,Se.jsx)("h4",{children:"Nombre Archivo:"})," ",(0,Se.jsx)("p",{children:p}),(0,Se.jsx)("h4",{children:"Precio:"})," ",(0,Se.jsx)("p",{children:y}),(0,Se.jsx)("input",{type:"button",value:"Volver!",onClick:function(){return e("/publicaciones")}})]})})})};var _V=function(){return(0,Se.jsxs)(W,{children:[(0,Se.jsx)(z,{path:"/",element:(0,Se.jsx)(Ir,{})}),(0,Se.jsx)(z,{path:"/home",element:(0,Se.jsx)(B,{to:"/"})}),(0,Se.jsx)(z,{path:"/alta",element:(0,Se.jsx)(Sh,{})}),(0,Se.jsx)(z,{path:"/ingresar",element:(0,Se.jsx)(Tr,{})}),(0,Se.jsx)(z,{path:"/publicaciones",element:(0,Se.jsx)(kV,{})}),(0,Se.jsx)(z,{path:"/detalles/:id",element:(0,Se.jsx)(wV,{})}),(0,Se.jsx)(z,{path:"*",element:(0,Se.jsx)(bV,{})})]})},xV=["bsPrefix","fluid","as","className"],EV=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=ae(e,xV),u=Be(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,Se.jsx)(a,re(re({ref:t},s),{},{className:se()(o,r?"".concat(u).concat(c):u)}))}));EV.displayName="Container",EV.defaultProps={fluid:!1};var SV=EV;var TV=function(){return(0,Se.jsxs)(Y,{children:[(0,Se.jsx)(Er,{}),(0,Se.jsx)(SV,{children:(0,Se.jsx)(_V,{})})]})},IV=(n(371),n(250)),CV=document.getElementById("root");(0,IV.s)(CV).render((0,Se.jsx)(r.StrictMode,{children:(0,Se.jsx)(TV,{})}))}()}();
//# sourceMappingURL=main.6a1adbd3.js.map